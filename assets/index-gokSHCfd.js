(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function _E(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Lm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function u1(){if(c_)return Ql;c_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var d_;function c1(){return d_||(d_=1,Lm.exports=u1()),Lm.exports}var v=c1(),Bm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function d1(){if(h_)return Re;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,z={};function j(P,ie,ce){this.props=P,this.context=ie,this.refs=z,this.updater=ce||I}j.prototype.isReactComponent={},j.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=j.prototype;function W(P,ie,ce){this.props=P,this.context=ie,this.refs=z,this.updater=ce||I}var Y=W.prototype=new $;Y.constructor=W,C(Y,j.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function D(P,ie,ce,se,ve,ke){return ce=ke.ref,{$$typeof:r,type:P,key:ie,ref:ce!==void 0?ce:null,props:ke}}function S(P,ie){return D(P.type,ie,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function O(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return ie[ce]})}var V=/\/+/g;function U(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):ie.toString(36)}function k(){}function yt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(k,k):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function le(P,ie,ce,se,ve){var ke=typeof P;(ke==="undefined"||ke==="boolean")&&(P=null);var xe=!1;if(P===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(P.$$typeof){case r:case e:xe=!0;break;case _:return xe=P._init,le(xe(P._payload),ie,ce,se,ve)}}if(xe)return ve=ve(P),xe=se===""?"."+U(P,0):se,re(ve)?(ce="",xe!=null&&(ce=xe.replace(V,"$&/")+"/"),le(ve,ie,ce,"",function(lr){return lr})):ve!=null&&(R(ve)&&(ve=S(ve,ce+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+xe)),ie.push(ve)),1;xe=0;var Vt=se===""?".":se+":";if(re(P))for(var nt=0;nt<P.length;nt++)se=P[nt],ke=Vt+U(se,nt),xe+=le(se,ie,ce,ke,ve);else if(nt=T(P),typeof nt=="function")for(P=nt.call(P),nt=0;!(se=P.next()).done;)se=se.value,ke=Vt+U(se,nt++),xe+=le(se,ie,ce,ke,ve);else if(ke==="object"){if(typeof P.then=="function")return le(yt(P),ie,ce,se,ve);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return xe}function X(P,ie,ce){if(P==null)return P;var se=[],ve=0;return le(P,se,"","",function(ke){return ie.call(ce,ke,ve++)}),se}function ue(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Fe(){}return Re.Children={map:X,forEach:function(P,ie,ce){X(P,function(){ie.apply(this,arguments)},ce)},count:function(P){var ie=0;return X(P,function(){ie++}),ie},toArray:function(P){return X(P,function(ie){return ie})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=j,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=a,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ae.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,ie,ce){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var se=C({},P.props),ve=P.key,ke=void 0;if(ie!=null)for(xe in ie.ref!==void 0&&(ke=void 0),ie.key!==void 0&&(ve=""+ie.key),ie)!de.call(ie,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ie.ref===void 0||(se[xe]=ie[xe]);var xe=arguments.length-2;if(xe===1)se.children=ce;else if(1<xe){for(var Vt=Array(xe),nt=0;nt<xe;nt++)Vt[nt]=arguments[nt+2];se.children=Vt}return D(P.type,ve,void 0,void 0,ke,se)},Re.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Re.createElement=function(P,ie,ce){var se,ve={},ke=null;if(ie!=null)for(se in ie.key!==void 0&&(ke=""+ie.key),ie)de.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=ie[se]);var xe=arguments.length-2;if(xe===1)ve.children=ce;else if(1<xe){for(var Vt=Array(xe),nt=0;nt<xe;nt++)Vt[nt]=arguments[nt+2];ve.children=Vt}if(P&&P.defaultProps)for(se in xe=P.defaultProps,xe)ve[se]===void 0&&(ve[se]=xe[se]);return D(P,ke,void 0,void 0,null,ve)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:m,render:P}},Re.isValidElement=R,Re.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ue}},Re.memo=function(P,ie){return{$$typeof:p,type:P,compare:ie===void 0?null:ie}},Re.startTransition=function(P){var ie=ae.T,ce={};ae.T=ce;try{var se=P(),ve=ae.S;ve!==null&&ve(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Fe,pe)}catch(ke){pe(ke)}finally{ae.T=ie}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(P){return ae.H.use(P)},Re.useActionState=function(P,ie,ce){return ae.H.useActionState(P,ie,ce)},Re.useCallback=function(P,ie){return ae.H.useCallback(P,ie)},Re.useContext=function(P){return ae.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ie){return ae.H.useDeferredValue(P,ie)},Re.useEffect=function(P,ie,ce){var se=ae.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(P,ie)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(P,ie,ce){return ae.H.useImperativeHandle(P,ie,ce)},Re.useInsertionEffect=function(P,ie){return ae.H.useInsertionEffect(P,ie)},Re.useLayoutEffect=function(P,ie){return ae.H.useLayoutEffect(P,ie)},Re.useMemo=function(P,ie){return ae.H.useMemo(P,ie)},Re.useOptimistic=function(P,ie){return ae.H.useOptimistic(P,ie)},Re.useReducer=function(P,ie,ce){return ae.H.useReducer(P,ie,ce)},Re.useRef=function(P){return ae.H.useRef(P)},Re.useState=function(P){return ae.H.useState(P)},Re.useSyncExternalStore=function(P,ie,ce){return ae.H.useSyncExternalStore(P,ie,ce)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.0",Re}var f_;function zg(){return f_||(f_=1,Bm.exports=d1()),Bm.exports}var B=zg();const bE=_E(B);var zm={exports:{}},Xl={},Fm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function h1(){return m_||(m_=1,function(r){function e(X,ue){var pe=X.length;X.push(ue);e:for(;0<pe;){var Fe=pe-1>>>1,P=X[Fe];if(0<o(P,ue))X[Fe]=ue,X[pe]=P,pe=Fe;else break e}}function t(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ue=X[0],pe=X.pop();if(pe!==ue){X[0]=pe;e:for(var Fe=0,P=X.length,ie=P>>>1;Fe<ie;){var ce=2*(Fe+1)-1,se=X[ce],ve=ce+1,ke=X[ve];if(0>o(se,pe))ve<P&&0>o(ke,se)?(X[Fe]=ke,X[ve]=pe,Fe=ve):(X[Fe]=se,X[ce]=pe,Fe=ce);else if(ve<P&&0>o(ke,pe))X[Fe]=ke,X[ve]=pe,Fe=ve;else break e}}return ue}function o(X,ue){var pe=X.sortIndex-ue.sortIndex;return pe!==0?pe:X.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var g=[],p=[],_=1,x=null,T=3,I=!1,C=!1,z=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var ue=t(p);ue!==null;){if(ue.callback===null)a(p);else if(ue.startTime<=X)a(p),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=t(p)}}function ae(X){if(z=!1,re(X),!C)if(t(g)!==null)C=!0,de||(de=!0,U());else{var ue=t(p);ue!==null&&le(ae,ue.startTime-X)}}var de=!1,D=-1,S=5,R=-1;function O(){return j?!0:!(r.unstable_now()-R<S)}function V(){if(j=!1,de){var X=r.unstable_now();R=X;var ue=!0;try{e:{C=!1,z&&(z=!1,W(D),D=-1),I=!0;var pe=T;try{t:{for(re(X),x=t(g);x!==null&&!(x.expirationTime>X&&O());){var Fe=x.callback;if(typeof Fe=="function"){x.callback=null,T=x.priorityLevel;var P=Fe(x.expirationTime<=X);if(X=r.unstable_now(),typeof P=="function"){x.callback=P,re(X),ue=!0;break t}x===t(g)&&a(g),re(X)}else a(g);x=t(g)}if(x!==null)ue=!0;else{var ie=t(p);ie!==null&&le(ae,ie.startTime-X),ue=!1}}break e}finally{x=null,T=pe,I=!1}ue=void 0}}finally{ue?U():de=!1}}}var U;if(typeof Y=="function")U=function(){Y(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,yt=k.port2;k.port1.onmessage=V,U=function(){yt.postMessage(null)}}else U=function(){$(V,0)};function le(X,ue){D=$(function(){X(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var pe=T;T=ue;try{return X()}finally{T=pe}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=T;T=X;try{return ue()}finally{T=pe}},r.unstable_scheduleCallback=function(X,ue,pe){var Fe=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Fe+pe:Fe):pe=Fe,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,X={id:_++,callback:ue,priorityLevel:X,startTime:pe,expirationTime:P,sortIndex:-1},pe>Fe?(X.sortIndex=pe,e(p,X),t(g)===null&&X===t(p)&&(z?(W(D),D=-1):z=!0,le(ae,pe-Fe))):(X.sortIndex=P,e(g,X),C||I||(C=!0,de||(de=!0,U()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var ue=T;return function(){var pe=T;T=ue;try{return X.apply(this,arguments)}finally{T=pe}}}}(qm)),qm}var g_;function f1(){return g_||(g_=1,Fm.exports=h1()),Fm.exports}var Hm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function m1(){if(p_)return nn;p_=1;var r=zg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,_){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:p,implementation:_}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},nn.flushSync=function(g){var p=d.T,_=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=p,a.p=_,a.d.f()}},nn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},nn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},nn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,x=m(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:I}):_==="script"&&a.d.X(g,{crossOrigin:x,integrity:T,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},nn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,x=m(_,p.crossOrigin);a.d.L(g,_,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},nn.requestFormReset=function(g){a.d.r(g)},nn.unstable_batchedUpdates=function(g,p){return g(p)},nn.useFormState=function(g,p,_){return d.H.useFormState(g,p,_)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var y_;function g1(){if(y_)return Hm.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=m1(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function p1(){if(v_)return Xl;v_=1;var r=f1(),e=zg(),t=g1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),n;if(f===l)return m(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var E=!1,w=h.child;w;){if(w===s){E=!0,s=h,l=f;break}if(w===l){E=!0,l=h,s=f;break}w=w.sibling}if(!E){for(w=f.child;w;){if(w===s){E=!0,s=f,l=h;break}if(w===l){E=!0,l=f,s=h;break}w=w.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function yt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case j:return"Profiler";case z:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case re:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:yt(n.type)||"Memo";case S:i=n._payload,n=n._init;try{return yt(n(i))}catch{}}return null}var le=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Fe=[],P=-1;function ie(n){return{current:n}}function ce(n){0>P||(n.current=Fe[P],Fe[P]=null,P--)}function se(n,i){P++,Fe[P]=n.current,n.current=i}var ve=ie(null),ke=ie(null),xe=ie(null),Vt=ie(null);function nt(n,i){switch(se(xe,i),se(ke,n),se(ve,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Uv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Uv(i),n=Lv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ve),se(ve,n)}function lr(){ce(ve),ce(ke),ce(xe)}function bi(n){n.memoizedState!==null&&se(Vt,n);var i=ve.current,s=Lv(i,n.type);i!==s&&(se(ke,n),se(ve,s))}function Pr(n){ke.current===n&&(ce(ve),ce(ke)),Vt.current===n&&(ce(Vt),Hl._currentValue=pe)}var Ta=Object.prototype.hasOwnProperty,wa=r.unstable_scheduleCallback,xa=r.unstable_cancelCallback,zo=r.unstable_shouldYield,zu=r.unstable_requestPaint,On=r.unstable_now,Uh=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,Es=r.unstable_UserBlockingPriority,Aa=r.unstable_NormalPriority,Lh=r.unstable_LowPriority,Ts=r.unstable_IdlePriority,qo=r.log,Fu=r.unstable_setDisableYieldValue,dt=null,$e=null;function En(n){if(typeof qo=="function"&&Fu(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(dt,n)}catch{}}var en=Math.clz32?Math.clz32:Sa,qu=Math.log,Bh=Math.LN2;function Sa(n){return n>>>=0,n===0?32:31-(qu(n)/Bh|0)|0}var Ra=256,Na=4194304;function Qn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ws(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,f=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?h=Qn(l):(E&=w,E!==0?h=Qn(E):s||(s=w&~n,s!==0&&(h=Qn(s))))):(w=l&~f,w!==0?h=Qn(w):E!==0?h=Qn(E):s||(s=l&~n,s!==0&&(h=Qn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function Ca(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ho(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=Ra;return Ra<<=1,(Ra&4194048)===0&&(Ra=256),n}function $o(){var n=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),n}function Mr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Vr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ko(n,i,s,l,h,f){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,H=n.hiddenUpdates;for(s=E&~s;0<s;){var J=31-en(s),te=1<<J;w[J]=0,N[J]=-1;var G=H[J];if(G!==null)for(H[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}s&=~te}l!==0&&ur(n,l,0),f!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=f&~(E&~i))}function ur(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-en(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function Yo(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-en(s),h=1<<l;h&i|n[l]&i&&(n[l]|=i),s&=~h}}function Ei(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function xs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ti(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:i_(n.type))}function Hu(n,i){var s=ue.p;try{return ue.p=n,i()}finally{ue.p=s}}var st=Math.random().toString(36).slice(2),kt="__reactFiber$"+st,Tt="__reactProps$"+st,Pn="__reactContainer$"+st,Qo="__reactEvents$"+st,zh="__reactListeners$"+st,wi="__reactHandles$"+st,Gu="__reactResources$"+st,ka="__reactMarker$"+st;function xi(n){delete n[kt],delete n[Tt],delete n[Qo],delete n[zh],delete n[wi]}function jr(n){var i=n[kt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[Pn]||s[kt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=qv(n);n!==null;){if(s=n[kt])return s;n=qv(n)}return i}n=s,s=n.parentNode}return null}function cr(n){if(n=n[kt]||n[Pn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function dr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ln(n){var i=n[Gu];return i||(i=n[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(n){n[ka]=!0}var Xo=new Set,As={};function Xn(n,i){Ur(n,i),Ur(n+"Capture",i)}function Ur(n,i){for(As[n]=i,n=0;n<i.length;n++)Xo.add(i[n])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Ia={};function Yu(n){return Ta.call(Ia,n)?!0:Ta.call(Ku,n)?!1:$u.test(n)?Ia[n]=!0:(Ku[n]=!0,!1)}function Ai(n,i,s){if(Yu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function hr(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Ht(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}var Da,Qu;function Lr(n){if(Da===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Da=i&&i[1]||"",Qu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+n+Qu}var Ss=!1;function Rs(n,i){if(!n||Ss)return"";Ss=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var G=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){G=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){G=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],w=f[1];if(E&&w){var N=E.split(`
`),H=w.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var J=`
`+N[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=h);break}}}finally{Ss=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Lr(s):""}function Wo(n){switch(n.tag){case 26:case 27:case 5:return Lr(n.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return Lr("Activity");default:return""}}function Ns(n){try{var i="";do i+=Wo(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fh(n){var i=Jo(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Cs(n){n._valueTracker||(n._valueTracker=Fh(n))}function Zo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=Jo(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Oa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qh=/[\n"\\]/g;function wt(n){return n.replace(qh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tn(n,i,s,l,h,f,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+un(i)):n.value!==""+un(i)&&(n.value=""+un(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Si(n,E,un(i)):s!=null?Si(n,E,un(s)):l!=null&&n.removeAttribute("value"),h==null&&f!=null&&(n.defaultChecked=!!f),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+un(w):n.removeAttribute("name")}function Pa(n,i,s,l,h,f,E,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+un(s):"",i=i!=null?""+un(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Si(n,i,s){i==="number"&&Oa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Br(n,i,s,l){if(n=n.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=i.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&l&&(n[s].defaultSelected=!0)}else{for(s=""+un(s),i=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Xe(n,i,s){if(i!=null&&(i=""+un(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+un(s):""}function Ma(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(le(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=un(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function Mn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||Va.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function el(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Xu(n,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Xu(n,f,i[f])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(n){return Gh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var zr=null;function Vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fr=null,qr=null;function nl(n){var i=cr(n);if(i&&(n=i.stateNode)){var s=n[Tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Tn(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(a(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&Zo(l)}break e;case"textarea":Xe(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Br(n,!!s.multiple,i,!1)}}}var fr=!1;function Wu(n,i,s){if(fr)return n(i,s);fr=!0;try{var l=n(i);return l}finally{if(fr=!1,(Fr!==null||qr!==null)&&(Hc(),Fr&&(i=Fr,n=qr,qr=Fr=null,nl(i),n)))for(i=0;i<n.length;i++)nl(n[i])}}function ja(n,i){var s=n.stateNode;if(s===null)return null;var l=s[Tt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Wn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{jn=!1}var mr=null,Ri=null,Hr=null;function rl(){if(Hr)return Hr;var n,i=Ri,s=i.length,l,h="value"in mr?mr.value:mr.textContent,f=h.length;for(n=0;n<s&&i[n]===h[n];n++);var E=s-n;for(l=1;l<=E&&i[s-l]===h[f-l];l++);return Hr=h.slice(n,1<l?1-l:void 0)}function gr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pr(){return!0}function il(){return!1}function jt(n){function i(s,l,h,f,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?pr:il,this.isPropagationStopped=il,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=jt(He),La=_({},He,{view:0,detail:0}),Ju=jt(La),Ds,Os,yr,Ba=_({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yr&&(yr&&n.type==="mousemove"?(Ds=n.screenX-yr.screenX,Os=n.screenY-yr.screenY):Os=Ds=0,yr=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:Os}}),Un=jt(Ba),Zu=_({},Ba,{dataTransfer:0}),$h=jt(Zu),za=_({},La,{relatedTarget:0}),Ps=jt(za),al=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=jt(al),ec=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vs=jt(ec),Kh=_({},He,{data:0}),sl=jt(Kh),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=nc[n])?!!i[n]:!1}function qa(){return ol}var rc=_({},La,{key:function(n){if(n.key){var i=Fa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(n){return n.type==="keypress"?gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),js=jt(rc),ic=_({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=jt(ic),Gr=_({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),ac=jt(Gr),sc=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=jt(sc),lc=_({},Ba,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Us=jt(lc),cn=_({},He,{newState:0,oldState:0}),uc=jt(cn),cc=[9,13,27,32],vr=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var y=Wn&&"TextEvent"in window&&!c,b=Wn&&(!vr||c&&8<c&&11>=c),A=" ",F=!1;function Q(n,i){switch(n){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function It(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return n=i.data,n===A&&F?null:n;default:return null}}function je(n,i){if(Ve)return n==="compositionend"||!vr&&Q(n,i)?(n=rl(),Hr=Ri=mr=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ut[n.type]:i==="textarea"}function $r(n,i,s,l){Fr?qr?qr.push(l):qr=[l]:Fr=l,i=Xc(i,"onChange"),0<i.length&&(s=new Is("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var Gt=null,_r=null;function ul(n){Ov(n,0)}function dc(n){var i=dr(n);if(Zo(i))return n}function ey(n,i){if(n==="change")return i}var ty=!1;if(Wn){var Yh;if(Wn){var Qh="oninput"in document;if(!Qh){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Qh=typeof ny.oninput=="function"}Yh=Qh}else Yh=!1;ty=Yh&&(!document.documentMode||9<document.documentMode)}function ry(){Gt&&(Gt.detachEvent("onpropertychange",iy),_r=Gt=null)}function iy(n){if(n.propertyName==="value"&&dc(_r)){var i=[];$r(i,_r,n,Vn(n)),Wu(ul,i)}}function Lx(n,i,s){n==="focusin"?(ry(),Gt=i,_r=s,Gt.attachEvent("onpropertychange",iy)):n==="focusout"&&ry()}function Bx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dc(_r)}function zx(n,i){if(n==="click")return dc(i)}function Fx(n,i){if(n==="input"||n==="change")return dc(i)}function qx(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var wn=typeof Object.is=="function"?Object.is:qx;function cl(n,i){if(wn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ta.call(i,h)||!wn(n[h],i[h]))return!1}return!0}function ay(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sy(n,i){var s=ay(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ay(s)}}function oy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?oy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ly(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Oa(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Oa(n.document)}return i}function Xh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Hx=Wn&&"documentMode"in document&&11>=document.documentMode,Ls=null,Wh=null,dl=null,Jh=!1;function uy(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||Ls==null||Ls!==Oa(l)||(l=Ls,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&cl(dl,l)||(dl=l,l=Xc(Wh,"onSelect"),0<l.length&&(i=new Is("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=Ls)))}function Ha(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Bs={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Zh={},cy={};Wn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ga(n){if(Zh[n])return Zh[n];if(!Bs[n])return n;var i=Bs[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in cy)return Zh[n]=i[s];return n}var dy=Ga("animationend"),hy=Ga("animationiteration"),fy=Ga("animationstart"),Gx=Ga("transitionrun"),$x=Ga("transitionstart"),Kx=Ga("transitioncancel"),my=Ga("transitionend"),gy=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Jn(n,i){gy.set(n,i),Xn(i,[n])}var py=new WeakMap;function Ln(n,i){if(typeof n=="object"&&n!==null){var s=py.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Ns(i)},py.set(n,i),i)}return{value:n,source:i,stack:Ns(i)}}var Bn=[],zs=0,tf=0;function hc(){for(var n=zs,i=tf=zs=0;i<n;){var s=Bn[i];Bn[i++]=null;var l=Bn[i];Bn[i++]=null;var h=Bn[i];Bn[i++]=null;var f=Bn[i];if(Bn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&yy(s,h,f)}}function fc(n,i,s,l){Bn[zs++]=n,Bn[zs++]=i,Bn[zs++]=s,Bn[zs++]=l,tf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nf(n,i,s,l){return fc(n,i,s,l),mc(n)}function Fs(n,i){return fc(n,null,null,i),mc(n)}function yy(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=n.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(h=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,h&&i!==null&&(h=31-en(s),n=f.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function mc(n){if(50<Vl)throw Vl=0,um=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var qs={};function Yx(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(n,i,s,l){return new Yx(n,i,s,l)}function rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kr(n,i){var s=n.alternate;return s===null?(s=xn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function vy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function gc(n,i,s,l,h,f){var E=0;if(l=n,typeof n=="function")rf(n)&&(E=1);else if(typeof n=="string")E=XA(n,s,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=xn(31,s,i,h),n.elementType=R,n.lanes=f,n;case C:return $a(s.children,h,f,i);case z:E=8,h|=24;break;case j:return n=xn(12,s,i,h|2),n.elementType=j,n.lanes=f,n;case ae:return n=xn(13,s,i,h),n.elementType=ae,n.lanes=f,n;case de:return n=xn(19,s,i,h),n.elementType=de,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:case Y:E=10;break e;case W:E=9;break e;case re:E=11;break e;case D:E=14;break e;case S:E=16,l=null;break e}E=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=xn(E,s,i,h),i.elementType=n,i.type=l,i.lanes=f,i}function $a(n,i,s,l){return n=xn(7,n,l,i),n.lanes=s,n}function af(n,i,s){return n=xn(6,n,null,i),n.lanes=s,n}function sf(n,i,s){return i=xn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Hs=[],Gs=0,pc=null,yc=0,zn=[],Fn=0,Ka=null,Yr=1,Qr="";function Ya(n,i){Hs[Gs++]=yc,Hs[Gs++]=pc,pc=n,yc=i}function _y(n,i,s){zn[Fn++]=Yr,zn[Fn++]=Qr,zn[Fn++]=Ka,Ka=n;var l=Yr;n=Qr;var h=32-en(l)-1;l&=~(1<<h),s+=1;var f=32-en(i)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Yr=1<<32-en(i)+h|s<<h|l,Qr=f+n}else Yr=1<<f|s<<h|l,Qr=n}function of(n){n.return!==null&&(Ya(n,1),_y(n,1,0))}function lf(n){for(;n===pc;)pc=Hs[--Gs],Hs[Gs]=null,yc=Hs[--Gs],Hs[Gs]=null;for(;n===Ka;)Ka=zn[--Fn],zn[Fn]=null,Qr=zn[--Fn],zn[Fn]=null,Yr=zn[--Fn],zn[Fn]=null}var dn=null,ht=null,qe=!1,Qa=null,br=!1,uf=Error(a(519));function Xa(n){var i=Error(a(418,""));throw ml(Ln(i,n)),uf}function by(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[kt]=n,i[Tt]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<Ul.length;s++)Oe(Ul[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Pa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Cs(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ma(i,l.value,l.defaultValue,l.children),Cs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||jv(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||Xa(n)}function Ey(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:dn=dn.return}}function hl(n){if(n!==dn)return!1;if(!qe)return Ey(n),qe=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Am(n.type,n.memoizedProps)),s=!s),s&&ht&&Xa(n),Ey(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){ht=er(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}ht=null}}else i===27?(i=ht,qi(n.type)?(n=Cm,Cm=null,ht=n):ht=i):ht=dn?er(n.stateNode.nextSibling):null;return!0}function fl(){ht=dn=null,qe=!1}function Ty(){var n=Qa;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Qa=null),n}function ml(n){Qa===null?Qa=[n]:Qa.push(n)}var cf=ie(null),Wa=null,Xr=null;function Ni(n,i,s){se(cf,i._currentValue),i._currentValue=s}function Wr(n){n._currentValue=cf.current,ce(cf)}function df(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function hf(n,i,s,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var N=0;N<i.length;N++)if(w.context===i[N]){f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),df(f.return,s,n),l||(E=null);break e}f=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),df(E,s,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function gl(n,i,s,l){n=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=h.type;wn(h.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(h===Vt.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}h=h.return}n!==null&&hf(i,n,s,l),i.flags|=262144}function vc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ja(n){Wa=n,Xr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return wy(Wa,n)}function _c(n,i){return Wa===null&&Ja(n),wy(n,i)}function wy(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Xr===null){if(n===null)throw Error(a(308));Xr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Xr=Xr.next=i;return s}var Qx=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},Xx=r.unstable_scheduleCallback,Wx=r.unstable_NormalPriority,Ot={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new Qx,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&Xx(Wx,function(){n.controller.abort()})}var yl=null,mf=0,$s=0,Ks=null;function Jx(n,i){if(yl===null){var s=yl=[];mf=0,$s=pm(),Ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mf++,i.then(xy,xy),i}function xy(){if(--mf===0&&yl!==null){Ks!==null&&(Ks.status="fulfilled");var n=yl;yl=null,$s=0,Ks=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Zx(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Ay=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jx(n,i),Ay!==null&&Ay(n,i)};var Za=ie(null);function gf(){var n=Za.current;return n!==null?n:rt.pooledCache}function bc(n,i){i===null?se(Za,Za.current):se(Za,i.pool)}function Sy(){var n=gf();return n===null?null:{parent:Ot._currentValue,pool:n}}var vl=Error(a(460)),Ry=Error(a(474)),Ec=Error(a(542)),pf={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function Cy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Tc,Tc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Iy(n),n;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Iy(n),n}throw _l=i,vl}}var _l=null;function ky(){if(_l===null)throw Error(a(459));var n=_l;return _l=null,n}function Iy(n){if(n===vl||n===Ec)throw Error(a(483))}var Ci=!1;function yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ki(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ii(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=mc(n),yy(n,null,s),i}return fc(n,l,i,s),mc(n)}function bl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Yo(n,s)}}function _f(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var bf=!1;function El(){if(bf){var n=Ks;if(n!==null)throw n}}function Tl(n,i,s,l){bf=!1;var h=n.updateQueue;Ci=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,H=N.next;N.next=null,E===null?f=H:E.next=H,E=N;var J=n.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=H:w.next=H,J.lastBaseUpdate=N))}if(f!==null){var te=h.baseState;E=0,J=H=N=null,w=f;do{var G=w.lane&-536870913,K=G!==w.lane;if(K?(Ue&G)===G:(l&G)===G){G!==0&&G===$s&&(bf=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=n,_e=w;G=i;var Ze=s;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){te=we.call(Ze,te,G);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,G=typeof we=="function"?we.call(Ze,te,G):we,G==null)break e;te=_({},te,G);break e;case 2:Ci=!0}}G=w.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(H=J=K,N=te):J=J.next=K,E|=G;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;K=w,w=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(N=te),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Li|=E,n.lanes=E,n.memoizedState=te}}function Dy(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Oy(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Dy(s[n],i)}var Ys=ie(null),wc=ie(0);function Py(n,i){n=ii,se(wc,n),se(Ys,i),ii=n|i.baseLanes}function Ef(){se(wc,ii),se(Ys,Ys.current)}function Tf(){ii=wc.current,ce(Ys),ce(wc)}var Di=0,Ne=null,We=null,xt=null,xc=!1,Qs=!1,es=!1,Ac=0,wl=0,Xs=null,eA=0;function _t(){throw Error(a(321))}function wf(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!wn(n[s],i[s]))return!1;return!0}function xf(n,i,s,l,h,f){return Di=f,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?y0:v0,es=!1,f=s(l,h),es=!1,Qs&&(f=Vy(i,s,l,h)),My(n),f}function My(n){X.H=Ic;var i=We!==null&&We.next!==null;if(Di=0,xt=We=Ne=null,xc=!1,wl=0,Xs=null,i)throw Error(a(300));n===null||Lt||(n=n.dependencies,n!==null&&vc(n)&&(Lt=!0))}function Vy(n,i,s,l){Ne=n;var h=0;do{if(Qs&&(Xs=null),wl=0,Qs=!1,25<=h)throw Error(a(301));if(h+=1,xt=We=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=oA,f=i(s,l)}while(Qs);return f}function tA(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?xl(i):i,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Ne.flags|=1024),i}function Af(){var n=Ac!==0;return Ac=0,n}function Sf(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Rf(n){if(xc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xc=!1}Di=0,xt=We=Ne=null,Qs=!1,wl=Ac=0,Xs=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ne.memoizedState=xt=n:xt=xt.next=n,xt}function At(){if(We===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var i=xt===null?Ne.memoizedState:xt.next;if(i!==null)xt=i,We=n;else{if(n===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?Ne.memoizedState=xt=n:xt=xt.next=n}return xt}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var i=wl;return wl+=1,Xs===null&&(Xs=[]),n=Cy(Xs,n,i),i=Ne,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?y0:v0),n}function Sc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===Y)return tn(n)}throw Error(a(438,String(n)))}function Cf(n){var i=null,s=Ne.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Nf(),Ne.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=O;return i.index++,s}function Jr(n,i){return typeof i=="function"?i(n):i}function Rc(n){var i=At();return kf(i,We,n)}function kf(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=n.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}i.baseQueue=h=f,l.pending=null}if(f=n.baseState,h===null)n.memoizedState=f;else{i=h.next;var w=E=null,N=null,H=i,J=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Ue&te)===te:(Di&te)===te){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===$s&&(J=!0);else if((Di&G)===G){H=H.next,G===$s&&(J=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=te,E=f):N=N.next=te,Ne.lanes|=G,Li|=G;te=H.action,es&&s(f,te),f=H.hasEagerState?H.eagerState:s(f,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(w=N=G,E=f):N=N.next=G,Ne.lanes|=te,Li|=te;H=H.next}while(H!==null&&H!==i);if(N===null?E=f:N.next=w,!wn(f,n.memoizedState)&&(Lt=!0,J&&(s=Ks,s!==null)))throw s;n.memoizedState=f,n.baseState=E,n.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function If(n){var i=At(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do f=n(f,E.action),E=E.next;while(E!==h);wn(f,i.memoizedState)||(Lt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function jy(n,i,s){var l=Ne,h=At(),f=qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!wn((We||h).memoizedState,s);E&&(h.memoizedState=s,Lt=!0),h=h.queue;var w=By.bind(null,l,h,n);if(Al(2048,8,w,[n]),h.getSnapshot!==i||E||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ws(9,Nc(),Ly.bind(null,l,h,s,i),null),rt===null)throw Error(a(349));f||(Di&124)!==0||Uy(l,i,s)}return s}function Uy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ne.updateQueue,i===null?(i=Nf(),Ne.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Ly(n,i,s,l){i.value=s,i.getSnapshot=l,zy(i)&&Fy(n)}function By(n,i,s){return s(function(){zy(i)&&Fy(n)})}function zy(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!wn(n,s)}catch{return!0}}function Fy(n){var i=Fs(n,2);i!==null&&Cn(i,n,2)}function Df(n){var i=mn();if(typeof n=="function"){var s=n;if(n=s(),es){En(!0);try{s()}finally{En(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:n},i}function qy(n,i,s,l){return n.baseState=s,kf(n,We,typeof l=="function"?l:Jr)}function nA(n,i,s,l,h){if(kc(n))throw Error(a(485));if(n=i.action,n!==null){var f={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,Hy(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Hy(n,i){var s=i.action,l=i.payload,h=n.state;if(i.isTransition){var f=X.T,E={};X.T=E;try{var w=s(h,l),N=X.S;N!==null&&N(E,w),Gy(n,i,w)}catch(H){Of(n,i,H)}finally{X.T=f}}else try{f=s(h,l),Gy(n,i,f)}catch(H){Of(n,i,H)}}function Gy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$y(n,i,l)},function(l){return Of(n,i,l)}):$y(n,i,s)}function $y(n,i,s){i.status="fulfilled",i.value=s,Ky(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Hy(n,s)))}function Of(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Ky(i),i=i.next;while(i!==l)}n.action=null}function Ky(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Yy(n,i){return i}function Qy(n,i){if(qe){var s=rt.formState;if(s!==null){e:{var l=Ne;if(qe){if(ht){t:{for(var h=ht,f=br;h.nodeType!==8;){if(!f){h=null;break t}if(h=er(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=er(h.nextSibling),l=h.data==="F!";break e}}Xa(l)}l=!1}l&&(i=s[0])}}return s=mn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:i},s.queue=l,s=m0.bind(null,Ne,l),l.dispatch=s,l=Df(!1),f=Uf.bind(null,Ne,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,s=nA.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=n,[i,s,!1]}function Xy(n){var i=At();return Wy(i,We,n)}function Wy(n,i,s){if(i=kf(n,i,Yy)[0],n=Rc(Jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(E){throw E===vl?Ec:E}else l=i;i=At();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Ne.flags|=2048,Ws(9,Nc(),rA.bind(null,h,s),null)),[l,f,n]}function rA(n,i){n.action=i}function Jy(n){var i=At(),s=We;if(s!==null)return Wy(i,s,n);At(),i=i.memoizedState,s=At();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function Ws(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Nf(),Ne.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Nc(){return{destroy:void 0,resource:void 0}}function Zy(){return At().memoizedState}function Cc(n,i,s,l){var h=mn();l=l===void 0?null:l,Ne.flags|=n,h.memoizedState=Ws(1|i,Nc(),s,l)}function Al(n,i,s,l){var h=At();l=l===void 0?null:l;var f=h.memoizedState.inst;We!==null&&l!==null&&wf(l,We.memoizedState.deps)?h.memoizedState=Ws(i,f,s,l):(Ne.flags|=n,h.memoizedState=Ws(1|i,f,s,l))}function e0(n,i){Cc(8390656,8,n,i)}function t0(n,i){Al(2048,8,n,i)}function n0(n,i){return Al(4,2,n,i)}function r0(n,i){return Al(4,4,n,i)}function i0(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function a0(n,i,s){s=s!=null?s.concat([n]):null,Al(4,4,i0.bind(null,i,n),s)}function Pf(){}function s0(n,i){var s=At();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&wf(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function o0(n,i){var s=At();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&wf(i,l[1]))return l[0];if(l=n(),es){En(!0);try{n()}finally{En(!1)}}return s.memoizedState=[l,i],l}function Mf(n,i,s){return s===void 0||(Di&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=cv(),Ne.lanes|=n,Li|=n,s)}function l0(n,i,s,l){return wn(s,i)?s:Ys.current!==null?(n=Mf(n,s,l),wn(n,i)||(Lt=!0),n):(Di&42)===0?(Lt=!0,n.memoizedState=s):(n=cv(),Ne.lanes|=n,Li|=n,i)}function u0(n,i,s,l,h){var f=ue.p;ue.p=f!==0&&8>f?f:8;var E=X.T,w={};X.T=w,Uf(n,!1,i,s);try{var N=h(),H=X.S;if(H!==null&&H(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=Zx(N,l);Sl(n,i,J,Nn(n))}else Sl(n,i,l,Nn(n))}catch(te){Sl(n,i,{then:function(){},status:"rejected",reason:te},Nn())}finally{ue.p=f,X.T=E}}function iA(){}function Vf(n,i,s,l){if(n.tag!==5)throw Error(a(476));var h=c0(n).queue;u0(n,h,i,pe,s===null?iA:function(){return d0(n),s(l)})}function c0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function d0(n){var i=c0(n).next.queue;Sl(n,i,{},Nn())}function jf(){return tn(Hl)}function h0(){return At().memoizedState}function f0(){return At().memoizedState}function aA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Nn();n=ki(s);var l=Ii(i,n,s);l!==null&&(Cn(l,i,s),bl(l,i,s)),i={cache:ff()},n.payload=i;return}i=i.return}}function sA(n,i,s){var l=Nn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},kc(n)?g0(i,s):(s=nf(n,i,s,l),s!==null&&(Cn(s,n,l),p0(s,i,l)))}function m0(n,i,s){var l=Nn();Sl(n,i,s,l)}function Sl(n,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(kc(n))g0(i,h);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,w=f(E,s);if(h.hasEagerState=!0,h.eagerState=w,wn(w,E))return fc(n,i,h,0),rt===null&&hc(),!1}catch{}finally{}if(s=nf(n,i,h,l),s!==null)return Cn(s,n,l),p0(s,i,l),!0}return!1}function Uf(n,i,s,l){if(l={lane:2,revertLane:pm(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(i)throw Error(a(479))}else i=nf(n,s,l,2),i!==null&&Cn(i,n,2)}function kc(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function g0(n,i){Qs=xc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function p0(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Yo(n,s)}}var Ic={readContext:tn,use:Sc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},y0={readContext:tn,use:Sc,useCallback:function(n,i){return mn().memoizedState=[n,i===void 0?null:i],n},useContext:tn,useEffect:e0,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Cc(4194308,4,i0.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Cc(4194308,4,n,i)},useInsertionEffect:function(n,i){Cc(4,2,n,i)},useMemo:function(n,i){var s=mn();i=i===void 0?null:i;var l=n();if(es){En(!0);try{n()}finally{En(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=mn();if(s!==void 0){var h=s(i);if(es){En(!0);try{s(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=sA.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=mn();return n={current:n},i.memoizedState=n},useState:function(n){n=Df(n);var i=n.queue,s=m0.bind(null,Ne,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Pf,useDeferredValue:function(n,i){var s=mn();return Mf(s,n,i)},useTransition:function(){var n=Df(!1);return n=u0.bind(null,Ne,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=Ne,h=mn();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),rt===null)throw Error(a(349));(Ue&124)!==0||Uy(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,e0(By.bind(null,l,f,n),[n]),l.flags|=2048,Ws(9,Nc(),Ly.bind(null,l,f,s,i),null),s},useId:function(){var n=mn(),i=rt.identifierPrefix;if(qe){var s=Qr,l=Yr;s=(l&~(1<<32-en(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Ac++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=eA++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:jf,useFormState:Qy,useActionState:Qy,useOptimistic:function(n){var i=mn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Uf.bind(null,Ne,!0,s),s.dispatch=i,[n,i]},useMemoCache:Cf,useCacheRefresh:function(){return mn().memoizedState=aA.bind(null,Ne)}},v0={readContext:tn,use:Sc,useCallback:s0,useContext:tn,useEffect:t0,useImperativeHandle:a0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:o0,useReducer:Rc,useRef:Zy,useState:function(){return Rc(Jr)},useDebugValue:Pf,useDeferredValue:function(n,i){var s=At();return l0(s,We.memoizedState,n,i)},useTransition:function(){var n=Rc(Jr)[0],i=At().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:jy,useId:h0,useHostTransitionStatus:jf,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,i){var s=At();return qy(s,We,n,i)},useMemoCache:Cf,useCacheRefresh:f0},oA={readContext:tn,use:Sc,useCallback:s0,useContext:tn,useEffect:t0,useImperativeHandle:a0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:o0,useReducer:If,useRef:Zy,useState:function(){return If(Jr)},useDebugValue:Pf,useDeferredValue:function(n,i){var s=At();return We===null?Mf(s,n,i):l0(s,We.memoizedState,n,i)},useTransition:function(){var n=If(Jr)[0],i=At().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:jy,useId:h0,useHostTransitionStatus:jf,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,i){var s=At();return We!==null?qy(s,We,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:f0},Js=null,Rl=0;function Dc(n){var i=Rl;return Rl+=1,Js===null&&(Js=[]),Cy(Js,n,i)}function Nl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Oc(n,i){throw i.$$typeof===x?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function _0(n){var i=n._init;return i(n._payload)}function b0(n){function i(L,M){if(n){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function s(L,M){if(!n)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Kr(L,M),L.index=0,L.sibling=null,L}function f(L,M,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function w(L,M,q,Z){return M===null||M.tag!==6?(M=af(q,L.mode,Z),M.return=L,M):(M=h(M,q),M.return=L,M)}function N(L,M,q,Z){var me=q.type;return me===C?J(L,M,q.props.children,Z,q.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&_0(me)===M.type)?(M=h(M,q.props),Nl(M,q),M.return=L,M):(M=gc(q.type,q.key,q.props,null,L.mode,Z),Nl(M,q),M.return=L,M)}function H(L,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=sf(q,L.mode,Z),M.return=L,M):(M=h(M,q.children||[]),M.return=L,M)}function J(L,M,q,Z,me){return M===null||M.tag!==7?(M=$a(q,L.mode,Z,me),M.return=L,M):(M=h(M,q),M.return=L,M)}function te(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return q=gc(M.type,M.key,M.props,null,L.mode,q),Nl(q,M),q.return=L,q;case I:return M=sf(M,L.mode,q),M.return=L,M;case S:var Z=M._init;return M=Z(M._payload),te(L,M,q)}if(le(M)||U(M))return M=$a(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return te(L,Dc(M),q);if(M.$$typeof===Y)return te(L,_c(L,M),q);Oc(L,M)}return null}function G(L,M,q,Z){var me=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:w(L,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===me?N(L,M,q,Z):null;case I:return q.key===me?H(L,M,q,Z):null;case S:return me=q._init,q=me(q._payload),G(L,M,q,Z)}if(le(q)||U(q))return me!==null?null:J(L,M,q,Z,null);if(typeof q.then=="function")return G(L,M,Dc(q),Z);if(q.$$typeof===Y)return G(L,M,_c(L,q),Z);Oc(L,q)}return null}function K(L,M,q,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,w(M,L,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return L=L.get(Z.key===null?q:Z.key)||null,N(M,L,Z,me);case I:return L=L.get(Z.key===null?q:Z.key)||null,H(M,L,Z,me);case S:var Ie=Z._init;return Z=Ie(Z._payload),K(L,M,q,Z,me)}if(le(Z)||U(Z))return L=L.get(q)||null,J(M,L,Z,me,null);if(typeof Z.then=="function")return K(L,M,q,Dc(Z),me);if(Z.$$typeof===Y)return K(L,M,q,_c(M,Z),me);Oc(M,Z)}return null}function we(L,M,q,Z){for(var me=null,Ie=null,ge=M,be=M=0,zt=null;ge!==null&&be<q.length;be++){ge.index>be?(zt=ge,ge=null):zt=ge.sibling;var Be=G(L,ge,q[be],Z);if(Be===null){ge===null&&(ge=zt);break}n&&ge&&Be.alternate===null&&i(L,ge),M=f(Be,M,be),Ie===null?me=Be:Ie.sibling=Be,Ie=Be,ge=zt}if(be===q.length)return s(L,ge),qe&&Ya(L,be),me;if(ge===null){for(;be<q.length;be++)ge=te(L,q[be],Z),ge!==null&&(M=f(ge,M,be),Ie===null?me=ge:Ie.sibling=ge,Ie=ge);return qe&&Ya(L,be),me}for(ge=l(ge);be<q.length;be++)zt=K(ge,L,be,q[be],Z),zt!==null&&(n&&zt.alternate!==null&&ge.delete(zt.key===null?be:zt.key),M=f(zt,M,be),Ie===null?me=zt:Ie.sibling=zt,Ie=zt);return n&&ge.forEach(function(Yi){return i(L,Yi)}),qe&&Ya(L,be),me}function _e(L,M,q,Z){if(q==null)throw Error(a(151));for(var me=null,Ie=null,ge=M,be=M=0,zt=null,Be=q.next();ge!==null&&!Be.done;be++,Be=q.next()){ge.index>be?(zt=ge,ge=null):zt=ge.sibling;var Yi=G(L,ge,Be.value,Z);if(Yi===null){ge===null&&(ge=zt);break}n&&ge&&Yi.alternate===null&&i(L,ge),M=f(Yi,M,be),Ie===null?me=Yi:Ie.sibling=Yi,Ie=Yi,ge=zt}if(Be.done)return s(L,ge),qe&&Ya(L,be),me;if(ge===null){for(;!Be.done;be++,Be=q.next())Be=te(L,Be.value,Z),Be!==null&&(M=f(Be,M,be),Ie===null?me=Be:Ie.sibling=Be,Ie=Be);return qe&&Ya(L,be),me}for(ge=l(ge);!Be.done;be++,Be=q.next())Be=K(ge,L,be,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&ge.delete(Be.key===null?be:Be.key),M=f(Be,M,be),Ie===null?me=Be:Ie.sibling=Be,Ie=Be);return n&&ge.forEach(function(l1){return i(L,l1)}),qe&&Ya(L,be),me}function Ze(L,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var me=q.key;M!==null;){if(M.key===me){if(me=q.type,me===C){if(M.tag===7){s(L,M.sibling),Z=h(M,q.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&_0(me)===M.type){s(L,M.sibling),Z=h(M,q.props),Nl(Z,q),Z.return=L,L=Z;break e}s(L,M);break}else i(L,M);M=M.sibling}q.type===C?(Z=$a(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=gc(q.type,q.key,q.props,null,L.mode,Z),Nl(Z,q),Z.return=L,L=Z)}return E(L);case I:e:{for(me=q.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){s(L,M.sibling),Z=h(M,q.children||[]),Z.return=L,L=Z;break e}else{s(L,M);break}else i(L,M);M=M.sibling}Z=sf(q,L.mode,Z),Z.return=L,L=Z}return E(L);case S:return me=q._init,q=me(q._payload),Ze(L,M,q,Z)}if(le(q))return we(L,M,q,Z);if(U(q)){if(me=U(q),typeof me!="function")throw Error(a(150));return q=me.call(q),_e(L,M,q,Z)}if(typeof q.then=="function")return Ze(L,M,Dc(q),Z);if(q.$$typeof===Y)return Ze(L,M,_c(L,q),Z);Oc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(s(L,M.sibling),Z=h(M,q),Z.return=L,L=Z):(s(L,M),Z=af(q,L.mode,Z),Z.return=L,L=Z),E(L)):s(L,M)}return function(L,M,q,Z){try{Rl=0;var me=Ze(L,M,q,Z);return Js=null,me}catch(ge){if(ge===vl||ge===Ec)throw ge;var Ie=xn(29,ge,null,L.mode);return Ie.lanes=Z,Ie.return=L,Ie}finally{}}}var Zs=b0(!0),E0=b0(!1),qn=ie(null),Er=null;function Oi(n){var i=n.alternate;se(Pt,Pt.current&1),se(qn,n),Er===null&&(i===null||Ys.current!==null||i.memoizedState!==null)&&(Er=n)}function T0(n){if(n.tag===22){if(se(Pt,Pt.current),se(qn,n),Er===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Er=n)}}else Pi()}function Pi(){se(Pt,Pt.current),se(qn,qn.current)}function Zr(n){ce(qn),Er===n&&(Er=null),ce(Pt)}var Pt=ie(0);function Pc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Nm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Lf(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Bf={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Nn(),h=ki(l);h.payload=i,s!=null&&(h.callback=s),i=Ii(n,h,l),i!==null&&(Cn(i,n,l),bl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Nn(),h=ki(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Ii(n,h,l),i!==null&&(Cn(i,n,l),bl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Nn(),l=ki(s);l.tag=2,i!=null&&(l.callback=i),i=Ii(n,l,s),i!==null&&(Cn(i,n,s),bl(i,n,s))}};function w0(n,i,s,l,h,f,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!cl(s,l)||!cl(h,f):!0}function x0(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&Bf.enqueueReplaceState(i,i.state,null)}function ts(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=_({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var Mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function A0(n){Mc(n)}function S0(n){console.error(n)}function R0(n){Mc(n)}function Vc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function N0(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(n,i,s){return s=ki(s),s.tag=3,s.payload={element:null},s.callback=function(){Vc(n,i)},s}function C0(n){return n=ki(n),n.tag=3,n}function k0(n,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;n.payload=function(){return h(f)},n.callback=function(){N0(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){N0(i,s,l),typeof h!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function lA(n,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&gl(i,s,h,!0),s=qn.current,s!==null){switch(s.tag){case 13:return Er===null?dm():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===pf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),fm(n,l,h)),!1;case 22:return s.flags|=65536,l===pf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),fm(n,l,h)),!1}throw Error(a(435,s.tag))}return fm(n,l,h),dm(),!1}if(qe)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==uf&&(n=Error(a(422),{cause:l}),ml(Ln(n,s)))):(l!==uf&&(i=Error(a(423),{cause:l}),ml(Ln(i,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Ln(l,s),h=zf(n.stateNode,l,h),_f(n,h),ft!==4&&(ft=2)),!1;var f=Error(a(520),{cause:l});if(f=Ln(f,s),Ml===null?Ml=[f]:Ml.push(f),ft!==4&&(ft=2),i===null)return!0;l=Ln(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=zf(s.stateNode,l,n),_f(s,n),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bi===null||!Bi.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=C0(h),k0(h,n,s,l),_f(s,h),!1}s=s.return}while(s!==null);return!1}var I0=Error(a(461)),Lt=!1;function $t(n,i,s,l){i.child=n===null?E0(i,null,s,l):Zs(i,n.child,s,l)}function D0(n,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ja(i),l=xf(n,i,s,E,f,h),w=Af(),n!==null&&!Lt?(Sf(n,i,h),ei(n,i,h)):(qe&&w&&of(i),i.flags|=1,$t(n,i,l,h),i.child)}function O0(n,i,s,l,h){if(n===null){var f=s.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,P0(n,i,f,l,h)):(n=gc(s.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,!Qf(n,h)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:cl,s(E,l)&&n.ref===i.ref)return ei(n,i,h)}return i.flags|=1,n=Kr(f,l),n.ref=i.ref,n.return=i,i.child=n}function P0(n,i,s,l,h){if(n!==null){var f=n.memoizedProps;if(cl(f,l)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=l=f,Qf(n,h))(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,ei(n,i,h)}return Ff(n,i,s,l,h)}function M0(n,i,s){var l=i.pendingProps,h=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,n!==null){for(h=i.child=n.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return V0(n,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&bc(i,f!==null?f.cachePool:null),f!==null?Py(i,f):Ef(),T0(i);else return i.lanes=i.childLanes=536870912,V0(n,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(bc(i,f.cachePool),Py(i,f),Pi(),i.memoizedState=null):(n!==null&&bc(i,null),Ef(),Pi());return $t(n,i,h,s),i.child}function V0(n,i,s,l){var h=gf();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},n!==null&&bc(i,null),Ef(),T0(i),n!==null&&gl(n,i,l,!0),null}function jc(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Ff(n,i,s,l,h){return Ja(i),s=xf(n,i,s,l,void 0,h),l=Af(),n!==null&&!Lt?(Sf(n,i,h),ei(n,i,h)):(qe&&l&&of(i),i.flags|=1,$t(n,i,s,h),i.child)}function j0(n,i,s,l,h,f){return Ja(i),i.updateQueue=null,s=Vy(i,l,s,h),My(n),l=Af(),n!==null&&!Lt?(Sf(n,i,f),ei(n,i,f)):(qe&&l&&of(i),i.flags|=1,$t(n,i,s,f),i.child)}function U0(n,i,s,l,h){if(Ja(i),i.stateNode===null){var f=qs,E=s.contextType;typeof E=="object"&&E!==null&&(f=tn(E)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},yf(i),E=s.contextType,f.context=typeof E=="object"&&E!==null?tn(E):qs,f.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Lf(i,s,E,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&Bf.enqueueReplaceState(f,f.state,null),Tl(i,l,f,h),El(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){f=i.stateNode;var w=i.memoizedProps,N=ts(s,w);f.props=N;var H=f.context,J=s.contextType;E=qs,typeof J=="object"&&J!==null&&(E=tn(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||H!==E)&&x0(i,f,l,E),Ci=!1;var G=i.memoizedState;f.state=G,Tl(i,l,f,h),El(),H=i.memoizedState,w||G!==H||Ci?(typeof te=="function"&&(Lf(i,s,te,l),H=i.memoizedState),(N=Ci||w0(i,s,N,l,G,H,E))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=E,l=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,vf(n,i),E=i.memoizedProps,J=ts(s,E),f.props=J,te=i.pendingProps,G=f.context,H=s.contextType,N=qs,typeof H=="object"&&H!==null&&(N=tn(H)),w=s.getDerivedStateFromProps,(H=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==te||G!==N)&&x0(i,f,l,N),Ci=!1,G=i.memoizedState,f.state=G,Tl(i,l,f,h),El();var K=i.memoizedState;E!==te||G!==K||Ci||n!==null&&n.dependencies!==null&&vc(n.dependencies)?(typeof w=="function"&&(Lf(i,s,w,l),K=i.memoizedState),(J=Ci||w0(i,s,J,l,G,K,N)||n!==null&&n.dependencies!==null&&vc(n.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),f.props=l,f.state=K,f.context=N,l=J):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return f=l,jc(n,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,n!==null&&l?(i.child=Zs(i,n.child,null,h),i.child=Zs(i,null,s,h)):$t(n,i,s,h),i.memoizedState=f.state,n=i.child):n=ei(n,i,h),n}function L0(n,i,s,l){return fl(),i.flags|=256,$t(n,i,s,l),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(n){return{baseLanes:n,cachePool:Sy()}}function Gf(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Hn),n}function B0(n,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(h?Oi(i):Pi(),qe){var w=ht,N;if(N=w){e:{for(N=w,w=br;N.nodeType!==8;){if(!w){w=null;break e}if(N=er(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(i.memoizedState={dehydrated:w,treeContext:Ka!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},N=xn(18,null,null,0),N.stateNode=w,N.return=i,i.child=N,dn=i,ht=null,N=!0):N=!1}N||Xa(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Nm(w)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return w=l.children,l=l.fallback,h?(Pi(),h=i.mode,w=Uc({mode:"hidden",children:w},h),l=$a(l,h,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Hf(s),h.childLanes=Gf(n,E,s),i.memoizedState=qf,l):(Oi(i),$f(i,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(f)i.flags&256?(Oi(i),i.flags&=-257,i=Kf(n,i,s)):i.memoizedState!==null?(Pi(),i.child=n.child,i.flags|=128,i=null):(Pi(),h=l.fallback,w=i.mode,l=Uc({mode:"visible",children:l.children},w),h=$a(h,w,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Zs(i,n.child,null,s),l=i.child,l.memoizedState=Hf(s),l.childLanes=Gf(n,E,s),i.memoizedState=qf,i=h);else if(Oi(i),Nm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(a(419)),l.stack="",l.digest=E,ml({value:l,source:null,stack:null}),i=Kf(n,i,s)}else if(Lt||gl(n,i,s,!1),E=(s&n.childLanes)!==0,Lt||E){if(E=rt,E!==null&&(l=s&-s,l=(l&42)!==0?1:Ei(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Fs(n,l),Cn(E,n,l),I0;w.data==="$?"||dm(),i=Kf(n,i,s)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,ht=er(w.nextSibling),dn=i,qe=!0,Qa=null,br=!1,n!==null&&(zn[Fn++]=Yr,zn[Fn++]=Qr,zn[Fn++]=Ka,Yr=n.id,Qr=n.overflow,Ka=i),i=$f(i,l.children),i.flags|=4096);return i}return h?(Pi(),h=l.fallback,w=i.mode,N=n.child,H=N.sibling,l=Kr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?h=Kr(H,h):(h=$a(h,w,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=n.child.memoizedState,w===null?w=Hf(s):(N=w.cachePool,N!==null?(H=Ot._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=Sy(),w={baseLanes:w.baseLanes|s,cachePool:N}),h.memoizedState=w,h.childLanes=Gf(n,E,s),i.memoizedState=qf,l):(Oi(i),s=n.child,n=s.sibling,s=Kr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function $f(n,i){return i=Uc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Uc(n,i){return n=xn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Kf(n,i,s){return Zs(i,n.child,null,s),n=$f(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function z0(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),df(n.return,i,s)}function Yf(n,i,s,l,h){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function F0(n,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if($t(n,i,l.children,s),l=Pt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&z0(n,s,i);else if(n.tag===19)z0(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Pt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)n=s.alternate,n!==null&&Pc(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Yf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Pc(n)===null){i.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Yf(i,!0,s,null,f);break;case"together":Yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ei(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Li|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(gl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=Kr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Kr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function Qf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&vc(n)))}function uA(n,i,s){switch(i.tag){case 3:nt(i,i.stateNode.containerInfo),Ni(i,Ot,n.memoizedState.cache),fl();break;case 27:case 5:bi(i);break;case 4:nt(i,i.stateNode.containerInfo);break;case 10:Ni(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?B0(n,i,s):(Oi(i),n=ei(n,i,s),n!==null?n.sibling:null);Oi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(gl(n,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return F0(n,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Pt,Pt.current),l)break;return null;case 22:case 23:return i.lanes=0,M0(n,i,s);case 24:Ni(i,Ot,n.memoizedState.cache)}return ei(n,i,s)}function q0(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Qf(n,s)&&(i.flags&128)===0)return Lt=!1,uA(n,i,s);Lt=(n.flags&131072)!==0}else Lt=!1,qe&&(i.flags&1048576)!==0&&_y(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")rf(l)?(n=ts(l,n),i.tag=1,i=U0(null,i,l,n,s)):(i.tag=0,i=Ff(null,i,l,n,s));else{if(l!=null){if(h=l.$$typeof,h===re){i.tag=11,i=D0(null,i,l,n,s);break e}else if(h===D){i.tag=14,i=O0(null,i,l,n,s);break e}}throw i=yt(l)||l,Error(a(306,i,""))}}return i;case 0:return Ff(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ts(l,i.pendingProps),U0(n,i,l,h,s);case 3:e:{if(nt(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,vf(n,i),Tl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Ni(i,Ot,l),l!==f.cache&&hf(i,[Ot],s,!0),El(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=L0(n,i,l,s);break e}else if(l!==h){h=Ln(Error(a(424)),i),ml(h),i=L0(n,i,l,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=er(n.firstChild),dn=i,qe=!0,Qa=null,br=!0,s=E0(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fl(),l===h){i=ei(n,i,s);break e}$t(n,i,l,s)}i=i.child}return i;case 26:return jc(n,i),n===null?(s=Kv(i.type,null,i.pendingProps,null))?i.memoizedState=s:qe||(s=i.type,n=i.pendingProps,l=Jc(xe.current).createElement(s),l[kt]=i,l[Tt]=n,Yt(l,s,n),vt(l),i.stateNode=l):i.memoizedState=Kv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return bi(i),n===null&&qe&&(l=i.stateNode=Hv(i.type,i.pendingProps,xe.current),dn=i,br=!0,h=ht,qi(i.type)?(Cm=h,ht=er(l.firstChild)):ht=h),$t(n,i,i.pendingProps.children,s),jc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((h=l=ht)&&(l=jA(l,i.type,i.pendingProps,br),l!==null?(i.stateNode=l,dn=i,ht=er(l.firstChild),br=!1,h=!0):h=!1),h||Xa(i)),bi(i),h=i.type,f=i.pendingProps,E=n!==null?n.memoizedProps:null,l=f.children,Am(h,f)?l=null:E!==null&&Am(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(n,i,tA,null,null,s),Hl._currentValue=h),jc(n,i),$t(n,i,l,s),i.child;case 6:return n===null&&qe&&((n=s=ht)&&(s=UA(s,i.pendingProps,br),s!==null?(i.stateNode=s,dn=i,ht=null,n=!0):n=!1),n||Xa(i)),null;case 13:return B0(n,i,s);case 4:return nt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Zs(i,null,l,s):$t(n,i,l,s),i.child;case 11:return D0(n,i,i.type,i.pendingProps,s);case 7:return $t(n,i,i.pendingProps,s),i.child;case 8:return $t(n,i,i.pendingProps.children,s),i.child;case 12:return $t(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ni(i,i.type,l.value),$t(n,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ja(i),h=tn(h),l=l(h),i.flags|=1,$t(n,i,l,s),i.child;case 14:return O0(n,i,i.type,i.pendingProps,s);case 15:return P0(n,i,i.type,i.pendingProps,s);case 19:return F0(n,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},n===null?(s=Uc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Kr(n.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return M0(n,i,s);case 24:return Ja(i),l=tn(Ot),n===null?(h=gf(),h===null&&(h=rt,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},yf(i),Ni(i,Ot,h)):((n.lanes&s)!==0&&(vf(n,i),Tl(i,null,null,s),El()),h=n.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ni(i,Ot,l)):(l=f.cache,Ni(i,Ot,l),l!==h.cache&&hf(i,[Ot],s,!0))),$t(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ti(n){n.flags|=4}function H0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jv(i)){if(i=qn.current,i!==null&&((Ue&4194048)===Ue?Er!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==Er))throw _l=pf,Ry;n.flags|=8192}}function Lc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?$o():536870912,n.lanes|=i,ro|=i)}function Cl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function cA(n,i,s){var l=i.pendingProps;switch(lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wr(Ot),lr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(hl(i)?ti(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ty())),ut(i),null;case 26:return s=i.memoizedState,n===null?(ti(i),s!==null?(ut(i),H0(i,s)):(ut(i),i.flags&=-16777217)):s?s!==n.memoizedState?(ti(i),ut(i),H0(i,s)):(ut(i),i.flags&=-16777217):(n.memoizedProps!==l&&ti(i),ut(i),i.flags&=-16777217),null;case 27:Pr(i),s=xe.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ut(i),null}n=ve.current,hl(i)?by(i):(n=Hv(h,l,s),i.stateNode=n,ti(i))}return ut(i),null;case 5:if(Pr(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ut(i),null}if(n=ve.current,hl(i))by(i);else{switch(h=Jc(xe.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}n[kt]=i,n[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Yt(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ti(i)}}return ut(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ti(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=xe.current,hl(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[kt]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||jv(n.nodeValue,s)),n||Xa(i)}else n=Jc(n).createTextNode(l),n[kt]=i,i.stateNode=n}return ut(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=hl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=Ty(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Lc(i,i.updateQueue),ut(i),null;case 4:return lr(),n===null&&bm(i.stateNode.containerInfo),ut(i),null;case 10:return Wr(i.type),ut(i),null;case 19:if(ce(Pt),h=i.memoizedState,h===null)return ut(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)Cl(h,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(f=Pc(n),f!==null){for(i.flags|=128,Cl(h,!1),n=f.updateQueue,i.updateQueue=n,Lc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)vy(s,n),s=s.sibling;return se(Pt,Pt.current&1|2),i.child}n=n.sibling}h.tail!==null&&On()>Fc&&(i.flags|=128,l=!0,Cl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Pc(f),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Lc(i,n),Cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!qe)return ut(i),null}else 2*On()-h.renderingStartTime>Fc&&s!==536870912&&(i.flags|=128,l=!0,Cl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(n=h.last,n!==null?n.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,n=Pt.current,se(Pt,l?n&1|2:n&1),i):(ut(i),null);case 22:case 23:return Zr(i),Tf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),s=i.updateQueue,s!==null&&Lc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&ce(Za),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Wr(Ot),ut(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function dA(n,i){switch(lf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Wr(Ot),lr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Pr(i),null;case 13:if(Zr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));fl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ce(Pt),null;case 4:return lr(),null;case 10:return Wr(i.type),null;case 22:case 23:return Zr(i),Tf(),n!==null&&ce(Za),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Wr(Ot),null;case 25:return null;default:return null}}function G0(n,i){switch(lf(i),i.tag){case 3:Wr(Ot),lr();break;case 26:case 27:case 5:Pr(i);break;case 4:lr();break;case 13:Zr(i);break;case 19:ce(Pt);break;case 10:Wr(i.type);break;case 22:case 23:Zr(i),Tf(),n!==null&&ce(Za);break;case 24:Wr(Ot)}}function kl(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&n)===n){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==h)}}catch(w){et(i,i.return,w)}}function Mi(n,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var N=s,H=w;try{H()}catch(J){et(h,N,J)}}}l=l.next}while(l!==f)}}catch(J){et(i,i.return,J)}}function $0(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Oy(i,s)}catch(l){et(n,n.return,l)}}}function K0(n,i,s){s.props=ts(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){et(n,i,l)}}function Il(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(h){et(n,i,h)}}function Tr(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){et(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){et(n,i,h)}else s.current=null}function Y0(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){et(n,n.return,h)}}function Xf(n,i,s){try{var l=n.stateNode;DA(l,n.type,s,i),l[Tt]=i}catch(h){et(n,n.return,h)}}function Q0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&qi(n.type)||n.tag===4}function Wf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Q0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&qi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jf(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Wc));else if(l!==4&&(l===27&&qi(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Jf(n,i,s),n=n.sibling;n!==null;)Jf(n,i,s),n=n.sibling}function Bc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&qi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Bc(n,i,s),n=n.sibling;n!==null;)Bc(n,i,s),n=n.sibling}function X0(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,s),i[kt]=n,i[Tt]=s}catch(f){et(n,n.return,f)}}var ni=!1,bt=!1,Zf=!1,W0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function hA(n,i){if(n=n.containerInfo,wm=id,n=ly(n),Xh(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var E=0,w=-1,N=-1,H=0,J=0,te=n,G=null;t:for(;;){for(var K;te!==s||h!==0&&te.nodeType!==3||(w=E+h),te!==f||l!==0&&te.nodeType!==3||(N=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(K=te.firstChild)!==null;)G=te,te=K;for(;;){if(te===n)break t;if(G===s&&++H===h&&(w=E),G===f&&++J===l&&(N=E),(K=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=K}s=w===-1||N===-1?null:{start:w,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(xm={focusedElem:n,selectionRange:s},id=!1,Bt=i;Bt!==null;)if(i=Bt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Bt=n;else for(;Bt!==null;){switch(i=Bt,f=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var we=ts(s.type,h,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){et(s,s.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Rm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Bt=n;break}Bt=i.return}}function J0(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(n,s),l&4&&kl(5,s);break;case 1:if(Vi(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){et(s,s.return,E)}else{var h=ts(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){et(s,s.return,E)}}l&64&&$0(s),l&512&&Il(s,s.return);break;case 3:if(Vi(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Oy(n,i)}catch(E){et(s,s.return,E)}}break;case 27:i===null&&l&4&&X0(s);case 26:case 5:Vi(n,s),i===null&&l&4&&Y0(s),l&512&&Il(s,s.return);break;case 12:Vi(n,s);break;case 13:Vi(n,s),l&4&&tv(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=EA.bind(null,s),LA(n,s))));break;case 22:if(l=s.memoizedState!==null||ni,!l){i=i!==null&&i.memoizedState!==null||bt,h=ni;var f=bt;ni=l,(bt=i)&&!f?ji(n,s,(s.subtreeFlags&8772)!==0):Vi(n,s),ni=h,bt=f}break;case 30:break;default:Vi(n,s)}}function Z0(n){var i=n.alternate;i!==null&&(n.alternate=null,Z0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&xi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,gn=!1;function ri(n,i,s){for(s=s.child;s!==null;)ev(n,i,s),s=s.sibling}function ev(n,i,s){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(dt,s)}catch{}switch(s.tag){case 26:bt||Tr(s,i),ri(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:bt||Tr(s,i);var l=ot,h=gn;qi(s.type)&&(ot=s.stateNode,gn=!1),ri(n,i,s),Bl(s.stateNode),ot=l,gn=h;break;case 5:bt||Tr(s,i);case 6:if(l=ot,h=gn,ot=null,ri(n,i,s),ot=l,gn=h,ot!==null)if(gn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(f){et(s,i,f)}else try{ot.removeChild(s.stateNode)}catch(f){et(s,i,f)}break;case 18:ot!==null&&(gn?(n=ot,Fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Yl(n)):Fv(ot,s.stateNode));break;case 4:l=ot,h=gn,ot=s.stateNode.containerInfo,gn=!0,ri(n,i,s),ot=l,gn=h;break;case 0:case 11:case 14:case 15:bt||Mi(2,s,i),bt||Mi(4,s,i),ri(n,i,s);break;case 1:bt||(Tr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&K0(s,i,l)),ri(n,i,s);break;case 21:ri(n,i,s);break;case 22:bt=(l=bt)||s.memoizedState!==null,ri(n,i,s),bt=l;break;default:ri(n,i,s)}}function tv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(s){et(i,i.return,s)}}function fA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new W0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new W0),i;default:throw Error(a(435,n.tag))}}function em(n,i){var s=fA(n);i.forEach(function(l){var h=TA.bind(null,n,l);s.has(l)||(s.add(l),l.then(h,h))})}function An(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(qi(w.type)){ot=w.stateNode,gn=!1;break e}break;case 5:ot=w.stateNode,gn=!1;break e;case 3:case 4:ot=w.stateNode.containerInfo,gn=!0;break e}w=w.return}if(ot===null)throw Error(a(160));ev(f,E,h),ot=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)nv(i,n),i=i.sibling}var Zn=null;function nv(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(i,n),Sn(n),l&4&&(Mi(3,n,n.return),kl(3,n),Mi(5,n,n.return));break;case 1:An(i,n),Sn(n),l&512&&(bt||s===null||Tr(s,s.return)),l&64&&ni&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Zn;if(An(i,n),Sn(n),l&512&&(bt||s===null||Tr(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ka]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,l,s),f[kt]=n,vt(f),l=f;break e;case"link":var E=Xv("link","href",h).get(l+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(f=E[w],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break t}}f=h.createElement(l),Yt(f,l,s),h.head.appendChild(f);break;case"meta":if(E=Xv("meta","content",h).get(l+(s.content||""))){for(w=0;w<E.length;w++)if(f=E[w],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break t}}f=h.createElement(l),Yt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[kt]=n,vt(f),l=f}n.stateNode=l}else Wv(h,n.type,n.stateNode);else n.stateNode=Qv(h,l,n.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Wv(h,n.type,n.stateNode):Qv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Xf(n,n.memoizedProps,s.memoizedProps)}break;case 27:An(i,n),Sn(n),l&512&&(bt||s===null||Tr(s,s.return)),s!==null&&l&4&&Xf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(An(i,n),Sn(n),l&512&&(bt||s===null||Tr(s,s.return)),n.flags&32){h=n.stateNode;try{Mn(h,"")}catch(K){et(n,n.return,K)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Xf(n,h,s!==null?s.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(An(i,n),Sn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(K){et(n,n.return,K)}}break;case 3:if(td=null,h=Zn,Zn=Zc(i.containerInfo),An(i,n),Zn=h,Sn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Yl(i.containerInfo)}catch(K){et(n,n.return,K)}Zf&&(Zf=!1,rv(n));break;case 4:l=Zn,Zn=Zc(n.stateNode.containerInfo),An(i,n),Sn(n),Zn=l;break;case 12:An(i,n),Sn(n);break;case 13:An(i,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sm=On()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,em(n,l)));break;case 22:h=n.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,H=ni,J=bt;if(ni=H||h,bt=J||N,An(i,n),bt=J,ni=H,Sn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||N||ni||bt||ns(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(f=N.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){et(N,N.return,K)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(K){et(N,N.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,em(n,s))));break;case 19:An(i,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,em(n,l)));break;case 30:break;case 21:break;default:An(i,n),Sn(n)}}function Sn(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(Q0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Wf(n);Bc(n,f,h);break;case 5:var E=s.stateNode;s.flags&32&&(Mn(E,""),s.flags&=-33);var w=Wf(n);Bc(n,w,E);break;case 3:case 4:var N=s.stateNode.containerInfo,H=Wf(n);Jf(n,H,N);break;default:throw Error(a(161))}}catch(J){et(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;rv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Vi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J0(n,i.alternate,i),i=i.sibling}function ns(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Mi(4,i,i.return),ns(i);break;case 1:Tr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&K0(i,i.return,s),ns(i);break;case 27:Bl(i.stateNode);case 26:case 5:Tr(i,i.return),ns(i);break;case 22:i.memoizedState===null&&ns(i);break;case 30:ns(i);break;default:ns(i)}n=n.sibling}}function ji(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:ji(h,f,s),kl(4,f);break;case 1:if(ji(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){et(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var w=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Dy(N[h],w)}catch(H){et(l,l.return,H)}}s&&E&64&&$0(f),Il(f,f.return);break;case 27:X0(f);case 26:case 5:ji(h,f,s),s&&l===null&&E&4&&Y0(f),Il(f,f.return);break;case 12:ji(h,f,s);break;case 13:ji(h,f,s),s&&E&4&&tv(h,f);break;case 22:f.memoizedState===null&&ji(h,f,s),Il(f,f.return);break;case 30:break;default:ji(h,f,s)}i=i.sibling}}function tm(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&pl(s))}function nm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n))}function wr(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iv(n,i,s,l),i=i.sibling}function iv(n,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:wr(n,i,s,l),h&2048&&kl(9,i);break;case 1:wr(n,i,s,l);break;case 3:wr(n,i,s,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n)));break;case 12:if(h&2048){wr(n,i,s,l),n=i.stateNode;try{var f=i.memoizedProps,E=f.id,w=f.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){et(i,i.return,N)}}else wr(n,i,s,l);break;case 13:wr(n,i,s,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?wr(n,i,s,l):Dl(n,i):f._visibility&2?wr(n,i,s,l):(f._visibility|=2,eo(n,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&tm(E,i);break;case 24:wr(n,i,s,l),h&2048&&nm(i.alternate,i);break;default:wr(n,i,s,l)}}function eo(n,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=n,E=i,w=s,N=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:eo(f,E,w,N,h),kl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?eo(f,E,w,N,h):Dl(f,E):(J._visibility|=2,eo(f,E,w,N,h)),h&&H&2048&&tm(E.alternate,E);break;case 24:eo(f,E,w,N,h),h&&H&2048&&nm(E.alternate,E);break;default:eo(f,E,w,N,h)}i=i.sibling}}function Dl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,h=l.flags;switch(l.tag){case 22:Dl(s,l),h&2048&&tm(l.alternate,l);break;case 24:Dl(s,l),h&2048&&nm(l.alternate,l);break;default:Dl(s,l)}i=i.sibling}}var Ol=8192;function to(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)av(n),n=n.sibling}function av(n){switch(n.tag){case 26:to(n),n.flags&Ol&&n.memoizedState!==null&&JA(Zn,n.memoizedState,n.memoizedProps);break;case 5:to(n);break;case 3:case 4:var i=Zn;Zn=Zc(n.stateNode.containerInfo),to(n),Zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,to(n),Ol=i):to(n));break;default:to(n)}}function sv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Bt=l,lv(l,n)}sv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ov(n),n=n.sibling}function ov(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Mi(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,zc(n)):Pl(n);break;default:Pl(n)}}function zc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Bt=l,lv(l,n)}sv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Mi(8,i,i.return),zc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,zc(i));break;default:zc(i)}n=n.sibling}}function lv(n,i){for(;Bt!==null;){var s=Bt;switch(s.tag){case 0:case 11:case 15:Mi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Bt=l;else e:for(s=n;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(Z0(l),l===s){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var mA={getCacheForType:function(n){var i=tn(Ot),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},gA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,De=null,Ue=0,Ye=0,Rn=null,Ui=!1,no=!1,rm=!1,ii=0,ft=0,Li=0,rs=0,im=0,Hn=0,ro=0,Ml=null,pn=null,am=!1,sm=0,Fc=1/0,qc=null,Bi=null,Kt=0,zi=null,io=null,ao=0,om=0,lm=null,uv=null,Vl=0,um=null;function Nn(){if((Ke&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var n=$s;return n!==0?n:pm()}return Ti()}function cv(){Hn===0&&(Hn=(Ue&536870912)===0||qe?Go():536870912);var n=qn.current;return n!==null&&(n.flags|=32),Hn}function Cn(n,i,s){(n===rt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(so(n,0),Fi(n,Ue,Hn,!1)),Vr(n,s),((Ke&2)===0||n!==rt)&&(n===rt&&((Ke&2)===0&&(rs|=s),ft===4&&Fi(n,Ue,Hn,!1)),xr(n))}function dv(n,i,s){if((Ke&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Ca(n,i),h=l?vA(n,i):hm(n,i,!0),f=l;do{if(h===0){no&&!l&&Fi(n,i,0,!1);break}else{if(s=n.current.alternate,f&&!pA(s)){h=hm(n,i,!1),f=!1;continue}if(h===2){if(f=i,n.errorRecoveryDisabledLanes&f)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;h=Ml;var N=w.current.memoizedState.isDehydrated;if(N&&(so(w,E).flags|=256),E=hm(w,E,!1),E!==2){if(rm&&!N){w.errorRecoveryDisabledLanes|=f,rs|=f,h=4;break e}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){so(n,0),Fi(n,i,0,!0);break}e:{switch(l=n,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Fi(l,i,Hn,!Ui);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=sm+300-On(),10<h)){if(Fi(l,i,Hn,!Ui),ws(l,0,!0)!==0)break e;l.timeoutHandle=Bv(hv.bind(null,l,s,pn,qc,am,i,Hn,rs,ro,Ui,f,2,-0,0),h);break e}hv(l,s,pn,qc,am,i,Hn,rs,ro,Ui,f,0,-0,0)}}break}while(!0);xr(n)}function hv(n,i,s,l,h,f,E,w,N,H,J,te,G,K){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:WA},av(i),te=ZA(),te!==null)){n.cancelPendingCommit=te(_v.bind(null,n,i,f,s,l,h,E,w,N,J,1,G,K)),Fi(n,f,E,!H);return}_v(n,i,f,s,l,h,E,w,N)}function pA(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(n,i,s,l){i&=~im,i&=~rs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var f=31-en(h),E=1<<f;l[f]=-1,h&=~E}s!==0&&ur(n,s,i)}function Hc(){return(Ke&6)===0?(jl(0),!1):!0}function cm(){if(De!==null){if(Ye===0)var n=De.return;else n=De,Xr=Wa=null,Rf(n),Js=null,Rl=0,n=De;for(;n!==null;)G0(n.alternate,n),n=n.return;De=null}}function so(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,PA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),cm(),rt=n,De=s=Kr(n.current,null),Ue=i,Ye=0,Rn=null,Ui=!1,no=Ca(n,i),rm=!1,ro=Hn=im=rs=Li=ft=0,pn=Ml=null,am=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-en(l),f=1<<h;i|=n[h],l&=~f}return ii=i,hc(),s}function fv(n,i){Ne=null,X.H=Ic,i===vl||i===Ec?(i=ky(),Ye=3):i===Ry?(i=ky(),Ye=4):Ye=i===I0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,De===null&&(ft=1,Vc(n,Ln(i,n.current)))}function mv(){var n=X.H;return X.H=Ic,n===null?Ic:n}function gv(){var n=X.A;return X.A=mA,n}function dm(){ft=4,Ui||(Ue&4194048)!==Ue&&qn.current!==null||(no=!0),(Li&134217727)===0&&(rs&134217727)===0||rt===null||Fi(rt,Ue,Hn,!1)}function hm(n,i,s){var l=Ke;Ke|=2;var h=mv(),f=gv();(rt!==n||Ue!==i)&&(qc=null,so(n,i)),i=!1;var E=ft;e:do try{if(Ye!==0&&De!==null){var w=De,N=Rn;switch(Ye){case 8:cm(),E=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(i=!0);var H=Ye;if(Ye=0,Rn=null,oo(n,w,N,H),s&&no){E=0;break e}break;default:H=Ye,Ye=0,Rn=null,oo(n,w,N,H)}}yA(),E=ft;break}catch(J){fv(n,J)}while(!0);return i&&n.shellSuspendCounter++,Xr=Wa=null,Ke=l,X.H=h,X.A=f,De===null&&(rt=null,Ue=0,hc()),E}function yA(){for(;De!==null;)pv(De)}function vA(n,i){var s=Ke;Ke|=2;var l=mv(),h=gv();rt!==n||Ue!==i?(qc=null,Fc=On()+500,so(n,i)):no=Ca(n,i);e:do try{if(Ye!==0&&De!==null){i=De;var f=Rn;t:switch(Ye){case 1:Ye=0,Rn=null,oo(n,i,f,1);break;case 2:case 9:if(Ny(f)){Ye=0,Rn=null,yv(i);break}i=function(){Ye!==2&&Ye!==9||rt!==n||(Ye=7),xr(n)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Ny(f)?(Ye=0,Rn=null,yv(i)):(Ye=0,Rn=null,oo(n,i,f,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||Jv(E)){Ye=0,Rn=null;var N=w.sibling;if(N!==null)De=N;else{var H=w.return;H!==null?(De=H,Gc(H)):De=null}break t}}Ye=0,Rn=null,oo(n,i,f,5);break;case 6:Ye=0,Rn=null,oo(n,i,f,6);break;case 8:cm(),ft=6;break e;default:throw Error(a(462))}}_A();break}catch(J){fv(n,J)}while(!0);return Xr=Wa=null,X.H=l,X.A=h,Ke=s,De!==null?0:(rt=null,Ue=0,hc(),ft)}function _A(){for(;De!==null&&!zo();)pv(De)}function pv(n){var i=q0(n.alternate,n,ii);n.memoizedProps=n.pendingProps,i===null?Gc(n):De=i}function yv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=j0(s,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=j0(s,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Rf(i);default:G0(s,i),i=De=vy(i,ii),i=q0(s,i,ii)}n.memoizedProps=n.pendingProps,i===null?Gc(n):De=i}function oo(n,i,s,l){Xr=Wa=null,Rf(i),Js=null,Rl=0;var h=i.return;try{if(lA(n,h,i,s,Ue)){ft=1,Vc(n,Ln(s,n.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;ft=1,Vc(n,Ln(s,n.current)),De=null;return}i.flags&32768?(qe||l===1?n=!0:no||(Ue&536870912)!==0?n=!1:(Ui=n=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(i,n)):Gc(i)}function Gc(n){var i=n;do{if((i.flags&32768)!==0){vv(i,Ui);return}n=i.return;var s=cA(i.alternate,i,ii);if(s!==null){De=s;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);ft===0&&(ft=5)}function vv(n,i){do{var s=dA(n.alternate,n);if(s!==null){s.flags&=32767,De=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=s}while(n!==null);ft=6,De=null}function _v(n,i,s,l,h,f,E,w,N){n.cancelPendingCommit=null;do $c();while(Kt!==0);if((Ke&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=tf,Ko(n,s,f,E,w,N),n===rt&&(De=rt=null,Ue=0),io=i,zi=n,ao=s,om=f,lm=h,uv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,wA(Aa,function(){return xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ue.p,ue.p=2,E=Ke,Ke|=4;try{hA(n,i,s)}finally{Ke=E,ue.p=h,X.T=l}}Kt=1,bv(),Ev(),Tv()}}function bv(){if(Kt===1){Kt=0;var n=zi,i=io,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var h=Ke;Ke|=4;try{nv(i,n);var f=xm,E=ly(n.containerInfo),w=f.focusedElem,N=f.selectionRange;if(E!==w&&w&&w.ownerDocument&&oy(w.ownerDocument.documentElement,w)){if(N!==null&&Xh(w)){var H=N.start,J=N.end;if(J===void 0&&(J=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(J,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var K=G.getSelection(),we=w.textContent.length,_e=Math.min(N.start,we),Ze=N.end===void 0?_e:Math.min(N.end,we);!K.extend&&_e>Ze&&(E=Ze,Ze=_e,_e=E);var L=sy(w,_e),M=sy(w,Ze);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var q=te.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),_e>Ze?(K.addRange(q),K.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),K.addRange(q))}}}}for(te=[],K=w;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var Z=te[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}id=!!wm,xm=wm=null}finally{Ke=h,ue.p=l,X.T=s}}n.current=i,Kt=2}}function Ev(){if(Kt===2){Kt=0;var n=zi,i=io,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var h=Ke;Ke|=4;try{J0(n,i.alternate,i)}finally{Ke=h,ue.p=l,X.T=s}}Kt=3}}function Tv(){if(Kt===4||Kt===3){Kt=0,zu();var n=zi,i=io,s=ao,l=uv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,io=zi=null,wv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Bi=null),xs(s),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ue.p,ue.p=2,X.T=null;try{for(var f=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];f(w.value,{componentStack:w.stack})}}finally{X.T=i,ue.p=h}}(ao&3)!==0&&$c(),xr(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===um?Vl++:(Vl=0,um=n):Vl=0,jl(0)}}function wv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,pl(i)))}function $c(n){return bv(),Ev(),Tv(),xv()}function xv(){if(Kt!==5)return!1;var n=zi,i=om;om=0;var s=xs(ao),l=X.T,h=ue.p;try{ue.p=32>s?32:s,X.T=null,s=lm,lm=null;var f=zi,E=ao;if(Kt=0,io=zi=null,ao=0,(Ke&6)!==0)throw Error(a(331));var w=Ke;if(Ke|=4,ov(f.current),iv(f,f.current,E,s),Ke=w,jl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(dt,f)}catch{}return!0}finally{ue.p=h,X.T=l,wv(n,i)}}function Av(n,i,s){i=Ln(s,i),i=zf(n.stateNode,i,2),n=Ii(n,i,2),n!==null&&(Vr(n,2),xr(n))}function et(n,i,s){if(n.tag===3)Av(n,n,s);else for(;i!==null;){if(i.tag===3){Av(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bi===null||!Bi.has(l))){n=Ln(s,n),s=C0(2),l=Ii(i,s,2),l!==null&&(k0(s,l,i,n),Vr(l,2),xr(l));break}}i=i.return}}function fm(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new gA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(rm=!0,h.add(s),n=bA.bind(null,n,i,s),i.then(n,n))}function bA(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,rt===n&&(Ue&s)===s&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>On()-sm?(Ke&2)===0&&so(n,0):im|=s,ro===Ue&&(ro=0)),xr(n)}function Sv(n,i){i===0&&(i=$o()),n=Fs(n,i),n!==null&&(Vr(n,i),xr(n))}function EA(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Sv(n,s)}function TA(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Sv(n,s)}function wA(n,i){return wa(n,i)}var Kc=null,lo=null,mm=!1,Yc=!1,gm=!1,is=0;function xr(n){n!==lo&&n.next===null&&(lo===null?Kc=lo=n:lo=lo.next=n),Yc=!0,mm||(mm=!0,AA())}function jl(n,i){if(!gm&&Yc){gm=!0;do for(var s=!1,l=Kc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-en(42|n)+1)-1,f&=h&~(E&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,kv(l,f))}else f=Ue,f=ws(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ca(l,f)||(s=!0,kv(l,f));l=l.next}while(s);gm=!1}}function xA(){Rv()}function Rv(){Yc=mm=!1;var n=0;is!==0&&(OA()&&(n=is),is=0);for(var i=On(),s=null,l=Kc;l!==null;){var h=l.next,f=Nv(l,i);f===0?(l.next=null,s===null?Kc=h:s.next=h,h===null&&(lo=s)):(s=l,(n!==0||(f&3)!==0)&&(Yc=!0)),l=h}jl(n)}function Nv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var E=31-en(f),w=1<<E,N=h[E];N===-1?((w&s)===0||(w&l)!==0)&&(h[E]=Ho(w,i)):N<=i&&(n.expiredLanes|=w),f&=~w}if(i=rt,s=Ue,s=ws(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&xa(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ca(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&xa(l),xs(s)){case 2:case 8:s=Es;break;case 32:s=Aa;break;case 268435456:s=Ts;break;default:s=Aa}return l=Cv.bind(null,n),s=wa(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&xa(l),n.callbackPriority=2,n.callbackNode=null,2}function Cv(n,i){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if($c()&&n.callbackNode!==s)return null;var l=Ue;return l=ws(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(dv(n,l,i),Nv(n,On()),n.callbackNode!=null&&n.callbackNode===s?Cv.bind(null,n):null)}function kv(n,i){if($c())return null;dv(n,i,!0)}function AA(){MA(function(){(Ke&6)!==0?wa(Fo,xA):Rv()})}function pm(){return is===0&&(is=Go()),is}function Iv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ks(""+n)}function Dv(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function SA(n,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Iv((h[Tt]||null).action),E=l.submitter;E&&(i=(i=E[Tt]||null)?Iv(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var w=new Is("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var N=E?Dv(h,E):new FormData(h);Vf(s,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(w.preventDefault(),N=E?Dv(h,E):new FormData(h),Vf(s,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ym=0;ym<ef.length;ym++){var vm=ef[ym],RA=vm.toLowerCase(),NA=vm[0].toUpperCase()+vm.slice(1);Jn(RA,"on"+NA)}Jn(dy,"onAnimationEnd"),Jn(hy,"onAnimationIteration"),Jn(fy,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Gx,"onTransitionRun"),Jn($x,"onTransitionStart"),Jn(Kx,"onTransitionCancel"),Jn(my,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Ov(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],N=w.instance,H=w.currentTarget;if(w=w.listener,N!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=H;try{f(h)}catch(J){Mc(J)}h.currentTarget=null,f=N}else for(E=0;E<l.length;E++){if(w=l[E],N=w.instance,H=w.currentTarget,w=w.listener,N!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=H;try{f(h)}catch(J){Mc(J)}h.currentTarget=null,f=N}}}}function Oe(n,i){var s=i[Qo];s===void 0&&(s=i[Qo]=new Set);var l=n+"__bubble";s.has(l)||(Pv(i,n,2,!1),s.add(l))}function _m(n,i,s){var l=0;i&&(l|=4),Pv(s,n,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function bm(n){if(!n[Qc]){n[Qc]=!0,Xo.forEach(function(s){s!=="selectionchange"&&(CA.has(s)||_m(s,!1,n),_m(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,_m("selectionchange",!1,i))}}function Pv(n,i,s,l){switch(i_(i)){case 2:var h=n1;break;case 8:h=r1;break;default:h=Pm}s=h.bind(null,i,s,n),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,s,{capture:!0,passive:h}):n.addEventListener(i,s,!0):h!==void 0?n.addEventListener(i,s,{passive:h}):n.addEventListener(i,s,!1)}function Em(n,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=jr(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=f=E;continue e}w=w.parentNode}}l=l.return}Wu(function(){var H=f,J=Vn(s),te=[];e:{var G=gy.get(n);if(G!==void 0){var K=Is,we=n;switch(n){case"keypress":if(gr(s)===0)break e;case"keydown":case"keyup":K=js;break;case"focusin":we="focus",K=Ps;break;case"focusout":we="blur",K=Ps;break;case"beforeblur":case"afterblur":K=Ps;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ac;break;case dy:case hy:case fy:K=Ms;break;case my:K=oc;break;case"scroll":case"scrollend":K=Ju;break;case"wheel":K=Us;break;case"copy":case"cut":case"paste":K=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ll;break;case"toggle":case"beforetoggle":K=uc}var _e=(i&4)!==0,Ze=!_e&&(n==="scroll"||n==="scrollend"),L=_e?G!==null?G+"Capture":null:G;_e=[];for(var M=H,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=ja(M,L),Z!=null&&_e.push(Ll(M,Z,q))),Ze)break;M=M.return}0<_e.length&&(G=new K(G,we,null,s,J),te.push({event:G,listeners:_e}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&s!==zr&&(we=s.relatedTarget||s.fromElement)&&(jr(we)||we[Pn]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(we=s.relatedTarget||s.toElement,K=H,we=we?jr(we):null,we!==null&&(Ze=u(we),_e=we.tag,we!==Ze||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(K=null,we=H),K!==we)){if(_e=Un,Z="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(_e=ll,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Ze=K==null?G:dr(K),q=we==null?G:dr(we),G=new _e(Z,M+"leave",K,s,J),G.target=Ze,G.relatedTarget=q,Z=null,jr(J)===H&&(_e=new _e(L,M+"enter",we,s,J),_e.target=q,_e.relatedTarget=Ze,Z=_e),Ze=Z,K&&we)t:{for(_e=K,L=we,M=0,q=_e;q;q=uo(q))M++;for(q=0,Z=L;Z;Z=uo(Z))q++;for(;0<M-q;)_e=uo(_e),M--;for(;0<q-M;)L=uo(L),q--;for(;M--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=uo(_e),L=uo(L)}_e=null}else _e=null;K!==null&&Mv(te,G,K,_e,!1),we!==null&&Ze!==null&&Mv(te,Ze,we,_e,!0)}}e:{if(G=H?dr(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var me=ey;else if(Dt(G))if(ty)me=Fx;else{me=Bx;var Ie=Lx}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&tl(H.elementType)&&(me=ey):me=zx;if(me&&(me=me(n,H))){$r(te,me,s,J);break e}Ie&&Ie(n,G,H),n==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Si(G,"number",G.value)}switch(Ie=H?dr(H):window,n){case"focusin":(Dt(Ie)||Ie.contentEditable==="true")&&(Ls=Ie,Wh=H,dl=null);break;case"focusout":dl=Wh=Ls=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,uy(te,s,J);break;case"selectionchange":if(Hx)break;case"keydown":case"keyup":uy(te,s,J)}var ge;if(vr)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ve?Q(n,s)&&(be="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(b&&s.locale!=="ko"&&(Ve||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ve&&(ge=rl()):(mr=J,Ri="value"in mr?mr.value:mr.textContent,Ve=!0)),Ie=Xc(H,be),0<Ie.length&&(be=new sl(be,n,null,s,J),te.push({event:be,listeners:Ie}),ge?be.data=ge:(ge=oe(s),ge!==null&&(be.data=ge)))),(ge=y?It(n,s):je(n,s))&&(be=Xc(H,"onBeforeInput"),0<be.length&&(Ie=new sl("onBeforeInput","beforeinput",null,s,J),te.push({event:Ie,listeners:be}),Ie.data=ge)),SA(te,n,H,s,J)}Ov(te,i)})}function Ll(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Xc(n,i){for(var s=i+"Capture",l=[];n!==null;){var h=n,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ja(n,s),h!=null&&l.unshift(Ll(n,h,f)),h=ja(n,i),h!=null&&l.push(Ll(n,h,f))),n.tag===3)return l;n=n.return}return[]}function uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Mv(n,i,s,l,h){for(var f=i._reactName,E=[];s!==null&&s!==l;){var w=s,N=w.alternate,H=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||H===null||(N=H,h?(H=ja(s,f),H!=null&&E.unshift(Ll(s,H,N))):h||(H=ja(s,f),H!=null&&E.push(Ll(s,H,N)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var kA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function Vv(n){return(typeof n=="string"?n:""+n).replace(kA,`
`).replace(IA,"")}function jv(n,i){return i=Vv(i),Vv(n)===i}function Wc(){}function Je(n,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Mn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Mn(n,""+l);break;case"className":hr(n,"class",l);break;case"tabIndex":hr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(n,s,l);break;case"style":el(n,l,f);break;case"data":if(i!=="object"){hr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=ks(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Je(n,i,"name",h.name,h,null),Je(n,i,"formEncType",h.formEncType,h,null),Je(n,i,"formMethod",h.formMethod,h,null),Je(n,i,"formTarget",h.formTarget,h,null)):(Je(n,i,"encType",h.encType,h,null),Je(n,i,"method",h.method,h,null),Je(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=ks(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=ks(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Ai(n,"popover",l);break;case"xlinkActuate":Ht(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ai(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hh.get(s)||s,Ai(n,s,l))}}function Tm(n,i,s,l,h,f){switch(s){case"style":el(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Mn(n,l):(typeof l=="number"||typeof l=="bigint")&&Mn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!As.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=n[Tt]||null,f=f!=null?f[s]:null,typeof f=="function"&&n.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,h);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Ai(n,s,l)}}}function Yt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(n,i,f,E,s,null)}}h&&Je(n,i,"srcSet",s.srcSet,s,null),l&&Je(n,i,"src",s.src,s,null);return;case"input":Oe("invalid",n);var w=f=E=h=null,N=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":N=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:Je(n,i,l,J,s,null)}}Pa(n,f,w,N,H,E,h,!1),Cs(n);return;case"select":Oe("invalid",n),l=E=f=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Je(n,i,h,w,s,null)}i=f,s=E,n.multiple=!!l,i!=null?Br(n,!!l,i,!1):s!=null&&Br(n,!!l,s,!0);return;case"textarea":Oe("invalid",n),f=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Je(n,i,E,w,s,null)}Ma(n,l,h,f),Cs(n);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,i,N,l,s,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Oe(Ul[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(n,i,H,l,s,null)}return;default:if(tl(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Tm(n,i,J,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Je(n,i,w,l,s,null))}function DA(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,w=null,N=null,H=null,J=null;for(K in s){var te=s[K];if(s.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(K)||Je(n,i,K,null,l,te)}}for(var G in l){var K=l[G];if(te=s[G],l.hasOwnProperty(G)&&(K!=null||te!=null))switch(G){case"type":f=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==te&&Je(n,i,G,K,l,te)}}Tn(n,E,w,N,H,J,f,h);return;case"select":K=E=w=G=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(f)||Je(n,i,f,null,l,N)}for(h in l)if(f=l[h],N=s[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":G=f;break;case"defaultValue":w=f;break;case"multiple":E=f;default:f!==N&&Je(n,i,h,f,l,N)}i=w,s=E,l=K,G!=null?Br(n,!!s,G,!1):!!l!=!!s&&(i!=null?Br(n,!!s,i,!0):Br(n,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(n,i,w,null,l,h)}for(E in l)if(h=l[E],f=s[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Je(n,i,E,h,l,f)}Xe(n,G,K);return;case"option":for(var we in s)if(G=s[we],s.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Je(n,i,we,null,l,G)}for(N in l)if(G=l[N],K=s[N],l.hasOwnProperty(N)&&G!==K&&(G!=null||K!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Je(n,i,N,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)G=s[_e],s.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&Je(n,i,_e,null,l,G);for(H in l)if(G=l[H],K=s[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:Je(n,i,H,G,l,K)}return;default:if(tl(i)){for(var Ze in s)G=s[Ze],s.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&Tm(n,i,Ze,void 0,l,G);for(J in l)G=l[J],K=s[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Tm(n,i,J,G,l,K);return}}for(var L in s)G=s[L],s.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&Je(n,i,L,null,l,G);for(te in l)G=l[te],K=s[te],!l.hasOwnProperty(te)||G===K||G==null&&K==null||Je(n,i,te,G,l,K)}var wm=null,xm=null;function Jc(n){return n.nodeType===9?n:n.ownerDocument}function Uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Am(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sm=null;function OA(){var n=window.event;return n&&n.type==="popstate"?n===Sm?!1:(Sm=n,!0):(Sm=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(n){return zv.resolve(null).then(n).catch(VA)}:Bv;function VA(n){setTimeout(function(){throw n})}function qi(n){return n==="head"}function Fv(n,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var E=n.ownerDocument;if(s&1&&Bl(E.documentElement),s&2&&Bl(E.body),s&4)for(s=E.head,Bl(s),E=s.firstChild;E;){var w=E.nextSibling,N=E.nodeName;E[ka]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(h===0){n.removeChild(f),Yl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Yl(i)}function Rm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rm(s),xi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function jA(n,i,s,l){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ka])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=er(n.nextSibling),n===null)break}return null}function UA(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=er(n.nextSibling),n===null))return null;return n}function Nm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function LA(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function er(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Cm=null;function qv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Hv(n,i,s){switch(i=Jc(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Bl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);xi(n)}var Gn=new Map,Gv=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ai=ue.d;ue.d={f:BA,r:zA,D:FA,C:qA,L:HA,m:GA,X:KA,S:$A,M:YA};function BA(){var n=ai.f(),i=Hc();return n||i}function zA(n){var i=cr(n);i!==null&&i.tag===5&&i.type==="form"?d0(i):ai.r(n)}var co=typeof document>"u"?null:document;function $v(n,i,s){var l=co;if(l&&typeof i=="string"&&i){var h=wt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Gv.has(h)||(Gv.add(h),n={rel:n,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",n),vt(i),l.head.appendChild(i)))}}function FA(n){ai.D(n),$v("dns-prefetch",n,null)}function qA(n,i){ai.C(n,i),$v("preconnect",n,i)}function HA(n,i,s){ai.L(n,i,s);var l=co;if(l&&n&&i){var h='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wt(s.imageSizes)+'"]')):h+='[href="'+wt(n)+'"]';var f=h;switch(i){case"style":f=ho(n);break;case"script":f=fo(n)}Gn.has(f)||(n=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Gn.set(f,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(zl(f))||i==="script"&&l.querySelector(Fl(f))||(i=l.createElement("link"),Yt(i,"link",n),vt(i),l.head.appendChild(i)))}}function GA(n,i){ai.m(n,i);var s=co;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(n)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fo(n)}if(!Gn.has(f)&&(n=_({rel:"modulepreload",href:n},i),Gn.set(f,n),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Fl(f)))return}l=s.createElement("link"),Yt(l,"link",n),vt(l),s.head.appendChild(l)}}}function $A(n,i,s){ai.S(n,i,s);var l=co;if(l&&n){var h=ln(l).hoistableStyles,f=ho(n);i=i||"default";var E=h.get(f);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(zl(f)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Gn.get(f))&&km(n,s);var N=E=l.createElement("link");vt(N),Yt(N,"link",n),N._p=new Promise(function(H,J){N.onload=H,N.onerror=J}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ed(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(f,E)}}}function KA(n,i){ai.X(n,i);var s=co;if(s&&n){var l=ln(s).hoistableScripts,h=fo(n),f=l.get(h);f||(f=s.querySelector(Fl(h)),f||(n=_({src:n,async:!0},i),(i=Gn.get(h))&&Im(n,i),f=s.createElement("script"),vt(f),Yt(f,"link",n),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function YA(n,i){ai.M(n,i);var s=co;if(s&&n){var l=ln(s).hoistableScripts,h=fo(n),f=l.get(h);f||(f=s.querySelector(Fl(h)),f||(n=_({src:n,async:!0,type:"module"},i),(i=Gn.get(h))&&Im(n,i),f=s.createElement("script"),vt(f),Yt(f,"link",n),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Kv(n,i,s,l){var h=(h=xe.current)?Zc(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ho(s.href),s=ln(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ho(s.href);var f=ln(h).hoistableStyles,E=f.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,E),(f=h.querySelector(zl(n)))&&!f._p&&(E.instance=f,E.state.loading=5),Gn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(n,s),f||QA(h,n,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(s),s=ln(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ho(n){return'href="'+wt(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function Yv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function QA(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",s),vt(i),n.head.appendChild(i))}function fo(n){return'[src="'+wt(n)+'"]'}function Fl(n){return"script[async]"+n}function Qv(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+wt(s.href)+'"]');if(l)return i.instance=l,vt(l),l;var h=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),vt(l),Yt(l,"style",h),ed(l,s.precedence,n),i.instance=l;case"stylesheet":h=ho(s.href);var f=n.querySelector(zl(h));if(f)return i.state.loading|=4,i.instance=f,vt(f),f;l=Yv(s),(h=Gn.get(h))&&km(l,h),f=(n.ownerDocument||n).createElement("link"),vt(f);var E=f;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Yt(f,"link",l),i.state.loading|=4,ed(f,s.precedence,n),i.instance=f;case"script":return f=fo(s.src),(h=n.querySelector(Fl(f)))?(i.instance=h,vt(h),h):(l=s,(h=Gn.get(f))&&(l=_({},s),Im(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),vt(h),Yt(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ed(l,s.precedence,n));return i.instance}function ed(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(n,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function km(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Im(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var td=null;function Xv(n,i,s){if(td===null){var l=new Map,h=td=new Map;h.set(s,l)}else h=td,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var f=s[h];if(!(f[ka]||f[kt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(f):l.set(E,[f])}}return l}function Wv(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function XA(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ql=null;function WA(){}function JA(n,i,s){if(ql===null)throw Error(a(475));var l=ql;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ho(s.href),f=n.querySelector(zl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=nd.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=f,vt(f);return}f=n.ownerDocument||n,s=Yv(s),(h=Gn.get(h))&&km(s,h),f=f.createElement("link"),vt(f);var E=f;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Yt(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nd.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function ZA(){if(ql===null)throw Error(a(475));var n=ql;return n.stylesheets&&n.count===0&&Dm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Dm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function nd(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rd=null;function Dm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rd=new Map,i.forEach(e1,n),rd=null,nd.call(n))}function e1(n,i){if(!(i.state.loading&4)){var s=rd.get(n);if(s)var l=s.get(null);else{s=new Map,rd.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,h),s.set(E,h),this.count++,l=nd.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Hl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function t1(n,i,s,l,h,f,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Zv(n,i,s,l,h,f,E,w,N,H,J,te){return n=new t1(n,i,s,E,w,N,H,te),i=1,f===!0&&(i|=24),f=xn(3,null,null,i),n.current=f,f.stateNode=n,i=ff(),i.refCount++,n.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},yf(f),n}function e_(n){return n?(n=qs,n):qs}function t_(n,i,s,l,h,f){h=e_(h),l.context===null?l.context=h:l.pendingContext=h,l=ki(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ii(n,l,i),s!==null&&(Cn(s,n,i),bl(s,n,i))}function n_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Om(n,i){n_(n,i),(n=n.alternate)&&n_(n,i)}function r_(n){if(n.tag===13){var i=Fs(n,67108864);i!==null&&Cn(i,n,67108864),Om(n,67108864)}}var id=!0;function n1(n,i,s,l){var h=X.T;X.T=null;var f=ue.p;try{ue.p=2,Pm(n,i,s,l)}finally{ue.p=f,X.T=h}}function r1(n,i,s,l){var h=X.T;X.T=null;var f=ue.p;try{ue.p=8,Pm(n,i,s,l)}finally{ue.p=f,X.T=h}}function Pm(n,i,s,l){if(id){var h=Mm(l);if(h===null)Em(n,i,l,ad,s),a_(n,l);else if(a1(h,n,i,s,l))l.stopPropagation();else if(a_(n,l),i&4&&-1<i1.indexOf(n)){for(;h!==null;){var f=cr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Qn(f.pendingLanes);if(E!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-en(E);w.entanglements[1]|=N,E&=~N}xr(f),(Ke&6)===0&&(Fc=On()+500,jl(0))}}break;case 13:w=Fs(f,2),w!==null&&Cn(w,f,2),Hc(),Om(f,2)}if(f=Mm(l),f===null&&Em(n,i,l,ad,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Em(n,i,l,null,s)}}function Mm(n){return n=Vn(n),Vm(n)}var ad=null;function Vm(n){if(ad=null,n=jr(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ad=n,null}function i_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case Fo:return 2;case Es:return 8;case Aa:case Lh:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var jm=!1,Hi=null,Gi=null,$i=null,Gl=new Map,$l=new Map,Ki=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(n,i){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Kl(n,i,s,l,h,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=cr(i),i!==null&&r_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function a1(n,i,s,l,h){switch(i){case"focusin":return Hi=Kl(Hi,n,i,s,l,h),!0;case"dragenter":return Gi=Kl(Gi,n,i,s,l,h),!0;case"mouseover":return $i=Kl($i,n,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Gl.set(f,Kl(Gl.get(f)||null,n,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Kl($l.get(f)||null,n,i,s,l,h)),!0}return!1}function s_(n){var i=jr(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){n.blockedOn=i,Hu(n.priority,function(){if(s.tag===13){var l=Nn();l=Ei(l);var h=Fs(s,l);h!==null&&Cn(h,s,l),Om(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Mm(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);zr=l,s.target.dispatchEvent(l),zr=null}else return i=cr(s),i!==null&&r_(i),n.blockedOn=s,!1;i.shift()}return!0}function o_(n,i,s){sd(n)&&s.delete(i)}function s1(){jm=!1,Hi!==null&&sd(Hi)&&(Hi=null),Gi!==null&&sd(Gi)&&(Gi=null),$i!==null&&sd($i)&&($i=null),Gl.forEach(o_),$l.forEach(o_)}function od(n,i){n.blockedOn===i&&(n.blockedOn=null,jm||(jm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,s1)))}var ld=null;function l_(n){ld!==n&&(ld=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ld===n&&(ld=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Vm(l||s)===null)continue;break}var f=cr(s);f!==null&&(n.splice(i,3),i-=3,Vf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Yl(n){function i(N){return od(N,n)}Hi!==null&&od(Hi,n),Gi!==null&&od(Gi,n),$i!==null&&od($i,n),Gl.forEach(i),$l.forEach(i);for(var s=0;s<Ki.length;s++){var l=Ki[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ki.length&&(s=Ki[0],s.blockedOn===null);)s_(s),s.blockedOn===null&&Ki.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],E=h[Tt]||null;if(typeof f=="function")E||l_(s);else if(E){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[Tt]||null)w=E.formAction;else if(Vm(h)!==null)continue}else w=E.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),l_(s)}}}function Um(n){this._internalRoot=n}ud.prototype.render=Um.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Nn();t_(s,l,n,i,null,null)},ud.prototype.unmount=Um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;t_(n.current,2,null,n,null,null),Hc(),i[Pn]=null}};function ud(n){this._internalRoot=n}ud.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ti();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Ki.length&&i!==0&&i<Ki[s].priority;s++);Ki.splice(s,0,n),s===0&&s_(n)}};var u_=e.version;if(u_!=="19.1.0")throw Error(a(527,u_,"19.1.0"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var o1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{dt=cd.inject(o1),$e=cd}catch{}}return Xl.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",h=A0,f=S0,E=R0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Zv(n,1,!1,null,null,s,l,h,f,E,w,null),n[Pn]=i.current,bm(n),new Um(i)},Xl.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,h="",f=A0,E=S0,w=R0,N=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),i=Zv(n,1,!0,i,s??null,l,h,f,E,w,N,H),i.context=e_(null),s=i.current,l=Nn(),l=Ei(l),h=ki(l),h.callback=null,Ii(s,h,l),s=l,i.current.lanes=s,Vr(i,s),xr(i),n[Pn]=i.current,bm(n),new ud(i)},Xl.version="19.1.0",Xl}var __;function y1(){if(__)return zm.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zm.exports=p1(),zm.exports}var v1=y1();const _1=_E(v1);var Wl={},b_;function b1(){if(b_)return Wl;b_=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.parse=d,Wl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function d(T,I){const C=new u,z=T.length;if(z<2)return C;const j=(I==null?void 0:I.decode)||_;let $=0;do{const W=T.indexOf("=",$);if(W===-1)break;const Y=T.indexOf(";",$),re=Y===-1?z:Y;if(W>re){$=T.lastIndexOf(";",W-1)+1;continue}const ae=m(T,$,W),de=g(T,W,ae),D=T.slice(ae,de);if(C[D]===void 0){let S=m(T,W+1,re),R=g(T,re,S);const O=j(T.slice(S,R));C[D]=O}$=re+1}while($<z);return C}function m(T,I,C){do{const z=T.charCodeAt(I);if(z!==32&&z!==9)return I}while(++I<C);return C}function g(T,I,C){for(;I>C;){const z=T.charCodeAt(--I);if(z!==32&&z!==9)return I+1}return C}function p(T,I,C){const z=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const j=z(I);if(!e.test(j))throw new TypeError(`argument val is invalid: ${I}`);let $=T+"="+j;if(!C)return $;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);$+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);$+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);$+="; Path="+C.path}if(C.expires){if(!x(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);$+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&($+="; HttpOnly"),C.secure&&($+="; Secure"),C.partitioned&&($+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return $}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function x(T){return o.call(T)==="[object Date]"}return Wl}b1();var E_="popstate";function E1(r={}){function e(o,u){let{pathname:d="/",search:m="",hash:g=""}=gs(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),dg("",{pathname:d,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:gu(u))}function a(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return w1(e,t,a,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T1(){return Math.random().toString(36).substring(2,10)}function T_(r,e){return{usr:r.state,key:r.key,idx:e}}function dg(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?gs(e):e,state:t,key:e&&e.key||a||T1()}}function gu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function gs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function w1(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",g=null,p=_();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function _(){return(d.state||{idx:null}).idx}function x(){m="POP";let j=_(),$=j==null?null:j-p;p=j,g&&g({action:m,location:z.location,delta:$})}function T(j,$){m="PUSH";let W=dg(z.location,j,$);t&&t(W,j),p=_()+1;let Y=T_(W,p),re=z.createHref(W);try{d.pushState(Y,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&g&&g({action:m,location:z.location,delta:1})}function I(j,$){m="REPLACE";let W=dg(z.location,j,$);t&&t(W,j),p=_();let Y=T_(W,p),re=z.createHref(W);d.replaceState(Y,"",re),u&&g&&g({action:m,location:z.location,delta:0})}function C(j){return x1(j)}let z={get action(){return m},get location(){return r(o,d)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(E_,x),g=j,()=>{o.removeEventListener(E_,x),g=null}},createHref(j){return e(o,j)},createURL:C,encodeLocation(j){let $=C(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:I,go(j){return d.go(j)}};return z}function x1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:gu(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function EE(r,e,t="/"){return A1(r,e,t,!1)}function A1(r,e,t,a){let o=typeof e=="string"?gs(e):e,u=di(o.pathname||"/",t);if(u==null)return null;let d=TE(r);S1(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let p=j1(u);m=M1(d[g],p,a)}return m}function TE(r,e=[],t=[],a=""){let o=(u,d,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};g.relativePath.startsWith("/")&&(lt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=li([a,g.relativePath]),_=t.concat(g);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),TE(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:O1(p,u.index),routesMeta:_})};return r.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let g of wE(u.path))o(u,d,g)}),e}function wE(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=wE(a.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function S1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:P1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var R1=/^:[\w-]+$/,N1=3,C1=2,k1=1,I1=10,D1=-2,w_=r=>r==="*";function O1(r,e){let t=r.split("/"),a=t.length;return t.some(w_)&&(a+=D1),e&&(a+=C1),t.filter(o=>!w_(o)).reduce((o,u)=>o+(R1.test(u)?N1:u===""?k1:I1),a)}function P1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function M1(r,e,t=!1){let{routesMeta:a}=r,o={},u="/",d=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",x=Ud({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),T=g.route;if(!x&&p&&t&&!a[a.length-1].route.index&&(x=Ud({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:li([u,x.pathname]),pathnameBase:z1(li([u,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(u=li([u,x.pathnameBase]))}return d}function Ud(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=V1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:_,isOptional:x},T)=>{if(_==="*"){let C=m[T]||"";d=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const I=m[T];return x&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:r}}function V1(r,e=!1,t=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function j1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function di(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function U1(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?gs(r):r;return{pathname:t?t.startsWith("/")?t:L1(t,e):e,search:F1(a),hash:q1(o)}}function L1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fg(r){let e=B1(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function qg(r,e,t,a=!1){let o;typeof r=="string"?o=gs(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=t;else{let x=e.length-1;if(!a&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),x-=1;o.pathname=T.join("/")}m=x>=0?e[x]:"/"}let g=U1(o,m),p=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var li=r=>r.join("/").replace(/\/\/+/g,"/"),z1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),F1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,q1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function H1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var xE=["POST","PUT","PATCH","DELETE"];new Set(xE);var G1=["GET",...xE];new Set(G1);var Io=B.createContext(null);Io.displayName="DataRouter";var oh=B.createContext(null);oh.displayName="DataRouterState";var AE=B.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var $1=B.createContext(new Map);$1.displayName="Fetchers";var K1=B.createContext(null);K1.displayName="Await";var ar=B.createContext(null);ar.displayName="Navigation";var Ru=B.createContext(null);Ru.displayName="Location";var sr=B.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Hg=B.createContext(null);Hg.displayName="RouteError";function Y1(r,{relative:e}={}){lt(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=B.useContext(ar),{hash:o,pathname:u,search:d}=Nu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:li([t,u])),a.createHref({pathname:m,search:d,hash:o})}function Do(){return B.useContext(Ru)!=null}function vi(){return lt(Do(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ru).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(r){B.useContext(ar).static||B.useLayoutEffect(r)}function ya(){let{isDataRoute:r}=B.useContext(sr);return r?oS():Q1()}function Q1(){lt(Do(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Io),{basename:e,navigator:t}=B.useContext(ar),{matches:a}=B.useContext(sr),{pathname:o}=vi(),u=JSON.stringify(Fg(a)),d=B.useRef(!1);return RE(()=>{d.current=!0}),B.useCallback((g,p={})=>{if(Yn(d.current,SE),!d.current)return;if(typeof g=="number"){t.go(g);return}let _=qg(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:li([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,u,o,r])}B.createContext(null);function NE(){let{matches:r}=B.useContext(sr),e=r[r.length-1];return e?e.params:{}}function Nu(r,{relative:e}={}){let{matches:t}=B.useContext(sr),{pathname:a}=vi(),o=JSON.stringify(Fg(t));return B.useMemo(()=>qg(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function X1(r,e){return CE(r,e)}function CE(r,e,t,a){var $;lt(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ar),{matches:u}=B.useContext(sr),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",p=d?d.pathnameBase:"/",_=d&&d.route;{let W=_&&_.path||"";kE(g,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=vi(),T;if(e){let W=typeof e=="string"?gs(e):e;lt(p==="/"||(($=W.pathname)==null?void 0:$.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${W.pathname}" was given in the \`location\` prop.`),T=W}else T=x;let I=T.pathname||"/",C=I;if(p!=="/"){let W=p.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=EE(r,{pathname:C});Yn(_||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Yn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=tS(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:li([p,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?p:li([p,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,t,a);return e&&j?B.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},j):j}function W1(){let r=sS(),e=H1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,d)}var J1=B.createElement(W1,null),Z1=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(sr.Provider,{value:this.props.routeContext},B.createElement(Hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eS({routeContext:r,match:e,children:t}){let a=B.useContext(Io);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(sr.Provider,{value:r},t)}function tS(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:x}=t,T=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||T){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,_)=>{let x,T=!1,I=null,C=null;t&&(x=u&&p.route.id?u[p.route.id]:void 0,I=p.route.errorElement||J1,d&&(m<0&&_===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):m===_&&(T=!0,C=p.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),j=()=>{let $;return x?$=I:T?$=C:p.route.Component?$=B.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=g,B.createElement(eS,{match:p,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:$})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?B.createElement(Z1,{location:t.location,revalidation:t.revalidation,component:I,error:x,children:j(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):j()},null)}function Gg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(r){let e=B.useContext(Io);return lt(e,Gg(r)),e}function rS(r){let e=B.useContext(oh);return lt(e,Gg(r)),e}function iS(r){let e=B.useContext(sr);return lt(e,Gg(r)),e}function $g(r){let e=iS(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function aS(){return $g("useRouteId")}function sS(){var a;let r=B.useContext(Hg),e=rS("useRouteError"),t=$g("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function oS(){let{router:r}=nS("useNavigate"),e=$g("useNavigate"),t=B.useRef(!1);return RE(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{Yn(t.current,SE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var x_={};function kE(r,e,t){!e&&!x_[r]&&(x_[r]=!0,Yn(!1,t))}B.memo(lS);function lS({routes:r,future:e,state:t}){return CE(r,void 0,t,e)}function Ld({to:r,replace:e,state:t,relative:a}){lt(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ar);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(sr),{pathname:d}=vi(),m=ya(),g=qg(r,Fg(u),d,a==="path"),p=JSON.stringify(g);return B.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:a})},[m,p,a,e,t]),null}function Xi(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uS({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){lt(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof t=="string"&&(t=gs(t));let{pathname:g="/",search:p="",hash:_="",state:x=null,key:T="default"}=t,I=B.useMemo(()=>{let C=di(g,d);return C==null?null:{location:{pathname:C,search:p,hash:_,state:x,key:T},navigationType:a}},[d,g,p,_,x,T,a]);return Yn(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:B.createElement(ar.Provider,{value:m},B.createElement(Ru.Provider,{children:e,value:I}))}function cS({children:r,location:e}){return X1(hg(r),e)}function hg(r,e=[]){let t=[];return B.Children.forEach(r,(a,o)=>{if(!B.isValidElement(a))return;let u=[...e,o];if(a.type===B.Fragment){t.push.apply(t,hg(a.props.children,u));return}lt(a.type===Xi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=hg(a.props.children,u)),t.push(d)}),t}var Sd="get",Rd="application/x-www-form-urlencoded";function lh(r){return r!=null&&typeof r.tagName=="string"}function dS(r){return lh(r)&&r.tagName.toLowerCase()==="button"}function hS(r){return lh(r)&&r.tagName.toLowerCase()==="form"}function fS(r){return lh(r)&&r.tagName.toLowerCase()==="input"}function mS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gS(r,e){return r.button===0&&(!e||e==="_self")&&!mS(r)}var dd=null;function pS(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var yS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!yS.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):r}function vS(r,e){let t,a,o,u,d;if(hS(r)){let m=r.getAttribute("action");a=m?di(m,e):null,t=r.getAttribute("method")||Sd,o=$m(r.getAttribute("enctype"))||Rd,u=new FormData(r)}else if(dS(r)||fS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?di(g,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||Sd,o=$m(r.getAttribute("formenctype"))||$m(m.getAttribute("enctype"))||Rd,u=new FormData(m,r),!pS()){let{name:p,type:_,value:x}=r;if(_==="image"){let T=p?`${p}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else p&&u.append(p,x)}}else{if(lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sd,a=null,o=Rd,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:d}}function Kg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function _S(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ES(r,e,t){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await _S(u,t);return d.links?d.links():[]}return[]}));return AS(a.flat(1).filter(bS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A_(r,e,t,a,o,u){let d=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var _;return t[p].pathname!==g.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>d(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var x;let _=a.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(d(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TS(r,e,{includeHydrateFallback:t}={}){return wS(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function wS(r){return[...new Set(r)]}function xS(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function AS(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(xS(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SS=new Set([100,101,204,205]);function RS(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&di(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function IE(){let r=B.useContext(Io);return Kg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function NS(){let r=B.useContext(oh);return Kg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yg=B.createContext(void 0);Yg.displayName="FrameworkContext";function DE(){let r=B.useContext(Yg);return Kg(r,"You must render this element inside a <HydratedRouter> element"),r}function CS(r,e){let t=B.useContext(Yg),[a,o]=B.useState(!1),[u,d]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:x}=e,T=B.useRef(null);B.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let z=$=>{$.forEach(W=>{d(W.isIntersecting)})},j=new IntersectionObserver(z,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[r]),B.useEffect(()=>{if(a){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[a]);let I=()=>{o(!0)},C=()=>{o(!1),d(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Jl(m,I),onBlur:Jl(g,C),onMouseEnter:Jl(p,I),onMouseLeave:Jl(_,C),onTouchStart:Jl(x,I)}]:[!1,T,{}]}function Jl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function kS({page:r,...e}){let{router:t}=IE(),a=B.useMemo(()=>EE(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?B.createElement(DS,{page:r,matches:a,...e}):null}function IS(r){let{manifest:e,routeModules:t}=DE(),[a,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return ES(r,e,t).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,t]),a}function DS({page:r,matches:e,...t}){let a=vi(),{manifest:o,routeModules:u}=DE(),{basename:d}=IE(),{loaderData:m,matches:g}=NS(),p=B.useMemo(()=>A_(r,e,g,o,a,"data"),[r,e,g,o,a]),_=B.useMemo(()=>A_(r,e,g,o,a,"assets"),[r,e,g,o,a]),x=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let C=new Set,z=!1;if(e.forEach($=>{var Y;let W=o.routes[$.route.id];!W||!W.hasLoader||(!p.some(re=>re.route.id===$.route.id)&&$.route.id in m&&((Y=u[$.route.id])!=null&&Y.shouldRevalidate)||W.hasClientLoader?z=!0:C.add($.route.id))}),C.size===0)return[];let j=RS(r,d);return z&&C.size>0&&j.searchParams.set("_routes",e.filter($=>C.has($.route.id)).map($=>$.route.id).join(",")),[j.pathname+j.search]},[d,m,a,o,p,e,r,u]),T=B.useMemo(()=>TS(_,o),[_,o]),I=IS(_);return B.createElement(B.Fragment,null,x.map(C=>B.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>B.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:z})=>B.createElement("link",{key:C,...z})))}function OS(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.6.3")}catch{}function PS({basename:r,children:e,window:t}){let a=B.useRef();a.current==null&&(a.current=E1({window:t,v5Compat:!0}));let o=a.current,[u,d]=B.useState({action:o.action,location:o.location}),m=B.useCallback(g=>{B.startTransition(()=>d(g))},[d]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(uS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uh=B.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:p,preventScrollReset:_,viewTransition:x,...T},I){let{basename:C}=B.useContext(ar),z=typeof p=="string"&&PE.test(p),j,$=!1;if(typeof p=="string"&&z&&(j=p,OE))try{let R=new URL(window.location.href),O=p.startsWith("//")?new URL(R.protocol+p):new URL(p),V=di(O.pathname,C);O.origin===R.origin&&V!=null?p=V+O.search+O.hash:$=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Y1(p,{relative:o}),[Y,re,ae]=CS(a,T),de=US(p,{replace:d,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:x});function D(R){e&&e(R),R.defaultPrevented||de(R)}let S=B.createElement("a",{...T,...ae,href:j||W,onClick:$||u?e:D,ref:OS(I,re),target:g,"data-discover":!z&&t==="render"?"true":void 0});return Y&&!z?B.createElement(B.Fragment,null,S,B.createElement(kS,{page:W})):S});uh.displayName="Link";var MS=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...p},_){let x=Nu(d,{relative:p.relative}),T=vi(),I=B.useContext(oh),{navigator:C,basename:z}=B.useContext(ar),j=I!=null&&qS(x)&&m===!0,$=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,W=T.pathname,Y=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(W=W.toLowerCase(),Y=Y?Y.toLowerCase():null,$=$.toLowerCase()),Y&&z&&(Y=di(Y,z)||Y);const re=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=W===$||!o&&W.startsWith($)&&W.charAt(re)==="/",de=Y!=null&&(Y===$||!o&&Y.startsWith($)&&Y.charAt($.length)==="/"),D={isActive:ae,isPending:de,isTransitioning:j},S=ae?e:void 0,R;typeof a=="function"?R=a(D):R=[a,ae?"active":null,de?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return B.createElement(uh,{...p,"aria-current":S,className:R,ref:_,style:O,to:d,viewTransition:m},typeof g=="function"?g(D):g)});MS.displayName="NavLink";var VS=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:d=Sd,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:x,...T},I)=>{let C=zS(),z=FS(m,{relative:p}),j=d.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&PE.test(m),W=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let re=Y.nativeEvent.submitter,ae=(re==null?void 0:re.getAttribute("formmethod"))||d;C(re||Y.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:x})};return B.createElement("form",{ref:I,method:j,action:z,onSubmit:a?g:W,...T,"data-discover":!$&&r==="render"?"true":void 0})});VS.displayName="Form";function jS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ME(r){let e=B.useContext(Io);return lt(e,jS(r)),e}function US(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=ya(),g=vi(),p=Nu(r,{relative:u});return B.useCallback(_=>{if(gS(_,e)){_.preventDefault();let x=t!==void 0?t:gu(g)===gu(p);m(r,{replace:x,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[g,m,p,t,a,e,r,o,u,d])}var LS=0,BS=()=>`__${String(++LS)}__`;function zS(){let{router:r}=ME("useSubmit"),{basename:e}=B.useContext(ar),t=aS();return B.useCallback(async(a,o={})=>{let{action:u,method:d,encType:m,formData:g,body:p}=vS(a,e);if(o.navigate===!1){let _=o.fetcherKey||BS();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function FS(r,{relative:e}={}){let{basename:t}=B.useContext(ar),a=B.useContext(sr);lt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Nu(r||".",{relative:e})},d=vi();if(r==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:li([t,u.pathname])),gu(u)}function qS(r,e={}){let t=B.useContext(AE);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ME("useViewTransitionState"),o=Nu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=di(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=di(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Ud(o.pathname,d)!=null||Ud(o.pathname,u)!=null}[...SS];const HS="modulepreload",GS=function(r){return"/credores/"+r},S_={},hd=function(e,t,a){let o=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(t.map(p=>{if(p=GS(p),p in S_)return;S_[p]=!0;const _=p.endsWith(".css"),x=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":HS,_||(T.as="script"),T.crossOrigin="",T.href=p,g&&T.setAttribute("nonce",g),document.head.appendChild(T),_)return new Promise((I,C)=>{T.addEventListener("load",I),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},$S=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},KS=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],d=r[t++],m=r[t++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],d=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,m=d?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,_=u>>2,x=(u&3)<<4|m>>4;let T=(m&15)<<2|p>>6,I=p&63;g||(I=64,d||(T=64)),a.push(t[_],t[x],t[T],t[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(VE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):KS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const p=o<r.length?t[r.charAt(o)]:64;++o;const x=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||x==null)throw new YS;const T=u<<2|m>>4;if(a.push(T),p!==64){const I=m<<4&240|p>>2;if(a.push(I),x!==64){const C=p<<6&192|x;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QS=function(r){const e=VE(r);return jE.encodeByteArray(e,!0)},Bd=function(r){return QS(r).replace(/\./g,"")},UE=function(r){try{return jE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=()=>XS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&UE(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return $S()||WS()||JS()||ZS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>{var e,t;return(t=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Qg=r=>{const e=LE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},BE=()=>{var r;return(r=ch())===null||r===void 0?void 0:r.config},zE=r=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dh(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bd(JSON.stringify(t)),Bd(JSON.stringify(d)),""].join(".")}const lu={};function tR(){const r={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?r.emulator.push(e):r.prod.push(e);return r}function nR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let N_=!1;function hh(r,e){if(typeof window>"u"||typeof document>"u"||!_i(window.location.host)||lu[r]===e||lu[r]||N_)return;lu[r]=e;function t(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=tR().prod.length>0;function d(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{N_=!0,d()},T}function _(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=nR(a),I=t("text"),C=document.getElementById(I)||document.createElement("span"),z=t("learnmore"),j=document.getElementById(z)||document.createElement("a"),$=t("preprendIcon"),W=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;m(Y),_(j,z);const re=p();g(W,$),Y.append(W,C,j,re),document.body.appendChild(Y)}u?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function iR(){var r;const e=(r=ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class or extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=hR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?fR(u,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new or(o,m,a)}}function fR(r,e){return r.replace(mR,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const mR=/\{\$([^}]+)}/g;function gR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function cs(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],d=e[o];if(C_(u)&&C_(d)){if(!cs(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function nu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function pR(r,e){const t=new yR(r,e);return t.subscribe.bind(t)}class yR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");vR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(r){return r&&r._delegate?r._delegate:r}class hi{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new eR;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bR(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(r){return r===ss?void 0:r}function ER(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _R(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const wR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},xR=Pe.INFO,AR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},SR=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=AR[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const RR=(r,e)=>e.some(t=>r instanceof t);let k_,I_;function NR(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,fg=new WeakMap,HE=new WeakMap,Ym=new WeakMap,Wg=new WeakMap;function kR(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{t(ia(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&qE.set(t,r)}).catch(()=>{}),Wg.set(e,r),e}function IR(r){if(fg.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{t(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});fg.set(r,e)}let mg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return fg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ia(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DR(r){mg=r(mg)}function OR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Qm(this),e,...t);return HE.set(a,e.sort?e.sort():[e]),ia(a)}:CR().includes(r)?function(...e){return r.apply(Qm(this),e),ia(qE.get(this))}:function(...e){return ia(r.apply(Qm(this),e))}}function PR(r){return typeof r=="function"?OR(r):(r instanceof IDBTransaction&&IR(r),RR(r,NR())?new Proxy(r,mg):r)}function ia(r){if(r instanceof IDBRequest)return kR(r);if(Ym.has(r))return Ym.get(r);const e=PR(r);return e!==r&&(Ym.set(r,e),Wg.set(e,r)),e}const Qm=r=>Wg.get(r);function MR(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),m=ia(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ia(d.result),g.oldVersion,g.newVersion,ia(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],Xm=new Map;function D_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=jR.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(t)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Xm.set(e,u),u}DR(r=>({...r,get:(e,t,a)=>D_(e,t)||r.get(e,t,a),has:(e,t)=>!!D_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LR(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function LR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",O_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Xg("@firebase/app"),BR="@firebase/app-compat",zR="@firebase/analytics-compat",FR="@firebase/analytics",qR="@firebase/app-check-compat",HR="@firebase/app-check",GR="@firebase/auth",$R="@firebase/auth-compat",KR="@firebase/database",YR="@firebase/data-connect",QR="@firebase/database-compat",XR="@firebase/functions",WR="@firebase/functions-compat",JR="@firebase/installations",ZR="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",rN="@firebase/performance-compat",iN="@firebase/remote-config",aN="@firebase/remote-config-compat",sN="@firebase/storage",oN="@firebase/storage-compat",lN="@firebase/firestore",uN="@firebase/ai",cN="@firebase/firestore-compat",dN="firebase",hN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",fN={[gg]:"fire-core",[BR]:"fire-core-compat",[FR]:"fire-analytics",[zR]:"fire-analytics-compat",[HR]:"fire-app-check",[qR]:"fire-app-check-compat",[GR]:"fire-auth",[$R]:"fire-auth-compat",[KR]:"fire-rtdb",[YR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[XR]:"fire-fn",[WR]:"fire-fn-compat",[JR]:"fire-iid",[ZR]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[rN]:"fire-perf-compat",[iN]:"fire-rc",[aN]:"fire-rc-compat",[sN]:"fire-gcs",[oN]:"fire-gcs-compat",[lN]:"fire-fst",[cN]:"fire-fst-compat",[uN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,mN=new Map,yg=new Map;function P_(r,e){try{r.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ua(r){const e=r.name;if(yg.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,r);for(const t of zd.values())P_(t,r);for(const t of mN.values())P_(t,r);return!0}function Iu(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Cu("app","Firebase",gN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=hN;function GE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:pg,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(t||(t=BE()),!t)throw aa.create("no-options");const u=zd.get(o);if(u){if(cs(t,u.options)&&cs(a,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const d=new TR(o);for(const g of yg.values())d.addComponent(g);const m=new pN(t,a,d);return zd.set(o,m),m}function fh(r=pg){const e=zd.get(r);if(!e&&r===pg&&BE())return GE();if(!e)throw aa.create("no-app",{appName:r});return e}function Kn(r,e,t){var a;let o=(a=fN[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(m.join(" "));return}ua(new hi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebase-heartbeat-database",vN=1,pu="firebase-heartbeat-store";let Wm=null;function $E(){return Wm||(Wm=MR(yN,vN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(r=>{throw aa.create("idb-open",{originalErrorMessage:r.message})})),Wm}async function _N(r){try{const t=(await $E()).transaction(pu),a=await t.objectStore(pu).get(KE(r));return await t.done,a}catch(e){if(e instanceof or)fi.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function M_(r,e){try{const a=(await $E()).transaction(pu,"readwrite");await a.objectStore(pu).put(e,KE(r)),await a.done}catch(t){if(t instanceof or)fi.warn(t.message);else{const a=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(a.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1024,EN=30;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xN(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>EN){const d=AN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){fi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V_(),{heartbeatsToSend:a,unsentEntries:o}=wN(this._heartbeatsCache.heartbeats),u=Bd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return fi.warn(t),""}}}function V_(){return new Date().toISOString().substring(0,10)}function wN(r,e=bN){const t=[];let a=r.slice();for(const o of r){const u=t.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),j_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),j_(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class xN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _N(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return M_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return M_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j_(r){return Bd(JSON.stringify({version:2,heartbeats:r})).length}function AN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(r){ua(new hi("platform-logger",e=>new UR(e),"PRIVATE")),ua(new hi("heartbeat",e=>new TN(e),"PRIVATE")),Kn(gg,O_,r),Kn(gg,O_,"esm2017"),Kn("fire-js","")}SN("");var RN="firebase",NN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(RN,NN,"app");function Jg(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CN=YE,QE=new Cu("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Xg("@firebase/auth");function kN(r,...e){Fd.logLevel<=Pe.WARN&&Fd.warn(`Auth (${ps}): ${r}`,...e)}function Nd(r,...e){Fd.logLevel<=Pe.ERROR&&Fd.error(`Auth (${ps}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(r,...e){throw Zg(r,...e)}function Rr(r,...e){return Zg(r,...e)}function XE(r,e,t){const a=Object.assign(Object.assign({},CN()),{[e]:t});return new Cu("auth","Firebase",a).create(e,{appName:r.name})}function sa(r){return XE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return QE.create(r,...e)}function Ee(r,e,...t){if(!r)throw Zg(e,...t)}function si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Nd(e),new Error(e)}function mi(r,e){r||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function IN(){return U_()==="http:"||U_()==="https:"}function U_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IN()||sR()||"connection"in navigator)?navigator.onLine:!0}function ON(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=rR()||oR()}get(){return DN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(r,e){mi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VN=new Du(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function va(r,e,t,a,o={}){return JE(r,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const m=ku(Object.assign({key:r.config.apiKey},d)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:g},u);return aR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&_i(r.emulatorConfig.host)&&(p.credentials="include"),WE.fetch()(await ZE(r,r.config.apiHost,t,m),p)})}async function JE(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},PN),e);try{const o=new UN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw fd(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw fd(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw fd(r,"user-disabled",d);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw XE(r,_,p);rr(r,_)}}catch(o){if(o instanceof or)throw o;rr(r,"network-request-failed",{message:String(o)})}}async function mh(r,e,t,a,o={}){const u=await va(r,e,t,a,o);return"mfaPendingCredential"in u&&rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(r,e,t,a){const o=`${e}${t}?${a}`,u=r,d=u.config.emulator?ep(r.config,o):`${r.config.apiScheme}://${o}`;return MN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function jN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),VN.get())})}}function fd(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Rr(r,e,a);return o.customData._tokenResponse=t,o}function L_(r){return r!==void 0&&r.enterprise!==void 0}class LN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BN(r,e){return va(r,"GET","/v2/recaptchaConfig",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(r,e){return va(r,"POST","/v1/accounts:delete",e)}async function qd(r,e){return va(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FN(r,e=!1){const t=at(r),a=await t.getIdToken(e),o=tp(a);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:uu(Jm(o.auth_time)),issuedAtTime:uu(Jm(o.iat)),expirationTime:uu(Jm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jm(r){return Number(r)*1e3}function tp(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(t);return o?JSON.parse(o):(Nd("Failed to decode base64 JWT payload"),null)}catch(o){return Nd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function B_(r){const e=tp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof or&&qN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function qN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(r){var e;const t=r.auth,a=await r.getIdToken(),o=await yu(r,qd(t,{idToken:a}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?eT(u.providerUserInfo):[],m=$N(r.providerData,d),g=r.isAnonymous,p=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=g?p:!1,x={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new _g(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,x)}async function GN(r){const e=at(r);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function eT(r){return r.map(e=>{var{providerId:t}=e,a=Jg(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(r,e){const t=await JE(r,{},async()=>{const a=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await ZE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return r.emulatorConfig&&_i(r.emulatorConfig.host)&&(g.credentials="include"),WE.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YN(r,e){return va(r,"POST","/v2/accounts:revokeToken",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=B_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await KN(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,d=new _o;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,u=Jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new _g(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await yu(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,u,d,m,g,p,_;const x=(a=t.displayName)!==null&&a!==void 0?a:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,C=(d=t.photoURL)!==null&&d!==void 0?d:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,j=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,$=(p=t.createdAt)!==null&&p!==void 0?p:void 0,W=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:re,isAnonymous:ae,providerData:de,stsTokenManager:D}=t;Ee(Y&&D,e,"internal-error");const S=_o.fromJSON(this.name,D);Ee(typeof Y=="string",e,"internal-error"),Qi(x,e.name),Qi(T,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),Qi(I,e.name),Qi(C,e.name),Qi(z,e.name),Qi(j,e.name),Qi($,e.name),Qi(W,e.name);const R=new tr({uid:Y,auth:e,email:T,emailVerified:re,displayName:x,isAnonymous:ae,photoURL:C,phoneNumber:I,tenantId:z,stsTokenManager:S,createdAt:$,lastLoginAt:W});return de&&Array.isArray(de)&&(R.providerData=de.map(O=>Object.assign({},O))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,a=!1){const o=new _o;o.updateFromServerResponse(t);const u=new tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Hd(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new _o;m.updateFromIdToken(a);const g=new tr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _g(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function oi(r){mi(r instanceof Function,"Expected a class definition");let e=z_.get(r);return e?(mi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,z_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tT.type="NONE";const F_=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(r,e,t){return`firebase:${r}:${e}:${t}`}class bo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Cd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qd(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new bo(oi(F_),e,a);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||oi(F_);const d=Cd(a,e.config.apiKey,e.name);let m=null;for(const p of t)try{const _=await p._get(d);if(_){let x;if(typeof _=="string"){const T=await qd(e,{idToken:_}).catch(()=>{});if(!T)break;x=await tr._fromGetAccountInfoResponse(e,T,_)}else x=tr._fromJSON(e,_);p!==u&&(m=x),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new bo(u,e,a):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new bo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oT(e))return"Blackberry";if(lT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function nT(r=on()){return/firefox\//i.test(r)}function rT(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(r=on()){return/crios\//i.test(r)}function aT(r=on()){return/iemobile/i.test(r)}function sT(r=on()){return/android/i.test(r)}function oT(r=on()){return/blackberry/i.test(r)}function lT(r=on()){return/webos/i.test(r)}function np(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QN(r=on()){var e;return np(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XN(){return lR()&&document.documentMode===10}function uT(r=on()){return np(r)||sT(r)||lT(r)||oT(r)||/windows phone/i.test(r)||aT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r,e=[]){let t;switch(r){case"Browser":t=q_(on());break;case"Worker":t=`${q_(on())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ps}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e={}){return va(r,"GET","/v2/passwordPolicy",ys(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=6;class eC{constructor(e){var t,a,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:ZN,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,u,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new WN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qd(this,{idToken:e}),a=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ON()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(sa(this));const t=e?at(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JN(this),t=new eC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await YN(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Oo(r){return at(r)}class H_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(r){gh=r}function dT(r){return gh.loadJS(r)}function rC(){return gh.recaptchaEnterpriseScript}function iC(){return gh.gapiScript}function aC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sC{constructor(){this.enterprise=new oC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lC="recaptcha-enterprise",hT="NO_RECAPTCHA";class uC{constructor(e){this.type=lC,this.auth=Oo(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{BN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new LN(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,d,m){const g=window.grecaptcha;L_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(hT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(m=>{if(!t&&L_(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=rC();g.length!==0&&(g+=m),dT(g).then(()=>{o(m,u,d)}).catch(p=>{d(p)})}}).catch(m=>{d(m)})})}}async function G_(r,e,t,a=!1,o=!1){const u=new uC(r);let d;if(o)d=hT;else try{d=await u.verify(t)}catch{d=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $_(r,e,t,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await G_(r,e,t,t==="getOobCode");return a(r,d)}else return a(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await G_(r,e,t,t==="getOobCode");return a(r,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,e){const t=Iu(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(cs(u,e??{}))return o;rr(o,"already-initialized")}return t.initialize({options:e})}function dC(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function hC(r,e,t){const a=Oo(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=fT(e),{host:d,port:m}=fC(e),g=m===null?"":`:${m}`,p={url:`${u}//${d}${g}/`},_=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(cs(p,a.config.emulator)&&cs(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,_i(d)?(dh(`${u}//${d}${g}`),hh("Auth",!0)):mC()}function fT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fC(r){const e=fT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:K_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:K_(d)}}}function K_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function gC(r,e){return va(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e){return mh(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,e){return mh(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function vC(r,e){return mh(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends rp{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new vu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new vu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $_(e,t,"signInWithPassword",pC);case"emailLink":return yC(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $_(e,a,"signUpPassword",gC);case"emailLink":return vC(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r,e){return mh(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="http://localhost";class ds extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,u=Jg(t,["providerId","signInMethod"]);if(!a||!o)return null;const d=new ds(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Eo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Eo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eo(e,t)}buildRequest(){const e={requestUri:_C,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EC(r){const e=nu(ru(r)).link,t=e?nu(ru(e)).deep_link_id:null,a=nu(ru(r)).deep_link_id;return(a?nu(ru(a)).link:null)||a||t||e||r}class ip{constructor(e){var t,a,o,u,d,m;const g=nu(ru(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,_=(a=g.oobCode)!==null&&a!==void 0?a:null,x=bC((o=g.mode)!==null&&o!==void 0?o:null);Ee(p&&_&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=_,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=g.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=EC(e);try{return new ip(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=ip.parseLink(t);return Ee(a,"argument-error"),vu._fromEmailAndCode(e,a.code,a.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends mT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Ou{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Zi.credential(t,a)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Ou{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Ou{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ta.credential(t,a)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await tr._fromIdTokenResponse(e,a,o),d=Y_(a);return new xo({user:u,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=Y_(a);return new xo({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function Y_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends or{constructor(e,t,a,o){var u;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Gd(e,t,a,o)}}function gT(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(r,u,e,a):u})}async function TC(r,e,t=!1){const a=await yu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return xo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e,t=!1){const{auth:a}=r;if(kn(a.app))return Promise.reject(sa(a));const o="reauthenticate";try{const u=await yu(r,gT(a,o,e,r),t);Ee(u.idToken,a,"internal-error");const d=tp(u.idToken);Ee(d,a,"internal-error");const{sub:m}=d;return Ee(r.uid===m,a,"user-mismatch"),xo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(r,e,t=!1){if(kn(r.app))return Promise.reject(sa(r));const a="signIn",o=await gT(r,a,e),u=await xo._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function xC(r,e){return pT(Oo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r){const e=Oo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SC(r,e,t){return kn(r.app)?Promise.reject(sa(r)):xC(at(r),Po.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&AC(r),a})}function RC(r,e,t,a){return at(r).onIdTokenChanged(e,t,a)}function NC(r,e,t){return at(r).beforeAuthStateChanged(e,t)}function CC(r,e,t,a){return at(r).onAuthStateChanged(e,t,a)}function kC(r){return at(r).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,DC=10;class vT extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);XN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DC):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const OC=vT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_T.type="SESSION";const bT=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async p=>p(t.origin,u)),g=await PC(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const p=ap("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const T=x;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function VC(r){Nr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function jC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function LC(){return ET()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",BC=1,Kd="firebaseLocalStorage",wT="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yh(r,e){return r.transaction([Kd],e?"readwrite":"readonly").objectStore(Kd)}function zC(){const r=indexedDB.deleteDatabase(TT);return new Pu(r).toPromise()}function bg(){const r=indexedDB.open(TT,BC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kd,{keyPath:wT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kd)?e(a):(a.close(),await zC(),e(await bg()))})})}async function Q_(r,e,t){const a=yh(r,!0).put({[wT]:e,value:t});return new Pu(a).toPromise()}async function FC(r,e){const t=yh(r,!1).get(e),a=await new Pu(t).toPromise();return a===void 0?null:a.value}function X_(r,e){const t=yh(r,!0).delete(e);return new Pu(t).toPromise()}const qC=800,HC=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>HC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(LC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jC(),!this.activeServiceWorker)return;this.sender=new MC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await Q_(e,$d,"1"),await X_(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>Q_(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>FC(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>X_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yh(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const GC=xT;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r,e){return e?oi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KC(r){return pT(r.auth,new sp(r),r.bypassAuthState)}function YC(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),wC(t,new sp(r),r.bypassAuthState)}async function QC(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),TC(t,new sp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:rr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Du(2e3,1e4);class vo extends AT{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="pendingRedirect",kd=new Map;class JC extends AT{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=kd.get(this.auth._key());if(!e){try{const a=await ZC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZC(r,e){const t=nk(e),a=tk(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function ek(r,e){kd.set(r._key(),e)}function tk(r){return oi(r._redirectPersistence)}function nk(r){return Cd(WC,r.config.apiKey,r.name)}async function rk(r,e,t=!1){if(kn(r.app))return Promise.reject(sa(r));const a=Oo(r),o=$C(a,e),d=await new JC(a,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=10*60*1e3;class ak{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!ST(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ik&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ST({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(r,e={}){return va(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uk=/^https?/;async function ck(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ok(r);for(const t of e)try{if(dk(t))return}catch{}rr(r,"unauthorized-domain")}function dk(r){const e=vg(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!uk.test(t))return!1;if(lk.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Du(3e4,6e4);function J_(){const r=Nr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function fk(r){return new Promise((e,t)=>{var a,o,u;function d(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),t(Rr(r,"network-request-failed"))},timeout:hk.get()})}if(!((o=(a=Nr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Nr().gapi)===null||u===void 0)&&u.load)d();else{const m=aC("iframefcb");return Nr()[m]=()=>{gapi.load?d():t(Rr(r,"network-request-failed"))},dT(`${iC()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Id=null,e})}let Id=null;function mk(r){return Id=Id||fk(r),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Du(5e3,15e3),pk="__/auth/iframe",yk="emulator/auth/iframe",vk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_k=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bk(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ep(e,yk):`https://${r.config.authDomain}/${pk}`,a={apiKey:e.apiKey,appName:r.name,v:ps},o=_k.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${ku(a).slice(1)}`}async function Ek(r){const e=await mk(r),t=Nr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:bk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vk,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=Rr(r,"network-request-failed"),m=Nr().setTimeout(()=>{u(d)},gk.get());function g(){Nr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wk=500,xk=600,Ak="_blank",Sk="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rk(r,e,t,a=wk,o=xk){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},Tk),{width:a.toString(),height:o.toString(),top:u,left:d}),p=on().toLowerCase();t&&(m=iT(p)?Ak:t),nT(p)&&(e=e||Sk,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[I,C])=>`${T}${I}=${C},`,"");if(QN(p)&&m!=="_self")return Nk(e||"",m),new Z_(null);const x=window.open(e||"",m,_);Ee(x,r,"popup-blocked");try{x.focus()}catch{}return new Z_(x)}function Nk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__/auth/handler",kk="emulator/auth/handler",Ik=encodeURIComponent("fac");async function eb(r,e,t,a,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:ps,eventId:o};if(e instanceof mT){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",gR(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,x]of Object.entries({}))d[_]=x}if(e instanceof Ou){const _=e.getScopes().filter(x=>x!=="");_.length>0&&(d.scopes=_.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await r._getAppCheckToken(),p=g?`#${Ik}=${encodeURIComponent(g)}`:"";return`${Dk(r)}?${ku(m).slice(1)}${p}`}function Dk({config:r}){return r.emulator?ep(r,kk):`https://${r.authDomain}/${Ck}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class Ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bT,this._completeRedirectFn=rk,this._overrideRedirectResult=ek}async _openPopup(e,t,a,o){var u;mi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await eb(e,t,a,vg(),o);return Rk(e,d,ap())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await eb(e,t,a,vg(),o);return VC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(mi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await Ek(e),a=new ak(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zm,{type:Zm},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Zm];d!==void 0&&t(!!d),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ck(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uT()||rT()||np()}}const Pk=Ok;var tb="@firebase/auth",nb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jk(r){ua(new hi("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(r)},p=new tC(a,o,u,g);return dC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),ua(new hi("auth-internal",e=>{const t=Oo(e.getProvider("auth").getImmediate());return(a=>new Mk(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(tb,nb,Vk(r)),Kn(tb,nb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=5*60,Lk=zE("authIdTokenMaxAge")||Uk;let rb=null;const Bk=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>Lk)return;const o=t==null?void 0:t.token;rb!==o&&(rb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zk(r=fh()){const e=Iu(r,"auth");if(e.isInitialized())return e.getImmediate();const t=cC(r,{popupRedirectResolver:Pk,persistence:[GC,OC,bT]}),a=zE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Bk(u.toString());NC(t,d,()=>d(t.currentUser)),RC(t,m=>d(m))}}const o=LE("auth");return o&&hC(t,`http://${o}`),t}function Fk(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}nC({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Rr("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",Fk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jk("Browser");var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,RT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function R(){}R.prototype=S.prototype,D.D=S.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(O,V,U){for(var k=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)k[yt-2]=arguments[yt];return S.prototype[V].apply(O,k)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=D.g[0],R=D.g[1],V=D.g[2];var U=D.g[3],k=S+(U^R&(V^U))+O[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=U+(V^S&(R^V))+O[1]+3905402710&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(R^U&(S^R))+O[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=R+(S^V&(U^S))+O[3]+3250441966&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(U^R&(V^U))+O[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=U+(V^S&(R^V))+O[5]+1200080426&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(R^U&(S^R))+O[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=R+(S^V&(U^S))+O[7]+4249261313&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(U^R&(V^U))+O[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=U+(V^S&(R^V))+O[9]+2336552879&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(R^U&(S^R))+O[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=R+(S^V&(U^S))+O[11]+2304563134&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(U^R&(V^U))+O[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=U+(V^S&(R^V))+O[13]+4254626195&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(R^U&(S^R))+O[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=R+(S^V&(U^S))+O[15]+1236535329&4294967295,R=V+(k<<22&4294967295|k>>>10),k=S+(V^U&(R^V))+O[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^V&(S^R))+O[6]+3225465664&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(U^S))+O[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(V^U))+O[0]+3921069994&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(V^U&(R^V))+O[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^V&(S^R))+O[10]+38016083&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(U^S))+O[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(V^U))+O[4]+3889429448&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(V^U&(R^V))+O[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^V&(S^R))+O[14]+3275163606&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(U^S))+O[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(V^U))+O[8]+1163531501&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(V^U&(R^V))+O[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=U+(R^V&(S^R))+O[2]+4243563512&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^R&(U^S))+O[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=R+(U^S&(V^U))+O[12]+2368359562&4294967295,R=V+(k<<20&4294967295|k>>>12),k=S+(R^V^U)+O[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^V)+O[8]+2272392833&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^R)+O[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=R+(V^U^S)+O[14]+4259657740&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(R^V^U)+O[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^V)+O[4]+1272893353&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^R)+O[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=R+(V^U^S)+O[10]+3200236656&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(R^V^U)+O[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^V)+O[0]+3936430074&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^R)+O[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=R+(V^U^S)+O[6]+76029189&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(R^V^U)+O[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=U+(S^R^V)+O[12]+3873151461&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^R)+O[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=R+(V^U^S)+O[2]+3299628645&4294967295,R=V+(k<<23&4294967295|k>>>9),k=S+(V^(R|~U))+O[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~V))+O[7]+1126891415&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~R))+O[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=R+(U^(V|~S))+O[5]+4237533241&4294967295,R=V+(k<<21&4294967295|k>>>11),k=S+(V^(R|~U))+O[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~V))+O[3]+2399980690&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~R))+O[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=R+(U^(V|~S))+O[1]+2240044497&4294967295,R=V+(k<<21&4294967295|k>>>11),k=S+(V^(R|~U))+O[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~V))+O[15]+4264355552&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~R))+O[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=R+(U^(V|~S))+O[13]+1309151649&4294967295,R=V+(k<<21&4294967295|k>>>11),k=S+(V^(R|~U))+O[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=U+(R^(S|~V))+O[11]+3174756917&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~R))+O[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=R+(U^(V|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}a.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var R=S-this.blockSize,O=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=R;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<S;)if(O[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<S;)if(O[V++]=D[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var R=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=R&255,R/=256;for(this.u(D),D=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)D[R++]=this.g[S]>>>O&255;return D};function u(D,S){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=S(D)}function d(D,S){this.h=S;for(var R=[],O=!0,V=D.length-1;0<=V;V--){var U=D[V]|0;O&&U==S||(R[V]=U,O=!1)}this.g=R}var m={};function g(D){return-128<=D&&128>D?u(D,function(S){return new d([S|0],0>S?-1:0)}):new d([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return x;if(0>D)return j(p(-D));for(var S=[],R=1,O=0;D>=R;O++)S[O]=D/R|0,R*=4294967296;return new d(S,0)}function _(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return j(_(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),O=x,V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V),k=parseInt(D.substring(V,V+U),S);8>U?(U=p(Math.pow(S,U)),O=O.j(U).add(p(k))):(O=O.j(R),O=O.add(p(k)))}return O}var x=g(0),T=g(1),I=g(16777216);r=d.prototype,r.m=function(){if(z(this))return-j(this).m();for(var D=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);D+=(0<=O?O:4294967296+O)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(z(this))return"-"+j(this).toString(D);for(var S=p(Math.pow(D,6)),R=this,O="";;){var V=re(R,S).g;R=$(R,V.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,C(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function z(D){return D.h==-1}r.l=function(D){return D=$(this,D),z(D)?-1:C(D)?0:1};function j(D){for(var S=D.g.length,R=[],O=0;O<S;O++)R[O]=~D.g[O];return new d(R,~D.h).add(T)}r.abs=function(){return z(this)?j(this):this},r.add=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0,V=0;V<=S;V++){var U=O+(this.i(V)&65535)+(D.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=k>>>16,U&=65535,k&=65535,R[V]=k<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function $(D,S){return D.add(j(S))}r.j=function(D){if(C(this)||C(D))return x;if(z(this))return z(D)?j(this).j(j(D)):j(j(this).j(D));if(z(D))return j(this.j(j(D)));if(0>this.l(I)&&0>D.l(I))return p(this.m()*D.m());for(var S=this.g.length+D.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<D.g.length;V++){var U=this.i(O)>>>16,k=this.i(O)&65535,yt=D.i(V)>>>16,le=D.i(V)&65535;R[2*O+2*V]+=k*le,W(R,2*O+2*V),R[2*O+2*V+1]+=U*le,W(R,2*O+2*V+1),R[2*O+2*V+1]+=k*yt,W(R,2*O+2*V+1),R[2*O+2*V+2]+=U*yt,W(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function W(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function Y(D,S){this.g=D,this.h=S}function re(D,S){if(C(S))throw Error("division by zero");if(C(D))return new Y(x,x);if(z(D))return S=re(j(D),S),new Y(j(S.g),j(S.h));if(z(S))return S=re(D,j(S)),new Y(j(S.g),S.h);if(30<D.g.length){if(z(D)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=S;0>=O.l(D);)R=ae(R),O=ae(O);var V=de(R,1),U=de(O,1);for(O=de(O,2),R=de(R,2);!C(O);){var k=U.add(O);0>=k.l(D)&&(V=V.add(R),U=k),O=de(O,1),R=de(R,1)}return S=$(D,V.j(S)),new Y(V,S)}for(V=x;0<=D.l(S);){for(R=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=p(R),k=U.j(S);z(k)||0<k.l(D);)R-=O,U=p(R),k=U.j(S);C(U)&&(U=T),V=V.add(U),D=$(D,k)}return new Y(V,D)}r.A=function(D){return re(this,D).h},r.and=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&D.i(O);return new d(R,this.h&D.h)},r.or=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|D.i(O);return new d(R,this.h|D.h)},r.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^D.i(O);return new d(R,this.h^D.h)};function ae(D){for(var S=D.g.length+1,R=[],O=0;O<S;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(R,D.h)}function de(D,S){var R=S>>5;S%=32;for(var O=D.g.length-R,V=[],U=0;U<O;U++)V[U]=0<S?D.i(U+R)>>>S|D.i(U+R+1)<<32-S:D.i(U+R);return new d(V,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,RT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=_,oa=d}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,iu,CT,Dd,Eg,kT,IT,DT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=t(this);function o(c,y){if(y)e:{var b=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in b))break e;b=b[F]}c=c[c.length-1],A=b[c],y=y(A),y!=A&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,A=!1,F={next:function(){if(!A&&b<c.length){var Q=b++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,b){return c.call.apply(c.bind,arguments)}function x(c,y,b){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function T(c,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:x,T.apply(null,arguments)}function I(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function C(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(A,F,Q){for(var oe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)oe[Ve-2]=arguments[Ve];return y.prototype[F].apply(A,oe)}}function z(c){const y=c.length;if(0<y){const b=Array(y);for(let A=0;A<y;A++)b[A]=c[A];return b}return[]}function j(c,y){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(g(A)){const F=c.length||0,Q=A.length||0;c.length=F+Q;for(let oe=0;oe<Q;oe++)c[F+oe]=A[oe]}else c.push(A)}}class ${constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ae=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function de(c,y,b){for(const A in c)y.call(b,c[A],A,c)}function D(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function S(c){const y={};for(const b in c)y[b]=c[b];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)c[b]=A[b];for(let Q=0;Q<R.length;Q++)b=R[Q],Object.prototype.hasOwnProperty.call(A,b)&&(c[b]=A[b])}}function V(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function U(c){m.setTimeout(()=>{throw c},0)}function k(){var c=Fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class yt{constructor(){this.h=this.g=null}add(y,b){const A=le.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new $(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,Fe=new yt,P=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(ie)}};var ie=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(b){U(b)}var y=le;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};m.addEventListener("test",b,y),m.removeEventListener("test",b,y)}catch{}return c}();function ke(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{re(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}C(ke,se);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function lr(c,y,b,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=F,this.key=++nt,this.da=this.fa=!1}function bi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pr(c){this.src=c,this.g={},this.h=0}Pr.prototype.add=function(c,y,b,A,F){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=wa(c,y,A,F);return-1<oe?(y=c[oe],b||(y.fa=!1)):(y=new lr(y,this.src,Q,!!A,F),y.fa=b,c.push(y)),y};function Ta(c,y){var b=y.type;if(b in c.g){var A=c.g[b],F=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=F)&&Array.prototype.splice.call(A,F,1),Q&&(bi(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function wa(c,y,b,A){for(var F=0;F<c.length;++F){var Q=c[F];if(!Q.da&&Q.listener==y&&Q.capture==!!b&&Q.ha==A)return F}return-1}var xa="closure_lm_"+(1e6*Math.random()|0),zo={};function zu(c,y,b,A,F){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)zu(c,y[Q],b,A,F);return null}return b=Fu(b),c&&c[Vt]?c.K(y,b,p(A)?!!A.capture:!1,F):On(c,y,b,!1,A,F)}function On(c,y,b,A,F,Q){if(!y)throw Error("Invalid event type");var oe=p(F)?!!F.capture:!!F,Ve=Ts(c);if(Ve||(c[xa]=Ve=new Pr(c)),b=Ve.add(y,b,A,oe,Q),b.proxy)return b;if(A=Uh(),b.proxy=A,A.src=c,A.listener=b,c.addEventListener)ve||(F=oe),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(Aa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Uh(){function c(b){return y.call(c.src,c.listener,b)}const y=Lh;return c}function Fo(c,y,b,A,F){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Fo(c,y[Q],b,A,F);else A=p(A)?!!A.capture:!!A,b=Fu(b),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],b=wa(Q,b,A,F),-1<b&&(bi(Q[b]),Array.prototype.splice.call(Q,b,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ts(c))&&(y=c.g[y.toString()],c=-1,y&&(c=wa(y,b,A,F)),(b=-1<c?y[c]:null)&&Es(b))}function Es(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Ta(y.i,c);else{var b=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(b,A,c.capture):y.detachEvent?y.detachEvent(Aa(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=Ts(y))?(Ta(b,c),b.h==0&&(b.src=null,y[xa]=null)):bi(c)}}}function Aa(c){return c in zo?zo[c]:zo[c]="on"+c}function Lh(c,y){if(c.da)c=!0;else{y=new ke(y,this);var b=c.listener,A=c.ha||c.src;c.fa&&Es(c),c=b.call(A,y)}return c}function Ts(c){return c=c[xa],c instanceof Pr?c:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(y){return c.handleEvent(y)}),c[qo])}function dt(){ce.call(this),this.i=new Pr(this),this.M=this,this.F=null}C(dt,ce),dt.prototype[Vt]=!0,dt.prototype.removeEventListener=function(c,y,b,A){Fo(this,c,y,b,A)};function $e(c,y){var b,A=c.F;if(A)for(b=[];A;A=A.F)b.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var F=y;y=new se(A,c),O(y,F)}if(F=!0,b)for(var Q=b.length-1;0<=Q;Q--){var oe=y.g=b[Q];F=En(oe,A,!0,y)&&F}if(oe=y.g=c,F=En(oe,A,!0,y)&&F,F=En(oe,A,!1,y)&&F,b)for(Q=0;Q<b.length;Q++)oe=y.g=b[Q],F=En(oe,A,!1,y)&&F}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],A=0;A<b.length;A++)bi(b[A]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,b,A){return this.i.add(String(c),y,!1,b,A)},dt.prototype.L=function(c,y,b,A){return this.i.add(String(c),y,!0,b,A)};function En(c,y,b,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==b){var Ve=oe.listener,It=oe.ha||oe.src;oe.fa&&Ta(c.i,oe),F=Ve.call(It,A)!==!1&&F}}return F&&!A.defaultPrevented}function en(c,y,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function qu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,qu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Bh extends ce{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(c){ce.call(this),this.h=c,this.g={}}C(Sa,ce);var Ra=[];function Na(c){de(c.g,function(y,b){this.g.hasOwnProperty(b)&&Es(y)},c),c.g={}}Sa.prototype.N=function(){Sa.aa.N.call(this),Na(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,ws=m.JSON.parse,Ca=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function $o(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){se.call(this,"d")}C(Vr,se);function Ko(){se.call(this,"c")}C(Ko,se);var ur={},Yo=null;function Ei(){return Yo=Yo||new dt}ur.La="serverreachability";function xs(c){se.call(this,ur.La,c)}C(xs,se);function Ti(c){const y=Ei();$e(y,new xs(y))}ur.STAT_EVENT="statevent";function Hu(c,y){se.call(this,ur.STAT_EVENT,c),this.stat=y}C(Hu,se);function st(c){const y=Ei();$e(y,new Hu(y,c))}ur.Ma="timingevent";function kt(c,y){se.call(this,ur.Ma,c),this.size=y}C(kt,se);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function Qo(c,y,b,A,F,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Ve=Q.split("&"),It=0;It<Ve.length;It++){var je=Ve[It].split("=");if(1<je.length){var Ut=je[0];je=je[1];var Dt=Ut.split("_");oe=2<=Dt.length&&Dt[1]=="type"?oe+(Ut+"="+je+"&"):oe+(Ut+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+b+`
`+oe})}function zh(c,y,b,A,F,Q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+b+`
`+Q+" "+oe})}function wi(c,y,b,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ka(c,b)+(A?" "+A:"")})}function Gu(c,y){c.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function ka(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var A=b[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Q=F[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Qn(b)}catch{return y}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function dr(){}C(dr,Ho),dr.prototype.g=function(){return new XMLHttpRequest},dr.prototype.i=function(){return{}},cr=new dr;function ln(c,y,b,A){this.j=c,this.i=y,this.l=b,this.R=A||1,this.U=new Sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Xo={},As={};function Xn(c,y,b){c.L=1,c.v=Ma(Tn(y)),c.m=b,c.P=!0,Ur(c,null)}function Ur(c,y){c.F=Date.now(),Ia(c),c.A=Tn(c.v);var b=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),nl(b.i,"t",A),c.C=0,b=c.j.J,c.h=new vt,c.g=oc(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Bh(T(c.Y,c,c.g),c.O)),y=c.U,b=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ra[0]=F.toString()),F=Ra);for(var Q=0;Q<F.length;Q++){var oe=zu(b,F[Q],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ti(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const y=this.M;y&&Un(c)==3?y.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Un(this.g);var y=this.g.Ba();const $r=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=$r?Ti(3):Ti(2)),Ai(this);var b=this.g.Z();this.X=b;t:if($u(this)){var A=Zu(this.g);c="";var F=A.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),hr(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=b==200,zh(this.i,this.u,this.A,this.l,this.R,Dt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,It=this.g;if((Ve=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ve)){var je=Ve;break t}}je=null}if(b=je)wi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,b);else{this.o=!1,this.s=3,st(12),Ht(this),hr(this);break e}}if(this.P){b=!0;let Gt;for(;!this.J&&this.C<oe.length;)if(Gt=Ku(this,oe),Gt==As){Dt==4&&(this.s=4,st(14),b=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Xo){this.s=4,st(15),wi(this.i,this.l,oe,"[Invalid Chunk]"),b=!1;break}else wi(this.i,this.l,Gt,null),Da(this,Gt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),b=!1),this.o=this.o&&b,!b)wi(this.i,this.l,oe,"[Invalid Chunked Response]"),Ht(this),hr(this);else if(0<oe.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),qa(Ut),Ut.M=!0,st(11))}}else wi(this.i,this.l,oe,null),Da(this,oe);Dt==4&&Ht(this),this.o&&!this.J&&(Dt==4?ic(this.j,this):(this.o=!1,Ia(this)))}else $h(this.g),b==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ht(this),hr(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ku(c,y){var b=c.C,A=y.indexOf(`
`,b);return A==-1?As:(b=Number(y.substring(b,A)),isNaN(b)?Xo:(A+=1,A+b>y.length?As:(y=y.slice(A,A+b),c.C=A+b,y)))}ln.prototype.cancel=function(){this.J=!0,Ht(this)};function Ia(c){c.S=Date.now()+c.I,Yu(c,c.I)}function Yu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(T(c.ba,c),y)}function Ai(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(Ti(),st(17)),Ht(this),this.s=2,hr(this)):Yu(this,this.S-c)};function hr(c){c.j.G==0||c.J||ic(c.j,c)}function Ht(c){Ai(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Na(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Da(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Wo(b.h,c))){if(!c.K&&Wo(b.h,c)&&b.G==3){try{var A=b.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)js(b),Ms(b);else break e;ol(b),st(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Tt(T(b.Za,b),6e3));if(1>=Rs(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Gr(b,11)}else if((c.K||b.g==c)&&js(b),!W(y))for(F=b.Da.g.parse(y),y=0;y<F.length;y++){let je=F[y];if(b.T=je[0],je=je[1],b.G==2)if(je[0]=="c"){b.K=je[1],b.ia=je[2];const Ut=je[3];Ut!=null&&(b.la=Ut,b.j.info("VER="+b.la));const Dt=je[4];Dt!=null&&(b.Aa=Dt,b.j.info("SVER="+b.Aa));const $r=je[5];$r!=null&&typeof $r=="number"&&0<$r&&(A=1.5*$r,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Gt=c.g;if(Gt){const _r=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var Q=A.h;Q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ns(Q,Q.h),Q.h=null))}if(A.D){const ul=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(A.ya=ul,Xe(A.I,A.D,ul))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var oe=c;if(A.qa=sc(A,A.J?A.ia:null,A.W),oe.K){un(A.h,oe);var Ve=oe,It=A.L;It&&(Ve.I=It),Ve.B&&(Ai(Ve),Ia(Ve)),A.g=oe}else nc(A);0<b.i.length&&Vs(b)}else je[0]!="stop"&&je[0]!="close"||Gr(b,7);else b.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Gr(b,7):al(b):je[0]!="noop"&&b.l&&b.l.ta(je),b.v=0)}}Ti(4)}catch{}}var Qu=class{constructor(c,y){this.g=c,this.map=y}};function Lr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ss(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rs(c){return c.h?1:c.g?c.g.size:0}function Wo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ns(c,y){c.g?c.g.add(y):c.h=y}function un(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lr.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return z(c.i)}function Fh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],b=c.length,A=0;A<b;A++)y.push(c[A]);return y}y=[],b=0;for(A in c)y[b++]=c[A];return y}function Cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const A in c)y[b++]=A;return y}}}function Zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Cs(c),A=Fh(c),F=A.length,Q=0;Q<F;Q++)y.call(void 0,A[Q],b&&b[Q],c)}var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var A=c[b].indexOf("="),F=null;if(0<=A){var Q=c[b].substring(0,A);F=c[b].substring(A+1)}else Q=c[b];y(Q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,Pa(this,c.j),this.o=c.o,this.g=c.g,Si(this,c.s),this.l=c.l;var y=c.i,b=new zr;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Br(this,b),this.m=c.m}else c&&(y=String(c).match(Oa))?(this.h=!1,Pa(this,y[1]||"",!0),this.o=Mn(y[2]||""),this.g=Mn(y[3]||"",!0),Si(this,y[4]),this.l=Mn(y[5]||"",!0),Br(this,y[6]||"",!0),this.m=Mn(y[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}wt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Va(y,el,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Va(y,el,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Va(b,b.charAt(0)=="/"?Hh:tl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Va(b,ks)),c.join("")};function Tn(c){return new wt(c)}function Pa(c,y,b){c.j=b?Mn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Si(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Br(c,y,b){y instanceof zr?(c.i=y,Wu(c.i,c.h)):(b||(y=Va(y,Gh)),c.i=new zr(y,c.h))}function Xe(c,y,b){c.i.set(y,b)}function Ma(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Va(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Xu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Hh=/[#\?]/g,Gh=/[#\?@]/g,ks=/#/g;function zr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&qh(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=zr.prototype,r.add=function(c,y){Vn(this),this.i=null,c=fr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Fr(c,y){Vn(c),y=fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qr(c,y){return Vn(c),y=fr(c,y),c.g.has(y)}r.forEach=function(c,y){Vn(this),this.g.forEach(function(b,A){b.forEach(function(F){c.call(y,F,A,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let A=0;A<y.length;A++){const F=c[A];for(let Q=0;Q<F.length;Q++)b.push(y[A])}return b},r.V=function(c){Vn(this);let y=[];if(typeof c=="string")qr(this,c)&&(y=y.concat(this.g.get(fr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},r.set=function(c,y){return Vn(this),this.i=null,c=fr(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function nl(c,y,b){Fr(c,y),0<b.length&&(c.i=null,c.g.set(fr(c,y),z(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var A=y[b];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var F=Q;oe[A]!==""&&(F+="="+encodeURIComponent(String(oe[A]))),c.push(F)}}return this.i=c.join("&")};function fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wu(c,y){y&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(b,A){var F=A.toLowerCase();A!=F&&(Fr(this,A),nl(this,F,b))},c)),c.j=y}function ja(c,y){const b=new Pn;if(m.Image){const A=new Image;A.onload=I(jn,b,"TestLoadImage: loaded",!0,y,A),A.onerror=I(jn,b,"TestLoadImage: error",!1,y,A),A.onabort=I(jn,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(jn,b,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Wn(c,y){const b=new Pn,A=new AbortController,F=setTimeout(()=>{A.abort(),jn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(F),Q.ok?jn(b,"TestPingServer: ok",!0,y):jn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),jn(b,"TestPingServer: error",!1,y)})}function jn(c,y,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function Ua(){this.g=new Ca}function mr(c,y,b){const A=b||"";try{Zo(c,function(F,Q){let oe=F;p(F)&&(oe=Qn(F)),y.push(A+Q+"="+encodeURIComponent(oe))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ri(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ri,Ho),Ri.prototype.g=function(){return new Hr(this.l,this.j)},Ri.prototype.i=function(c){return function(){return c}}({});function Hr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Hr,dt),r=Hr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gr(this):pr(this),this.readyState==3&&rl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Qa=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function il(c){let y="";return de(c,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function jt(c,y,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=il(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):Xe(c,y,b))}function He(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(He,dt);var Is=/^https?$/i,La=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Go(this.o):Go(cr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ju(this,Q);return}if(c=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())b.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(La,y,void 0))||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of b)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Ju(this,Q)}};function Ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ds(c),yr(c)}function Ds(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Os(this):this.bb())},r.bb=function(){Os(this)};function Os(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)en(c.Ea,0,c);else if($e(c,"readystatechange"),Un(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var A;if(A=oe===0){var F=String(c.D).match(Oa)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),A=!Is.test(F?F.toLowerCase():"")}b=A}if(b)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var Q=2<Un(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ds(c)}}finally{yr(c)}}}}function yr(c,y){if(c.g){Ba(c);const b=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{b.onreadystatechange=A}catch{}}}function Ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ws(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(c){const y={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(W(c[A]))continue;var b=V(c[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=y[F]||[];y[F]=Q,Q.push(b)}D(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Ps(c){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,c),this.cb=za("retryDelaySeedMs",1e4,c),this.Wa=za("forwardChannelMaxRetries",2,c),this.wa=za("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(c&&c.concurrentRequestLimit),this.Da=new Ua,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ps.prototype,r.la=8,r.G=1,r.connect=function(c,y,b,A){st(0),this.W=c,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=sc(this,null,this.W),Vs(this)};function al(c){if(ec(c),c.G==3){var y=c.U++,b=Tn(c.I);if(Xe(b,"SID",c.K),Xe(b,"RID",y),Xe(b,"TYPE","terminate"),Fa(c,b),y=new ln(c,c.j,y),y.L=2,y.v=Ma(Tn(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=y.v,b=!0),b||(y.g=oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ia(y)}ac(c)}function Ms(c){c.g&&(qa(c),c.g.cancel(),c.g=null)}function ec(c){Ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Vs(c){if(!Ss(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||P(),pe||(ue(),pe=!0),Fe.add(y,c),c.B=0}}function Kh(c,y){return Rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(T(c.Ga,c,y),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ln(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=S(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(F.H=Q,Q=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=tc(this,F,y),b=Tn(this.I),Xe(b,"RID",c),Xe(b,"CVER",22),this.D&&Xe(b,"X-HTTP-Session-Id",this.D),Fa(this,b),Q&&(this.O?y="headers="+encodeURIComponent(String(il(Q)))+"&"+y:this.m&&jt(b,this.m,Q)),Ns(this.h,F),this.Ua&&Xe(b,"TYPE","init"),this.P?(Xe(b,"$req",y),Xe(b,"SID","null"),F.T=!0,Xn(F,b,null)):Xn(F,b,y),this.G=2}}else this.G==3&&(c?sl(this,c):this.i.length==0||Ss(this.h)||sl(this))};function sl(c,y){var b;y?b=y.l:b=c.U++;const A=Tn(c.I);Xe(A,"SID",c.K),Xe(A,"RID",b),Xe(A,"AID",c.T),Fa(c,A),c.m&&c.o&&jt(A,c.m,c.o),b=new ln(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tc(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ns(c.h,b),Xn(b,A,y)}function Fa(c,y){c.H&&de(c.H,function(b,A){Xe(y,A,b)}),c.l&&Zo({},function(b,A){Xe(y,A,b)})}function tc(c,y,b){b=Math.min(c.i.length,b);var A=c.l?T(c.l.Na,c.l,c):null;e:{var F=c.i;let Q=-1;for(;;){const oe=["count="+b];Q==-1?0<b?(Q=F[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Ve=!0;for(let It=0;It<b;It++){let je=F[It].g;const Ut=F[It].map;if(je-=Q,0>je)Q=Math.max(0,F[It].g-100),Ve=!1;else try{mr(Ut,oe,"req"+je+"_")}catch{A&&A(Ut)}}if(Ve){A=oe.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,A}function nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||P(),pe||(ue(),pe=!0),Fe.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(T(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ms(this),rc(this))};function qa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Fa(c,y),c.m&&c.o&&jt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Ma(Tn(y)),b.m=null,b.P=!0,Ur(b,c)}r.Za=function(){this.C!=null&&(this.C=null,Ms(this),ol(this),st(19))};function js(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ic(c,y){var b=null;if(c.g==y){js(c),qa(c),c.g=null;var A=2}else if(Wo(c.h,y))b=y.D,un(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=Ei(),$e(A,new kt(A,b)),Vs(c)}else nc(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Kh(c,y)||A==2&&ol(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),F){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function ll(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function Gr(c,y){if(c.j.info("Error code "+y),y==2){var b=T(c.fb,c),A=c.Xa;const F=!A;A=new wt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pa(A,"https"),Ma(A),F?ja(A.toString(),b):Wn(A.toString(),b)}else st(2);c.G=0,c.l&&c.l.sa(y),ac(c),ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ac(c){if(c.G=0,c.ka=[],c.l){const y=Jo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function sc(c,y,b){var A=b instanceof wt?Tn(b):new wt(b);if(A.g!="")y&&(A.g=y+"."+A.g),Si(A,A.s);else{var F=m.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Q=new wt(null);A&&Pa(Q,A),y&&(Q.g=y),F&&Si(Q,F),b&&(Q.l=b),A=Q}return b=c.D,y=c.ya,b&&y&&Xe(A,b,y),Xe(A,"VER",c.la),Fa(c,A),A}function oc(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new Ri({eb:b})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Us(){}Us.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){dt.call(this),this.g=new Ps(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new vr(this)}C(cn,dt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){al(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Qn(c),c=b);y.i.push(new Qu(y.Ya++,c)),y.G==3&&Vs(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,cn.aa.N.call(this)};function uc(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(uc,Vr);function cc(){Ko.call(this),this.status=1}C(cc,Ko);function vr(c){this.g=c}C(vr,lc),vr.prototype.ua=function(){$e(this.g,"a")},vr.prototype.ta=function(c){$e(this.g,new uc(c))},vr.prototype.sa=function(c){$e(this.g,new cc)},vr.prototype.ra=function(){$e(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,DT=function(){return new Us},IT=function(){return Ei()},kT=ur,Eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Dd=xi,jr.COMPLETE="complete",CT=jr,$o.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,iu=$o,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,NT=He}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore",sb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Xg("@firebase/firestore");function mo(){return hs.logLevel}function fe(r,...e){if(hs.logLevel<=Pe.DEBUG){const t=e.map(op);hs.debug(`Firestore (${Mo}): ${r}`,...t)}}function gi(r,...e){if(hs.logLevel<=Pe.ERROR){const t=e.map(op);hs.error(`Firestore (${Mo}): ${r}`,...t)}}function ca(r,...e){if(hs.logLevel<=Pe.WARN){const t=e.map(op);hs.warn(`Firestore (${Mo}): ${r}`,...t)}}function op(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,OT(r,a,t)}function OT(r,e,t){let a=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw gi(a),new Error(a)}function Ge(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||OT(e,o,a)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class Hk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gk{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,t(g)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ge(typeof a.accessToken=="string",31837,{l:a}),new PT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class $k{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kk{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new $k(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const a=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ob(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ob(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Qk(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function Ce(r,e){return r<e?-1:r>e?1:0}function Tg(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return Ce(a,o);{const u=MT(),d=Xk(u.encode(lb(r,t)),u.encode(lb(e,t)));return d!==0?d:Ce(a,o)}}t+=a>65535?2:1}return Ce(r.length,e.length)}function lb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Xk(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function Ao(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__name__";class Ar{constructor(e,t,a){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Te(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=Ar.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const a=Ar.isNumericId(e),o=Ar.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Ar.extractNumericId(e).compare(Ar.extractNumericId(t)):Tg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class it extends Ar{construct(e,t,a){return new it(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const Wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ar{construct(e,t,a){return new Jt(e,t,a)}static isValidIdentifier(e){return Wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ub}static keyField(){return new Jt([ub])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(u(),o++)}if(u(),d)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Jk(r,e,t,a){if(e===!0&&a===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function cb(r){if(!ye.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function db(r){if(ye.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vh(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Mu(r,e){if(!jT(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){t=`Expected '${a}' field to equal '${u.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-62135596800,fb=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*fb);return new tt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hb)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fb}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Nt("string",tt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new tt(0,0))}static max(){return new Ae(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function Zk(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new tt(t+1,0):new tt(t,a));return new da(o,ye.empty(),e)}function e2(r){return new da(r.readTime,r.key,_u)}class da{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new da(Ae.min(),ye.empty(),_u)}static max(){return new da(Ae.max(),ye.empty(),_u)}}function t2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==n2)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,a)=>{t(e)})}static reject(e){return new ne((t,a)=>{a(e)})}static waitFor(e){return new ne((t,a)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},g=>a(g))}),d=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const a of e)t=t.next(o=>o?ne.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,u)=>{a.push(t.call(this,o,u))}),this.waitFor(a)}static mapArray(e,t){return new ne((a,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(_=>{d[p]=_,++m,m===u&&a(d)},_=>o(_))}})}static doWhile(e,t){return new ne((a,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):a()};u()})}}function i2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this._e(a),this.ae=a=>t.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}_h.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=-1;function bh(r){return r==null}function Yd(r){return r===0&&1/r==-1/0}function a2(r){return typeof r=="number"&&Number.isInteger(r)&&!Yd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="";function s2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=mb(e)),e=o2(r.get(t),e);return mb(e)}function o2(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case UT:t+="";break;default:t+=u}}return t}function mb(r){return r+UT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function _a(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function LT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new Wt(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,a,o,u){return this}insert(e,t,a){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Mt(Jt.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BT("Invalid base64 string: "+u):u}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const t=l2.exec(r);if(Ge(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fa(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",FT="__type__",qT="__previous_value__",HT="__local_write_time__";function cp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||t===void 0?void 0:t.stringValue)===zT}function Eh(r){const e=r.mapValue.fields[qT];return cp(e)?Eh(e):e}function bu(r){const e=ha(r.mapValue.fields[HT].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t,a,o,u,d,m,g,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const Qd="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||Qd}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__type__",c2="__max__",pd={mapValue:{}},$T="__vector__",Xd="value";function ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cp(r)?4:h2(r)?9007199254740991:d2(r)?10:11:Te(28295,{value:r})}function Or(r,e){if(r===e)return!0;const t=ma(r);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return bu(r).isEqual(bu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ha(o.timestampValue),m=ha(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return fa(o.bytesValue).isEqual(fa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Et(o.doubleValue),m=Et(u.doubleValue);return d===m?Yd(d)===Yd(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return Ao(r.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gb(d)!==gb(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Or(d[g],m[g])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Tu(r,e){return(r.values||[]).find(t=>Or(t,e))!==void 0}function So(r,e){if(r===e)return 0;const t=ma(r),a=ma(e);if(t!==a)return Ce(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,d){const m=Et(u.integerValue||u.doubleValue),g=Et(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return yb(r.timestampValue,e.timestampValue);case 4:return yb(bu(r),bu(e));case 5:return Tg(r.stringValue,e.stringValue);case 6:return function(u,d){const m=fa(u),g=fa(d);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),g=d.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=Ce(m[p],g[p]);if(_!==0)return _}return Ce(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Ce(Et(u.latitude),Et(d.latitude));return m!==0?m:Ce(Et(u.longitude),Et(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return vb(r.arrayValue,e.arrayValue);case 10:return function(u,d){var m,g,p,_;const x=u.fields||{},T=d.fields||{},I=(m=x[Xd])===null||m===void 0?void 0:m.arrayValue,C=(g=T[Xd])===null||g===void 0?void 0:g.arrayValue,z=Ce(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:vb(I,C)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===pd.mapValue&&d===pd.mapValue)return 0;if(u===pd.mapValue)return 1;if(d===pd.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=d.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let x=0;x<g.length&&x<_.length;++x){const T=Tg(g[x],_[x]);if(T!==0)return T;const I=So(m[g[x]],p[_[x]]);if(I!==0)return I}return Ce(g.length,_.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function yb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=ha(r),a=ha(e),o=Ce(t.seconds,a.seconds);return o!==0?o:Ce(t.nanos,a.nanos)}function vb(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=So(t[o],a[o]);if(u)return u}return Ce(t.length,a.length)}function Ro(r){return wg(r)}function wg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=ha(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return fa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=wg(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${wg(t.fields[d])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function Od(r){switch(ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(r);return e?16+Od(e):16;case 5:return 2*r.stringValue.length;case 6:return fa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Od(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return _a(a.fields,(u,d)=>{o+=u.length+Od(d)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function _b(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xg(r){return!!r&&"integerValue"in r}function dp(r){return!!r&&"arrayValue"in r}function bb(r){return!!r&&"nullValue"in r}function Eb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pd(r){return!!r&&"mapValue"in r}function d2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[GT])===null||t===void 0?void 0:t.stringValue)===$T}function cu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return _a(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=cu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function h2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=Jt.emptyPath(),a={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,a,o),a={},o=[],t=m.popLast()}d?a[m.lastSegment()]=cu(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());Pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){_a(t,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new bn(cu(this.value))}}function KT(r){const e=[];return _a(r.fields,(t,a)=>{const o=new Jt([t]);if(Pd(a)){const u=KT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,a,o,u,d,m){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),bn.empty(),0)}static newFoundDocument(e,t,a,o){return new sn(e,1,t,Ae.min(),a,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Ae.min(),Ae.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ae.min(),Ae.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.position=e,this.inclusive=t}}function Tb(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),t.key):a=So(d,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function wb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Or(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function f2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class Rt extends YT{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new g2(e,t,a):t==="array-contains"?new v2(e,a):t==="in"?new _2(e,a):t==="not-in"?new b2(e,a):t==="array-contains-any"?new E2(e,a):new Rt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new p2(e,a):new y2(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(So(t,this.value)):t!==null&&ma(this.value)===ma(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends YT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ir(e,t)}matches(e){return QT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function QT(r){return r.op==="and"}function XT(r){return m2(r)&&QT(r)}function m2(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function Ag(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(XT(r))return r.filters.map(e=>Ag(e)).join(",");{const e=r.filters.map(t=>Ag(t)).join(",");return`${r.op}(${e})`}}function WT(r,e){return r instanceof Rt?function(a,o){return o instanceof Rt&&a.op===o.op&&a.field.isEqual(o.field)&&Or(a.value,o.value)}(r,e):r instanceof ir?function(a,o){return o instanceof ir&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,m)=>u&&WT(d,o.filters[m]),!0):!1}(r,e):void Te(19439)}function JT(r){return r instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`}(r):r instanceof ir?function(t){return t.op.toString()+" {"+t.getFilters().map(JT).join(" ,")+"}"}(r):"Filter"}class g2 extends Rt{constructor(e,t,a){super(e,t,a),this.key=ye.fromName(a.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class p2 extends Rt{constructor(e,t){super(e,"in",t),this.keys=ZT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y2 extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=ZT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>ye.fromName(a.referenceValue))}class v2 extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dp(t)&&Tu(t.arrayValue,this.value)}}class _2 extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class b2 extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class E2 extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Tu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t=null,a=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Pe=null}}function xb(r,e=null,t=[],a=[],o=null,u=null,d=null){return new T2(r,e,t,a,o,u,d)}function hp(r){const e=Se(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Ag(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ro(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ro(a)).join(",")),e.Pe=t}return e.Pe}function fp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!f2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!WT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wb(r.startAt,e.startAt)&&wb(r.endAt,e.endAt)}function Sg(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t=null,a=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function w2(r,e,t,a,o,u,d,m){return new Uo(r,e,t,a,o,u,d,m)}function mp(r){return new Uo(r)}function Ab(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ew(r){return r.collectionGroup!==null}function du(r){const e=Se(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Mt(Jt.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new wu(u,a))}),t.has(Jt.keyField().canonicalString())||e.Te.push(new wu(Jt.keyField(),a))}return e.Te}function Cr(r){const e=Se(r);return e.Ie||(e.Ie=x2(e,du(r))),e.Ie}function x2(r,e){if(r.limitType==="F")return xb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)});const t=r.endAt?new Wd(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wd(r.startAt.position,r.startAt.inclusive):null;return xb(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function Rg(r,e){const t=r.filters.concat([e]);return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ng(r,e,t){return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Th(r,e){return fp(Cr(r),Cr(e))&&r.limitType===e.limitType}function tw(r){return`${hp(Cr(r))}|lt:${r.limitType}`}function go(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>JT(o)).join(", ")}]`),bh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Ro(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Ro(o)).join(",")),`Target(${a})`}(Cr(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of du(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,m,g){const p=Tb(d,m,g);return d.inclusive?p<=0:p<0}(a.startAt,du(a),o)||a.endAt&&!function(d,m,g){const p=Tb(d,m,g);return d.inclusive?p>=0:p>0}(a.endAt,du(a),o))}(r,e)}function A2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nw(r){return(e,t)=>{let a=!1;for(const o of du(r)){const u=S2(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function S2(r,e,t){const a=r.field.isKeyField()?ye.comparator(e.key,t.key):function(u,d,m){const g=d.data.field(u),p=m.data.field(u);return g!==null&&p!==null?So(g,p):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(t,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new ct(ye.comparator);function yi(){return R2}const rw=new ct(ye.comparator);function au(...r){let e=rw;for(const t of r)e=e.insert(t.key,t);return e}function iw(r){let e=rw;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function os(){return hu()}function aw(){return hu()}function hu(){return new vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const N2=new ct(ye.comparator),C2=new Mt(ye.comparator);function Me(...r){let e=C2;for(const t of r)e=e.add(t);return e}const k2=new Mt(Ce);function I2(){return k2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function sw(r){return{integerValue:""+r}}function D2(r,e){return a2(e)?sw(e):gp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function O2(r,e,t){return r instanceof xu?function(o,u){const d={fields:{[FT]:{stringValue:zT},[HT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cp(u)&&(u=Eh(u)),u&&(d.fields[qT]=u),{mapValue:d}}(t,e):r instanceof Au?lw(r,e):r instanceof Su?uw(r,e):function(o,u){const d=ow(o,u),m=Sb(d)+Sb(o.Ee);return xg(d)&&xg(o.Ee)?sw(m):gp(o.serializer,m)}(r,e)}function P2(r,e,t){return r instanceof Au?lw(r,e):r instanceof Su?uw(r,e):t}function ow(r,e){return r instanceof Jd?function(a){return xg(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class xu extends xh{}class Au extends xh{constructor(e){super(),this.elements=e}}function lw(r,e){const t=cw(e);for(const a of r.elements)t.some(o=>Or(o,a))||t.push(a);return{arrayValue:{values:t}}}class Su extends xh{constructor(e){super(),this.elements=e}}function uw(r,e){let t=cw(e);for(const a of r.elements)t=t.filter(o=>!Or(o,a));return{arrayValue:{values:t}}}class Jd extends xh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Sb(r){return Et(r.integerValue||r.doubleValue)}function cw(r){return dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.field=e,this.transform=t}}function V2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Au&&o instanceof Au||a instanceof Su&&o instanceof Su?Ao(a.elements,o.elements,Or):a instanceof Jd&&o instanceof Jd?Or(a.Ee,o.Ee):a instanceof xu&&o instanceof xu}(r.transform,e.transform)}class j2{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function dw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pp(r.key,nr.none()):new Vu(r.key,r.data,nr.none());{const t=r.data,a=bn.empty();let o=new Mt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new ba(r.key,a,new In(o.toArray()),nr.none())}}function U2(r,e,t){r instanceof Vu?function(o,u,d){const m=o.value.clone(),g=Nb(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ba?function(o,u,d){if(!Md(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Nb(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(hw(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function fu(r,e,t,a){return r instanceof Vu?function(u,d,m,g){if(!Md(u.precondition,d))return m;const p=u.value.clone(),_=Cb(u.fieldTransforms,g,d);return p.setAll(_),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,e,t,a):r instanceof ba?function(u,d,m,g){if(!Md(u.precondition,d))return m;const p=Cb(u.fieldTransforms,g,d),_=d.data;return _.setAll(hw(u)),_.setAll(p),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(x=>x.field))}(r,e,t,a):function(u,d,m){return Md(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,t)}function L2(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=ow(a.transform,o||null);u!=null&&(t===null&&(t=bn.empty()),t.set(a.field,u))}return t||null}function Rb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ao(a,o,(u,d)=>V2(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vu extends Ah{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Ah{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function Nb(r,e,t){const a=new Map;Ge(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],d=u.transform,m=e.data.field(u.field);a.set(u.field,P2(d,m,t[o]))}return a}function Cb(r,e,t){const a=new Map;for(const o of r){const u=o.transform,d=t.data.field(o.field);a.set(o.field,O2(u,d,e))}return a}class pp extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B2 extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&U2(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=fu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=fu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=aw();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const g=dw(d,m);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ae.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(t,a)=>Rb(t,a))&&Ao(this.baseMutations,e.baseMutations,(t,a)=>Rb(t,a))}}class yp{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){Ge(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return N2}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new yp(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Le;function H2(r){switch(r){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function fw(r){if(r===void 0)return gi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:r})}}(Le=St||(St={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new oa([4294967295,4294967295],0);function kb(r){const e=MT().encode(r),t=new RT;return t.update(e),new Uint8Array(t.digest())}function Ib(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new oa([t,a],0),new oa([o,u],0)]}class vp{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(a<0)throw new su(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=oa.fromNumber(this.fe)}pe(e,t,a){let o=e.add(t.multiply(oa.fromNumber(a)));return o.compare(G2)===1&&(o=new oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=kb(e),[a,o]=Ib(t);for(let u=0;u<this.hashCount;u++){const d=this.pe(a,o,u);if(!this.ye(d))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new vp(u,o,t);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.fe===0)return;const t=kb(e),[a,o]=Ib(t);for(let u=0;u<this.hashCount;u++){const d=this.pe(a,o,u);this.we(d)}}we(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Sh(Ae.min(),o,new ct(Ce),yi(),Me())}}class ju{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ju(a,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,a,o){this.Se=e,this.removedTargetIds=t,this.key=a,this.be=o}}class mw{constructor(e,t){this.targetId=e,this.De=t}}class gw{constructor(e,t,a=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class Db{constructor(){this.ve=0,this.Ce=Ob(),this.Fe=Zt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),t=Me(),a=Me();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:u})}}),new ju(this.Fe,this.Me,e,t,a)}ke(){this.xe=!1,this.Ce=Ob()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $2{constructor(e){this.We=e,this.Ge=new Map,this.ze=yi(),this.je=yd(),this.Je=yd(),this.He=new ct(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const a=this.tt(t);switch(e.state){case 0:this.nt(t)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),a.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((a,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,a=e.De.count,o=this.st(t);if(o){const u=o.target;if(Sg(u))if(a===0){const d=new ye(u.path);this.Xe(t,d,sn.newNoDocument(d,Ae.min()))}else Ge(a===1,20013,{expectedCount:a});else{const d=this.ot(t);if(d!==a){const m=this._t(e),g=m?this.ut(m,e,d):1;if(g!==0){this.rt(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let d,m;try{d=fa(a).toUint8Array()}catch(g){if(g instanceof BT)return ca("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new vp(d,o,u)}catch(g){return ca(g instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,t,a){return t.De.count===a-this.ht(e,t.targetId)?0:2}ht(e,t){const a=this.We.getRemoteKeysForTarget(t);let o=0;return a.forEach(u=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,d)=>{const m=this.st(d);if(m){if(u.current&&Sg(m.target)){const g=new ye(m.target.path);this.Tt(g).has(d)||this.It(d,g)||this.Xe(d,g,sn.newNoDocument(g,e))}u.Ne&&(t.set(d,u.Le()),u.ke())}});let a=Me();this.Je.forEach((u,d)=>{let m=!0;d.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ze.forEach((u,d)=>d.setReadTime(e));const o=new Sh(e,t,this.He,this.ze,a);return this.ze=yi(),this.je=yd(),this.Je=yd(),this.He=new ct(Ce),o}Ze(e,t){if(!this.nt(e))return;const a=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,a),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),a&&(this.ze=this.ze.insert(t,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Db,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Db),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function yd(){return new ct(ye.comparator)}function Ob(){return new ct(ye.comparator)}const K2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class X2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cg(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function Zd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function W2(r,e){return Zd(r,e.toTimestamp())}function kr(r){return Ge(!!r,49232),Ae.fromTimestamp(function(t){const a=ha(t);return new tt(a.seconds,a.nanos)}(r))}function _p(r,e){return kg(r,e).canonicalString()}function kg(r,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function yw(r){const e=it.fromString(r);return Ge(Tw(e),10190,{key:e.toString()}),e}function Ig(r,e){return _p(r.databaseId,e.path)}function eg(r,e){const t=yw(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(_w(t))}function vw(r,e){return _p(r.databaseId,e)}function J2(r){const e=yw(r);return e.length===4?it.emptyPath():_w(e)}function Dg(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _w(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pb(r,e,t){return{name:Ig(r,e),fields:t.value.mapValue.fields}}function Z2(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Zt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Zt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(p){const _=p.code===void 0?ee.UNKNOWN:fw(p.code);return new he(_,p.message||"")}(d);t=new gw(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=eg(r,a.document.name),u=kr(a.document.updateTime),d=a.document.createTime?kr(a.document.createTime):Ae.min(),m=new bn({mapValue:{fields:a.document.fields}}),g=sn.newFoundDocument(o,u,d,m),p=a.targetIds||[],_=a.removedTargetIds||[];t=new Vd(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=eg(r,a.document),u=a.readTime?kr(a.readTime):Ae.min(),d=sn.newNoDocument(o,u),m=a.removedTargetIds||[];t=new Vd([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=eg(r,a.document),u=a.removedTargetIds||[];t=new Vd([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new q2(o,u),m=a.targetId;t=new mw(m,d)}}return t}function eI(r,e){let t;if(e instanceof Vu)t={update:Pb(r,e.key,e.value)};else if(e instanceof pp)t={delete:Ig(r,e.key)};else if(e instanceof ba)t={update:Pb(r,e.key,e.data),updateMask:uI(e.fieldMask)};else{if(!(e instanceof B2))return Te(16599,{Rt:e.type});t={verify:Ig(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const m=d.transform;if(m instanceof xu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Su)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jd)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw Te(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:W2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),t}function tI(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(t=>function(o,u){let d=o.updateTime?kr(o.updateTime):kr(u);return d.isEqual(Ae.min())&&(d=kr(u)),new j2(d,o.transformResults||[])}(t,e))):[]}function nI(r,e){return{documents:[vw(r,e.path)]}}function rI(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=vw(r,o);const u=function(p){if(p.length!==0)return Ew(ir.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(p){if(p.length!==0)return p.map(_=>function(T){return{field:po(T.field),direction:sI(T.dir)}}(_))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=Cg(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:o}}function iI(r){let e=J2(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){Ge(a===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(x){const T=bw(x);return T instanceof ir&&XT(T)?T.getFilters():[T]}(t.where));let d=[];t.orderBy&&(d=function(x){return x.map(T=>function(C){return new wu(yo(C.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(x){let T;return T=typeof x=="object"?x.value:x,bh(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(x){const T=!!x.before,I=x.values||[];return new Wd(I,T)}(t.startAt));let p=null;return t.endAt&&(p=function(x){const T=!x.before,I=x.values||[];return new Wd(I,T)}(t.endAt)),w2(e,o,d,u,m,"F",g,p)}function aI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=yo(t.unaryFilter.field);return Rt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(t.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yo(t.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return Rt.create(yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ir.create(t.compositeFilter.filters.map(a=>bw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function sI(r){return K2[r]}function oI(r){return Y2[r]}function lI(r){return Q2[r]}function po(r){return{fieldPath:r.canonicalString()}}function yo(r){return Jt.fromServerFormat(r.fieldPath)}function Ew(r){return r instanceof Rt?function(t){if(t.op==="=="){if(Eb(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NAN"}};if(bb(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Eb(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NAN"}};if(bb(t.value))return{unaryFilter:{field:po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(t.field),op:oI(t.op),value:t.value}}}(r):r instanceof ir?function(t){const a=t.getFilters().map(o=>Ew(o));return a.length===1?a[0]:{compositeFilter:{op:lI(t.op),filters:a}}}(r):Te(54877,{filter:r})}function uI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,a,o,u=Ae.min(),d=Ae.min(),m=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.gt=e}}function dI(r){const e=iI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Dn=new fI}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(da.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(da.min())}updateCollectionGroup(e,t,a){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class fI{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Mt(it.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ww=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(ww,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new No(0)}static ur(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",mI=1048576;function jb([r,e],[t,a]){const o=Ce(r,t);return o===0?Ce(e,a):o}class gI{constructor(e){this.Tr=e,this.buffer=new Mt(jb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();jb(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pI{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(Vb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?fe(Vb,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Rr(3e5)})}}class yI{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(_h.ue);const a=new gI(t);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Mb)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let a,o,u,d,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(a=x,m=Date.now(),this.removeTargets(e,a,t))).next(x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(x=>(p=Date.now(),mo()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${x} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x})))}}function vI(r,e){return new yI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ne.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&fu(a.mutation,o,In.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Me()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Me()){const o=os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(u=>{let d=au();return u.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const a=os();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Me()))}populateOverlays(e,t,a){const o=[];return a.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,a,o){let u=yi();const d=hu(),m=function(){return hu()}();return t.forEach((g,p)=>{const _=a.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof ba)?u=u.insert(p.key,p):_!==void 0?(d.set(p.key,_.mutation.getFieldMask()),fu(_.mutation,p,_.mutation.getFieldMask(),tt.now())):d.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>d.set(p,_)),t.forEach((p,_)=>{var x;return m.set(p,new bI(_,(x=d.get(p))!==null&&x!==void 0?x:null))}),m))}recalculateAndSaveOverlays(e,t){const a=hu();let o=new ct((d,m)=>d-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let _=a.get(g)||In.empty();_=m.applyToLocalView(p,_),a.set(g,_);const x=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,x)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,x=aw();_.forEach(T=>{if(!u.has(T)){const I=dw(t.get(T),a.get(T));I!==null&&x.set(T,I),u=u.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,x))}return ne.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ew(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ne.resolve(os());let m=_u,g=u;return d.next(p=>ne.forEach(p,(_,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{g=g.insert(_,T)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Me())).next(_=>({batchId:m,changes:iw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(a=>{let o=au();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let d=au();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,g=>{const p=function(x,T){return new Uo(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(_=>{_.forEach((x,T)=>{d=d.insert(x,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o))).next(d=>{u.forEach((g,p)=>{const _=p.getKey();d.get(_)===null&&(d=d.insert(_,sn.newInvalidDocument(_)))});let m=au();return d.forEach((g,p)=>{const _=u.get(g);_!==void 0&&fu(_.mutation,p,In.empty(),tt.now()),wh(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:dI(o.bundledQuery),readTime:kr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.overlays=new ct(ye.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const a=os();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,u)=>{this.wt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),ne.resolve()}getOverlaysForCollection(e,t,a){const o=os(),u=t.length+1,d=new ye(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new ct((p,_)=>p-_);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>a){let _=u.get(p.largestBatchId);_===null&&(_=os(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=os(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=o)););return ne.resolve(m)}wt(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new F2(t,a));let u=this.kr.get(t);u===void 0&&(u=Me(),this.kr.set(t,u)),this.kr.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.qr=new Mt(Ft.Qr),this.$r=new Mt(Ft.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const a=new Ft(e,t);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Wr(new Ft(e,t))}Gr(e,t){e.forEach(a=>this.removeReference(a,t))}zr(e){const t=new ye(new it([])),a=new Ft(t,e),o=new Ft(t,e+1),u=[];return this.$r.forEachInRange([a,o],d=>{this.Wr(d),u.push(d.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ye(new it([])),a=new Ft(t,e),o=new Ft(t,e+1);let u=Me();return this.$r.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ft(e,0),a=this.qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ye.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mt(Ft.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new z2(u,t,a,o);this.mutationQueue.push(d);for(const m of o)this.Yr=this.Yr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Xr(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?up:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],d=>{const m=this.Zr(d.Hr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Mt(Ce);return t.forEach(o=>{const u=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,d],m=>{a=a.add(m.Hr)})}),ne.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const d=new Ft(new ye(u),0);let m=new Mt(Ce);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)},d),ne.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ne.forEach(t.mutations,o=>{const u=new Ft(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,t){const a=new Ft(t,0),o=this.Yr.firstAfterOrEqual(a);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.ni=e,this.docs=function(){return new ct(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,d=this.ni(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ne.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let a=yi();return t.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=yi();const d=t.path,m=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||t2(e2(_),a)<=0||(o.has(_.key)||wh(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Te(9500)}ri(e,t){return ne.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new RI(this)}getSize(e){return ne.resolve(this.size)}}class RI extends _I{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.persistence=e,this.ii=new vs(t=>hp(t),fp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new bp,this.targetCount=0,this._i=No.ar()}forEachTarget(e,t){return this.ii.forEach((a,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new No(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.ii.forEach((d,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.ii.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const a=this.ii.get(t)||null;return ne.resolve(a)}addMatchingKeys(e,t,a){return this.oi.Kr(t,a),ne.resolve()}removeMatchingKeys(e,t,a){this.oi.Gr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const a=this.oi.Jr(t);return ne.resolve(a)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.ai={},this.overlays={},this.ui=new _h(0),this.ci=!1,this.ci=!0,this.li=new xI,this.referenceDelegate=e(this),this.hi=new NI(this),this.indexManager=new hI,this.remoteDocumentCache=function(o){return new SI(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new cI(t),this.Ti=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ai[e.toKey()];return a||(a=new AI(t,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,a){fe("MemoryPersistence","Starting transaction:",e);const o=new CI(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,t)))}}class CI extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ai=new bp,this.Ri=null}static Vi(e){return new Ep(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,a){return this.Ai.addReference(a,t),this.mi.delete(a.toString()),ne.resolve()}removeReference(e,t,a){return this.Ai.removeReference(a,t),this.mi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,a=>{const o=ye.fromPath(a);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(a=>{a?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.gi=new vs(a=>s2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=vI(this,t)}static Vi(e,t){return new eh(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}yr(e){let t=0;return this.gr(e,a=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,t).next(m=>{m||(a++,u.removeEntry(d,Ae.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Od(e.data.value)),t}Sr(e,t,a){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Is=a,this.ds=o}static Es(e,t){let a=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uR()?8:i2(on())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.ps(e,t).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.ys(e,t,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new kI;return this.ws(e,t,d).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,d,m.size)})}).next(()=>u.result)}Ss(e,t,a,o){return a.documentReadCount<this.Vs?(mo()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(mo()<=Pe.DEBUG&&fe("QueryEngine","Query:",go(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(mo()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):ne.resolve())}ps(e,t){if(Ab(t))return ne.resolve(null);let a=Cr(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ng(t,null,"F"),a=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=Me(...u);return this.gs.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.bs(t,m);return this.Ds(t,p,d,g.readTime)?this.ps(e,Ng(t,null,"F")):this.vs(e,p,t,g)}))})))}ys(e,t,a,o){return Ab(t)||o.isEqual(Ae.min())?ne.resolve(null):this.gs.getDocuments(e,a).next(u=>{const d=this.bs(t,u);return this.Ds(t,d,a,o)?ne.resolve(null):(mo()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(t)),this.vs(e,d,t,Zk(o,_u)).next(m=>m))})}bs(e,t){let a=new Mt(nw(e));return t.forEach((o,u)=>{wh(e,u)&&(a=a.add(u))}),a}Ds(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,a){return mo()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",go(t)),this.gs.getDocumentsMatchingQuery(e,t,da.min(),a)}vs(e,t,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="LocalStore",DI=3e8;class OI{constructor(e,t,a,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ct(Ce),this.Ms=new vs(u=>hp(u),fp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function PI(r,e,t,a){return new OI(r,e,t,a)}async function Aw(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],m=[];let g=Me();for(const p of o){d.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(a,g).next(p=>({Bs:p,removedBatchIds:d,addedBatchIds:m}))})})}function MI(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const x=p.batch,T=x.keys();let I=ne.resolve();return T.forEach(C=>{I=I.next(()=>_.getEntry(g,C)).next(z=>{const j=p.docVersions.get(C);Ge(j!==null,48541),z.version.compareTo(j)<0&&(x.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(g,x))}(t,a,e,u).next(()=>u.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Me();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function Sw(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function VI(r,e){const t=Se(r),a=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((_,x)=>{const T=o.get(x);if(!T)return;m.push(t.hi.removeMatchingKeys(u,_.removedDocuments,x).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,x)));let I=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?I=I.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,a)),o=o.insert(x,I),function(z,j,$){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=DI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,I,_)&&m.push(t.hi.updateTargetData(u,I))});let g=yi(),p=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(jI(u,d,e.documentUpdates).next(_=>{g=_.Ls,p=_.ks})),!a.isEqual(Ae.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(x=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(_)}return ne.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Fs=o,u))}function jI(r,e,t){let a=Me(),o=Me();return t.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let d=yi();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):fe(wp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:d,ks:o}})}function UI(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=up),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function LI(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.hi.getTargetData(a,e).next(u=>u?(o=u,ne.resolve(o)):t.hi.allocateTargetId(a).next(d=>(o=new ra(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(a.targetId,a),t.Ms.set(e,a.targetId)),a})}async function Og(r,e,t){const a=Se(r),o=a.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!jo(d))throw d;fe(wp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function Ub(r,e,t){const a=Se(r);let o=Ae.min(),u=Me();return a.persistence.runTransaction("Execute query","readwrite",d=>function(g,p,_){const x=Se(g),T=x.Ms.get(_);return T!==void 0?ne.resolve(x.Fs.get(T)):x.hi.getTargetData(p,_)}(a,d,Cr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,m.targetId).next(g=>{u=g})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,t?o:Ae.min(),t?u:Me())).next(m=>(BI(a,A2(e),m),{documents:m,qs:u})))}function BI(r,e,t){let a=r.xs.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.xs.set(e,a)}class Lb{constructor(){this.activeTargetIds=I2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zI{constructor(){this.Fo=new Lb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,a){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Lb,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class zb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Pg(){return vd===null?vd=function(){return 268435456+Math.round(2147483648*Math.random())}():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HI{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===Qd?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,t,a,o,u){const d=Pg(),m=this.Go(e,t.toUriEncodedString());fe(tg,`Sending RPC '${e}' ${d}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(m),_=_i(p);return this.jo(e,m,g,a,_).then(x=>(fe(tg,`Received RPC '${e}' ${d}: `,x),x),x=>{throw ca(tg,`RPC '${e}' ${d} failed with error: `,x,"url: ",m,"request:",a),x})}Jo(e,t,a,o,u,d){return this.Wo(e,t,a,o,u)}zo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const a=qI[e];return`${this.$o}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class $I extends HI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,a,o,u){const d=Pg();return new Promise((m,g)=>{const p=new NT;p.setWithCredentials(!0),p.listenOnce(CT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Dd.NO_ERROR:const x=p.getResponseJson();fe(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),m(x);break;case Dd.TIMEOUT:fe(rn,`RPC '${e}' ${d} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const T=p.getStatus();if(fe(rn,`RPC '${e}' ${d} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const z=function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN}(C.status);g(new he(z,C.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:d,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{fe(rn,`RPC '${e}' ${d} completed.`)}});const _=JSON.stringify(o);fe(rn,`RPC '${e}' ${d} sending request:`,o),p.send(t,"POST",_,a,15)})}P_(e,t,a){const o=Pg(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=DT(),m=IT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,a),g.encodeInitMessageHeaders=!0;const _=u.join("");fe(rn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const x=d.createWebChannel(_,g);this.T_(x);let T=!1,I=!1;const C=new GI({Ho:j=>{I?fe(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(fe(rn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),T=!0),fe(rn,`RPC '${e}' stream ${o} sending:`,j),x.send(j))},Yo:()=>x.close()}),z=(j,$,W)=>{j.listen($,Y=>{try{W(Y)}catch(re){setTimeout(()=>{throw re},0)}})};return z(x,iu.EventType.OPEN,()=>{I||(fe(rn,`RPC '${e}' stream ${o} transport opened.`),C.s_())}),z(x,iu.EventType.CLOSE,()=>{I||(I=!0,fe(rn,`RPC '${e}' stream ${o} transport closed`),C.__(),this.I_(x))}),z(x,iu.EventType.ERROR,j=>{I||(I=!0,ca(rn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),C.__(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),z(x,iu.EventType.MESSAGE,j=>{var $;if(!I){const W=j.data[0];Ge(!!W,16349);const Y=W,re=(Y==null?void 0:Y.error)||(($=Y[0])===null||$===void 0?void 0:$.error);if(re){fe(rn,`RPC '${e}' stream ${o} received error:`,re);const ae=re.status;let de=function(R){const O=St[R];if(O!==void 0)return fw(O)}(ae),D=re.message;de===void 0&&(de=ee.INTERNAL,D="Unknown error status: "+ae+" with message "+re.message),I=!0,C.__(new he(de,D)),x.close()}else fe(rn,`RPC '${e}' stream ${o} received:`,W),C.a_(W)}}),z(m,kT.STAT_EVENT,j=>{j.stat===Eg.PROXY?fe(rn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Eg.NOPROXY&&fe(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r){return new X2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="PersistentStream";class Nw{constructor(e,t,a,o,u,d,m,g){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Rw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===t&&this.W_(a,o)},a=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,t){const a=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(Fb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(Fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KI extends Nw{constructor(e,t,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,d),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Z2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ae.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?kr(d.readTime):Ae.min()}(e);return this.listener.J_(t,a)}H_(e){const t={};t.database=Dg(this.serializer),t.addTarget=function(u,d){let m;const g=d.target;if(m=Sg(g)?{documents:nI(u,g)}:{query:rI(u,g).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=pw(u,d.resumeToken);const p=Cg(u,d.expectedCount);p!==null&&(m.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Zd(u,d.snapshotVersion.toTimestamp());const p=Cg(u,d.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=aI(this.serializer,e);a&&(t.labels=a),this.k_(t)}Y_(e){const t={};t.database=Dg(this.serializer),t.removeTarget=e,this.k_(t)}}class YI extends Nw{constructor(e,t,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,d),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=tI(e.writeResults,e.commitTime),a=kr(e.commitTime);return this.listener.ta(a,t)}na(){const e={};e.database=Dg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>eI(this.serializer,a))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class XI extends QI{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,kg(t,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Jo(e,t,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Jo(e,kg(t,a),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ee.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class WI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gi(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class JI{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{_s(this)&&(fe(fs,"Restarting streams for network reachability change."),await async function(g){const p=Se(g);p.Ia.add(4),await Uu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Nh(p)}(this))})}),this.Aa=new WI(a,o)}}async function Nh(r){if(_s(r))for(const e of r.da)await e(!0)}async function Uu(r){for(const e of r.da)await e(!1)}function Cw(r,e){const t=Se(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Rp(t)?Sp(t):Lo(t).x_()&&Ap(t,e))}function xp(r,e){const t=Se(r),a=Lo(t);t.Ta.delete(e),a.x_()&&kw(t,e),t.Ta.size===0&&(a.x_()?a.B_():_s(t)&&t.Aa.set("Unknown"))}function Ap(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(r).H_(e)}function kw(r,e){r.Ra.$e(e),Lo(r).Y_(e)}function Sp(r){r.Ra=new $2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Aa.aa()}function Rp(r){return _s(r)&&!Lo(r).M_()&&r.Ta.size>0}function _s(r){return Se(r).Ia.size===0}function Iw(r){r.Ra=void 0}async function ZI(r){r.Aa.set("Online")}async function eD(r){r.Ta.forEach((e,t)=>{Ap(r,e)})}async function tD(r,e){Iw(r),Rp(r)?(r.Aa.la(e),Sp(r)):r.Aa.set("Unknown")}async function nD(r,e,t){if(r.Aa.set("Online"),e instanceof gw&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(a){fe(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await th(r,a)}else if(e instanceof Vd?r.Ra.Ye(e):e instanceof mw?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ae.min()))try{const a=await Sw(r.localStore);t.compareTo(a)>=0&&await function(u,d){const m=u.Ra.Pt(d);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ta.get(p);_&&u.Ta.set(p,_.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ta.get(g);if(!_)return;u.Ta.set(g,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),kw(u,g);const x=new ra(_.target,g,p,_.sequenceNumber);Ap(u,x)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(a){fe(fs,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,e,t){if(!jo(e))throw e;r.Ia.add(1),await Uu(r),r.Aa.set("Offline"),t||(t=()=>Sw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(fs,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Nh(r)})}function Dw(r,e){return e().catch(t=>th(r,t,e))}async function Ch(r){const e=Se(r),t=ga(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:up;for(;rD(e);)try{const o=await UI(e.localStore,a);if(o===null){e.Pa.length===0&&t.B_();break}a=o.batchId,iD(e,o)}catch(o){await th(e,o)}Ow(e)&&Pw(e)}function rD(r){return _s(r)&&r.Pa.length<10}function iD(r,e){r.Pa.push(e);const t=ga(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Ow(r){return _s(r)&&!ga(r).M_()&&r.Pa.length>0}function Pw(r){ga(r).start()}async function aD(r){ga(r).na()}async function sD(r){const e=ga(r);for(const t of r.Pa)e.X_(t.mutations)}async function oD(r,e,t){const a=r.Pa.shift(),o=yp.from(a,e,t);await Dw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ch(r)}async function lD(r,e){e&&ga(r).Z_&&await async function(a,o){if(function(d){return H2(d)&&d!==ee.ABORTED}(o.code)){const u=a.Pa.shift();ga(a).N_(),await Dw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ch(a)}}(r,e),Ow(r)&&Pw(r)}async function qb(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),fe(fs,"RemoteStore received new credentials");const a=_s(t);t.Ia.add(3),await Uu(t),a&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Nh(t)}async function uD(r,e){const t=Se(r);e?(t.Ia.delete(2),await Nh(t)):e||(t.Ia.add(2),await Uu(t),t.Aa.set("Unknown"))}function Lo(r){return r.Va||(r.Va=function(t,a,o){const u=Se(t);return u.ia(),new KI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:ZI.bind(null,r),e_:eD.bind(null,r),n_:tD.bind(null,r),J_:nD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Rp(r)?Sp(r):r.Aa.set("Unknown")):(await r.Va.stop(),Iw(r))})),r.Va}function ga(r){return r.ma||(r.ma=function(t,a,o){const u=Se(t);return u.ia(),new YI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:aD.bind(null,r),n_:lD.bind(null,r),ea:sD.bind(null,r),ta:oD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Ch(r)):(await r.ma.stop(),r.Pa.length>0&&(fe(fs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const d=Date.now()+a,m=new Np(e,t,d,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(r,e){if(gi("AsyncQueue",`${e}: ${r}`),jo(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||ye.comparator(t.key,a.key):(t,a)=>ye.comparator(t.key,a.key),this.keyedMap=au(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new To;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.fa=new ct(ye.comparator)}track(e){const t=e.doc.key,a=this.fa.get(t);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(t,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(t):e.type===1&&a.type===2?this.fa=this.fa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:a}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Co{constructor(e,t,a,o,u,d,m,g,p){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,a,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Co(e,t,To.emptySet(t),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class dD{constructor(){this.queries=Gb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,a){const o=Se(t),u=o.queries;o.queries=Gb(),u.forEach((d,m)=>{for(const g of m.wa)g.onError(a)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Gb(){return new vs(r=>tw(r),Th)}async function Mw(r,e){const t=Se(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new cD,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=Cp(d,`Initialization of query '${go(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&kp(t)}async function Vw(r,e){const t=Se(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const d=u.wa.indexOf(e);d>=0&&(u.wa.splice(d,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function hD(r,e){const t=Se(r);let a=!1;for(const o of e){const u=o.query,d=t.queries.get(u);if(d){for(const m of d.wa)m.Ca(o)&&(a=!0);d.ya=o}}a&&kp(t)}function fD(r,e,t){const a=Se(r),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(t);a.queries.delete(e)}function kp(r){r.Da.forEach(e=>{e.next()})}var Mg,$b;($b=Mg||(Mg={})).Fa="default",$b.Cache="cache";class jw{constructor(e,t,a){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const a=t!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.key=e}}class Lw{constructor(e){this.key=e}}class mD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=nw(e),this.eu=new To(this.Xa)}get tu(){return this.Ha}nu(e,t){const a=t?t.ru:new Hb,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,x)=>{const T=o.get(_),I=wh(this.query,x)?x:null,C=!!T&&this.mutatedKeys.has(T.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;T&&I?T.data.isEqual(I.data)?C!==z&&(a.track({type:3,doc:I}),j=!0):this.iu(T,I)||(a.track({type:2,doc:I}),j=!0,(g&&this.Xa(I,g)>0||p&&this.Xa(I,p)<0)&&(m=!0)):!T&&I?(a.track({type:0,doc:I}),j=!0):T&&!I&&(a.track({type:1,doc:T}),j=!0,(g||p)&&(m=!0)),j&&(I?(d=d.add(I),u=z?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{eu:d,ru:a,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((_,x)=>function(I,C){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:j})}};return z(I)-z(C)}(_.type,x.type)||this.Xa(_.doc,x.doc)),this.su(a),o=o!=null&&o;const m=t&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,d.length!==0||p?{snapshot:new Co(this.query,e.eu,u,d,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Hb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const t=[];return e.forEach(a=>{this.Za.has(a)||t.push(new Lw(a))}),this.Za.forEach(a=>{e.has(a)||t.push(new Uw(a))}),t}uu(e){this.Ha=e.qs,this.Za=Me();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Co.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ip="SyncEngine";class gD{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class pD{constructor(e){this.key=e,this.lu=!1}}class yD{constructor(e,t,a,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new vs(m=>tw(m),Th),this.Tu=new Map,this.Iu=new Set,this.du=new ct(ye.comparator),this.Eu=new Map,this.Au=new bp,this.Ru={},this.Vu=new Map,this.mu=No.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function vD(r,e,t=!0){const a=Gw(r);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Bw(a,e,t,!0),o}async function _D(r,e){const t=Gw(r);await Bw(t,e,!0,!1)}async function Bw(r,e,t,a){const o=await LI(r.localStore,Cr(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,t);let m;return a&&(m=await bD(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&t&&Cw(r.remoteStore,o),m}async function bD(r,e,t,a,o){r.gu=(x,T,I)=>async function(z,j,$,W){let Y=j.view.nu($);Y.Ds&&(Y=await Ub(z.localStore,j.query,!1).then(({documents:D})=>j.view.nu(D,Y)));const re=W&&W.targetChanges.get(j.targetId),ae=W&&W.targetMismatches.get(j.targetId)!=null,de=j.view.applyChanges(Y,z.isPrimaryClient,re,ae);return Yb(z,j.targetId,de._u),de.snapshot}(r,x,T,I);const u=await Ub(r.localStore,e,!0),d=new mD(e,u.qs),m=d.nu(u.documents),g=ju.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),p=d.applyChanges(m,r.isPrimaryClient,g);Yb(r,t,p._u);const _=new gD(e,t,d);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),p.snapshot}async function ED(r,e,t){const a=Se(r),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(d=>!Th(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Og(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&xp(a.remoteStore,o.targetId),Vg(a,o.targetId)}).catch(Vo)):(Vg(a,o.targetId),await Og(a.localStore,o.targetId,!0))}async function TD(r,e){const t=Se(r),a=t.Pu.get(e),o=t.Tu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),xp(t.remoteStore,a.targetId))}async function wD(r,e,t){const a=kD(r);try{const o=await function(d,m){const g=Se(d),p=tt.now(),_=m.reduce((I,C)=>I.add(C.key),Me());let x,T;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=yi(),z=Me();return g.Os.getEntries(I,_).next(j=>{C=j,C.forEach(($,W)=>{W.isValidDocument()||(z=z.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,C)).next(j=>{x=j;const $=[];for(const W of m){const Y=L2(W,x.get(W.key).overlayedDocument);Y!=null&&$.push(new ba(W.key,Y,KT(Y.value.mapValue),nr.exists(!0)))}return g.mutationQueue.addMutationBatch(I,p,$,m)}).next(j=>{T=j;const $=j.applyToLocalDocumentSet(x,z);return g.documentOverlayCache.saveOverlays(I,j.batchId,$)})}).then(()=>({batchId:T.batchId,changes:iw(x)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let p=d.Ru[d.currentUser.toKey()];p||(p=new ct(Ce)),p=p.insert(m,g),d.Ru[d.currentUser.toKey()]=p}(a,o.batchId,t),await Lu(a,o.changes),await Ch(a.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");t.reject(u)}}async function zw(r,e){const t=Se(r);try{const a=await VI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.Eu.get(u);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Ge(d.lu,14607):o.removedDocuments.size>0&&(Ge(d.lu,42227),d.lu=!1))}),await Lu(t,a,e)}catch(a){await Vo(a)}}function Kb(r,e,t){const a=Se(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Pu.forEach((u,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Se(d);g.onlineState=m;let p=!1;g.queries.forEach((_,x)=>{for(const T of x.wa)T.va(m)&&(p=!0)}),p&&kp(g)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xD(r,e,t){const a=Se(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Eu.get(e),u=o&&o.key;if(u){let d=new ct(ye.comparator);d=d.insert(u,sn.newNoDocument(u,Ae.min()));const m=Me().add(u),g=new Sh(Ae.min(),new Map,new ct(Ce),d,m);await zw(a,g),a.du=a.du.remove(u),a.Eu.delete(e),Dp(a)}else await Og(a.localStore,e,!1).then(()=>Vg(a,e,t)).catch(Vo)}async function AD(r,e){const t=Se(r),a=e.batch.batchId;try{const o=await MI(t.localStore,e);qw(t,a,null),Fw(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Lu(t,o)}catch(o){await Vo(o)}}async function SD(r,e,t){const a=Se(r);try{const o=await function(d,m){const g=Se(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(x=>(Ge(x!==null,37113),_=x.keys(),g.mutationQueue.removeMutationBatch(p,x))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(a.localStore,e);qw(a,e,t),Fw(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Lu(a,o)}catch(o){await Vo(o)}}function Fw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function qw(r,e,t){const a=Se(r);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Vg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),t&&r.hu.pu(a,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||Hw(r,a)})}function Hw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(xp(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Dp(r))}function Yb(r,e,t){for(const a of t)a instanceof Uw?(r.Au.addReference(a.key,e),RD(r,a)):a instanceof Lw?(fe(Ip,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||Hw(r,a.key)):Te(19791,{yu:a})}function RD(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Iu.has(a)||(fe(Ip,"New document in limbo: "+t),r.Iu.add(a),Dp(r))}function Dp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ye(it.fromString(e)),a=r.mu.next();r.Eu.set(a,new pD(t)),r.du=r.du.insert(t,a),Cw(r.remoteStore,new ra(Cr(mp(t.path)),a,"TargetPurposeLimboResolution",_h.ue))}}async function Lu(r,e,t){const a=Se(r),o=[],u=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((m,g)=>{d.push(a.gu(g,e,t).then(p=>{var _;if((p||t)&&a.isPrimaryClient){const x=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(p){o.push(p);const x=Tp.Es(g.targetId,p);u.push(x)}}))}),await Promise.all(d),a.hu.J_(o),await async function(g,p){const _=Se(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ne.forEach(p,T=>ne.forEach(T.Is,I=>_.persistence.referenceDelegate.addReference(x,T.targetId,I)).next(()=>ne.forEach(T.ds,I=>_.persistence.referenceDelegate.removeReference(x,T.targetId,I)))))}catch(x){if(!jo(x))throw x;fe(wp,"Failed to update sequence numbers: "+x)}for(const x of p){const T=x.targetId;if(!x.fromCache){const I=_.Fs.get(T),C=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(C);_.Fs=_.Fs.insert(T,z)}}}(a.localStore,u))}async function ND(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){fe(Ip,"User change. New user:",e.toKey());const a=await Aw(t.localStore,e);t.currentUser=e,function(u,d){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new he(ee.CANCELLED,d))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Lu(t,a.Bs)}}function CD(r,e){const t=Se(r),a=t.Eu.get(e);if(a&&a.lu)return Me().add(a.key);{let o=Me();const u=t.Tu.get(e);if(!u)return o;for(const d of u){const m=t.Pu.get(d);o=o.unionWith(m.view.tu)}return o}}function Gw(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.hu.J_=hD.bind(null,e.eventManager),e.hu.pu=fD.bind(null,e.eventManager),e}function kD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SD.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return PI(this.persistence,new II,e.initialUser,this.serializer)}Du(e){return new xw(Ep.Vi,this.serializer)}bu(e){return new zI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class ID extends nh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ge(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new pI(a,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new xw(a=>eh.Vi(a,t),this.serializer)}}class jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dD}()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),a=function(u){return new $I(u)}(e.databaseInfo);return function(u,d,m,g){return new XI(u,d,m,g)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,u,d,m){return new JI(a,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Kb(this.syncEngine,t,0),function(){return zb.C()?new zb:new FI}())}createSyncEngine(e,t){return function(o,u,d,m,g,p,_){const x=new yD(o,u,d,m,g,p);return _&&(x.fu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);fe(fs,"RemoteStore shutting down."),u.Ia.add(5),await Uu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class DD{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{fe(pa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(fe(pa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Cp(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function rg(r,e){r.asyncQueue.verifyOperationInProgress(),fe(pa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Aw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ca("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Qb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await OD(r);fe(pa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>qb(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>qb(e.remoteStore,o)),r._onlineComponents=e}async function OD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(pa,"Using user provided OfflineComponentProvider");try{await rg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await rg(r,new nh)}}else fe(pa,"Using default OfflineComponentProvider"),await rg(r,new ID(void 0));return r._offlineComponents}async function Kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(pa,"Using user provided OnlineComponentProvider"),await Qb(r,r._uninitializedComponentsProvider._online)):(fe(pa,"Using default OnlineComponentProvider"),await Qb(r,new jg))),r._onlineComponents}function PD(r){return Kw(r).then(e=>e.syncEngine)}async function Yw(r){const e=await Kw(r),t=e.eventManager;return t.onListen=vD.bind(null,e.syncEngine),t.onUnlisten=ED.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_D.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),t}function MD(r,e,t={}){const a=new ui;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const _=new $w({next:T=>{_.Ou(),d.enqueueAndForget(()=>Vw(u,x));const I=T.docs.has(m);!I&&T.fromCache?p.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&g&&g.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),x=new jw(mp(m.path),_,{includeMetadataChanges:!0,ka:!0});return Mw(u,x)}(await Yw(r),r.asyncQueue,e,t,a)),a.promise}function VD(r,e,t={}){const a=new ui;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,m,g,p){const _=new $w({next:T=>{_.Ou(),d.enqueueAndForget(()=>Vw(u,x)),T.fromCache&&g.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),x=new jw(m,_,{includeMetadataChanges:!0,ka:!0});return Mw(u,x)}(await Yw(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firestore.googleapis.com",Wb=!0;class Jb{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=Wb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mI)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new qk;switch(a.type){case"firstParty":return new Kk(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Xb.get(t);a&&(fe("ComponentProvider","Removing Datastore"),Xb.delete(t),a.terminate())}(this),Promise.resolve()}}function jD(r,e,t,a={}){var o;r=pi(r,kh);const u=_i(e),d=r._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;u&&(dh(`https://${g}`),hh("Firestore",!0)),d.host!==Xw&&d.host!==g&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:g,ssl:u,emulatorOptions:a});if(!cs(p,m)&&(r._setSettings(p),a.mockUserToken)){let _,x;if(typeof a.mockUserToken=="string")_=a.mockUserToken,x=an.MOCK_USER;else{_=FE(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new an(T)}r._authCredentials=new Hk(new PT(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Ct{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Mu(t,Ct._jsonSchema))return new Ct(e,a||null,new ye(it.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Nt("string",Ct._jsonSchemaVersion),referencePath:Nt("string")};class la extends bs{constructor(e,t,a){super(e,t,mp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ye(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function as(r,e,...t){if(r=at(r),VT("collection","path",e),r instanceof kh){const a=it.fromString(e,...t);return db(a),new la(r,null,a)}{if(!(r instanceof Ct||r instanceof la))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...t));return db(a),new la(r.firestore,null,a)}}function Wi(r,e,...t){if(r=at(r),arguments.length===1&&(e=lp.newId()),VT("doc","path",e),r instanceof kh){const a=it.fromString(e,...t);return cb(a),new Ct(r,null,new ye(a))}{if(!(r instanceof Ct||r instanceof la))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...t));return cb(a),new Ct(r.firestore,r instanceof la?r.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Rw(this,"async_queue_retry"),this.oc=()=>{const a=ng();a&&fe(Zb,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const t=ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ui;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!jo(e))throw e;fe(Zb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,gi("INTERNAL UNHANDLED ERROR: ",tE(a)),a}).then(a=>(this.nc=!1,a))));return this._c=t,t}enqueueAfterDelay(e,t,a){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Np.createAndSchedule(this,e,t,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:tE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function tE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Bo extends kh{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new eE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function UD(r,e){const t=typeof r=="object"?r:fh(),a=typeof r=="string"?r:Qd,o=Iu(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Qg("firestore");u&&jD(o,...u)}return o}function Op(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LD(r),r._firestoreClient}function LD(r){var e,t,a;const o=r._freezeSettings(),u=function(m,g,p,_){return new u2(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Qw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new DD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Zt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Nt("string",$n._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:Nt("string",Ir._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Dr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Nt("string",Dr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=/^__.*__$/;class zD{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class Ww{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class Pp{constructor(e,t,a,o,u,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Jw(this.Ec)&&BD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Rh(e)}Dc(e,t,a,o=!1){return new Pp({Ec:e,methodName:t,bc:a,path:Jt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(r){const e=r._freezeSettings(),t=Rh(r._databaseId);return new FD(r._databaseId,!!e.ignoreUndefinedProperties,t)}function qD(r,e,t,a,o,u={}){const d=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);jp("Data must be an object, but it was:",d,a);const m=Zw(a,d);let g,p;if(u.merge)g=new In(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const x of u.mergeFields){const T=Ug(e,x,t);if(!d.contains(T))throw new he(ee.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);tx(_,T)||_.push(T)}g=new In(_),p=d.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,p=d.fieldTransforms;return new zD(new bn(m),g,p)}class Oh extends Dh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}class Vp extends Dh{_toFieldTransform(e){return new M2(e.path,new xu)}isEqual(e){return e instanceof Vp}}function HD(r,e,t,a){const o=r.Dc(1,e,t);jp("Data must be an object, but it was:",o,a);const u=[],d=bn.empty();_a(a,(g,p)=>{const _=Up(e,g,t);p=at(p);const x=o.gc(_);if(p instanceof Oh)u.push(_);else{const T=Bu(p,x);T!=null&&(u.push(_),d.set(_,T))}});const m=new In(u);return new Ww(d,m,o.fieldTransforms)}function GD(r,e,t,a,o,u){const d=r.Dc(1,e,t),m=[Ug(e,a,t)],g=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(Ug(e,u[T])),g.push(u[T+1]);const p=[],_=bn.empty();for(let T=m.length-1;T>=0;--T)if(!tx(p,m[T])){const I=m[T];let C=g[T];C=at(C);const z=d.gc(I);if(C instanceof Oh)p.push(I);else{const j=Bu(C,z);j!=null&&(p.push(I),_.set(I,j))}}const x=new In(p);return new Ww(_,x,d.fieldTransforms)}function $D(r,e,t,a=!1){return Bu(t,r.Dc(a?4:3,e))}function Bu(r,e){if(ex(r=at(r)))return jp("Unsupported field value:",e,r),Zw(r,e);if(r instanceof Dh)return function(a,o){if(!Jw(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const m of a){let g=Bu(m,o.yc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=at(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return D2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=tt.fromDate(a);return{timestampValue:Zd(o.serializer,u)}}if(a instanceof tt){const u=new tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zd(o.serializer,u)}}if(a instanceof Ir)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:pw(o.serializer,a._byteString)};if(a instanceof Ct){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Dr)return function(d,m){return{mapValue:{fields:{[GT]:{stringValue:$T},[Xd]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return gp(m.serializer,p)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${vh(a)}`)}(r,e)}function Zw(r,e){const t={};return LT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(r,(a,o)=>{const u=Bu(o,e.Vc(a));u!=null&&(t[a]=u)}),{mapValue:{fields:t}}}function ex(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Ir||r instanceof $n||r instanceof Ct||r instanceof Dh||r instanceof Dr)}function jp(r,e,t){if(!ex(t)||!jT(t)){const a=vh(t);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function Ug(r,e,t){if((e=at(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return Up(r,e);throw rh("Field path arguments must be of type string or ",r,!1,void 0,t)}const KD=new RegExp("[~\\*/\\[\\]]");function Up(r,e,t){if(e.search(KD)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ih(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function rh(r,e,t,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new he(ee.INVALID_ARGUMENT,m+r+g)}function tx(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ph("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YD extends nx{data(){return super.data()}}function Ph(r,e){return typeof e=="string"?Up(r,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class rx extends Lp{}function Zl(r,e,...t){let a=[];e instanceof Lp&&a.push(e),a=a.concat(t),function(u){const d=u.filter(g=>g instanceof Bp).length,m=u.filter(g=>g instanceof Mh).length;if(d>1||d>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Mh extends rx{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Mh(e,t,a)}_apply(e){const t=this._parse(e);return ix(e._query,t),new bs(e.firestore,e.converter,Rg(e._query,t))}_parse(e){const t=Mp(e.firestore);return function(u,d,m,g,p,_,x){let T;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){iE(x,_);const C=[];for(const z of x)C.push(rE(g,u,z));T={arrayValue:{values:C}}}else T=rE(g,u,x)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||iE(x,_),T=$D(m,d,x,_==="in"||_==="not-in");return Rt.create(p,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _d(r,e,t){const a=e,o=Ph("where",r);return Mh._create(o,a,t)}class Bp extends Lp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bp(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const g of m)ix(d,g),d=Rg(d,g)}(e._query,t),new bs(e.firestore,e.converter,Rg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends rx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zp(e,t)}_apply(e){const t=function(o,u,d){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,d)}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Uo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function nE(r,e="asc"){const t=e,a=Ph("orderBy",r);return zp._create(a,t)}function rE(r,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ew(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(it.fromString(t));if(!ye.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return _b(r,new ye(a))}if(t instanceof Ct)return _b(r,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(t)}.`)}function iE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ix(r,e){const t=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XD{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return _a(e,(o,u)=>{a[o]=this.convertValue(u,t)}),a}convertVectorValue(e){var t,a,o;const u=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Xd].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>Et(d.doubleValue));return new Dr(u)}convertGeoPoint(e){return new Ir(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Eh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=ha(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=it.fromString(e);Ge(Tw(a),9688,{name:e});const o=new Eu(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(t)||gi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(r,e,t){let a;return a=r?r.toFirestore(e):e,a}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ls extends nx{constructor(e,t,a,o,u,d){super(e,t,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Ph("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ls._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:Nt("string",ls._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class jd extends ls{data(e={}){return super.data(e)}}class wo{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new jd(this._firestore,this._userDataWriter,a.key,a,new ou(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new jd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new jd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),_=d.indexOf(m.doc.key)),{type:JD(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){r=pi(r,Ct);const e=pi(r.firestore,Bo);return MD(Op(e),r._key).then(t=>ZD(e,r,t))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Nt("string",wo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ax extends XD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function eu(r){r=pi(r,bs);const e=pi(r.firestore,Bo),t=Op(e),a=new ax(e);return QD(r._query),VD(t,r._query).then(o=>new wo(e,a,r,o))}function ig(r,e,t,...a){r=pi(r,Ct);const o=pi(r.firestore,Bo),u=Mp(o);let d;return d=typeof(e=at(e))=="string"||e instanceof Ih?GD(u,"updateDoc",r._key,e,t,a):HD(u,"updateDoc",r._key,e),Fp(o,[d.toMutation(r._key,nr.exists(!0))])}function aE(r){return Fp(pi(r.firestore,Bo),[new pp(r._key,nr.none())])}function sE(r,e){const t=pi(r.firestore,Bo),a=Wi(r),o=WD(r.converter,e);return Fp(t,[qD(Mp(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,nr.exists(!1))]).then(()=>a)}function Fp(r,e){return function(a,o){const u=new ui;return a.asyncQueue.enqueueAndForget(async()=>wD(await PD(a),o,u)),u.promise}(Op(r),e)}function ZD(r,e,t){const a=t.docs.get(e._key),o=new ax(r);return new ls(r,o,e._key,a,new ou(t.hasPendingWrites,t.fromCache),e.converter)}function ag(){return new Vp("serverTimestamp")}(function(e,t=!0){(function(o){Mo=o})(ps),ua(new hi("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),m=new Bo(new Gk(a.getProvider("auth-internal")),new Yk(d,a.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(p.options.projectId,_)}(d,o),d);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kn(ab,sb,e),Kn(ab,sb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebasestorage.googleapis.com",ox="storageBucket",eO=2*60*1e3,tO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends or{constructor(e,t,a=0){super(sg(e),`Firebase Storage: ${t} (${sg(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function sg(r){return"storage/"+r}function qp(){const r="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,r)}function nO(r){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function rO(r){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,r)}function aO(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sO(r){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function oO(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lO(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function uO(r){return new gt(mt.INVALID_URL,"Invalid URL '"+r+"'.")}function cO(r){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function dO(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ox+"' property when initializing the app?")}function hO(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fO(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mO(r){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lg(r){return new gt(mt.INVALID_ARGUMENT,r)}function lx(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function gO(r){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(r,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function tu(r){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=Dn.makeFromUrl(e,t)}catch{return new Dn(e,"")}if(a.path==="")return a;throw cO(e)}static makeFromUrl(e,t){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const _="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",I=new RegExp(`^https?://${x}/${_}/b/${o}/o${T}`,"i"),C={bucket:1,path:3},z=t===sx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",$=new RegExp(`^https?://${z}/${o}/${j}`,"i"),Y=[{regex:m,indices:g,postModify:u},{regex:I,indices:C,postModify:p},{regex:$,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<Y.length;re++){const ae=Y[re],de=ae.regex.exec(e);if(de){const D=de[ae.indices.bucket];let S=de[ae.indices.path];S||(S=""),a=new Dn(D,S),ae.postModify(a);break}}if(a==null)throw uO(e);return a}}class pO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r,e,t){let a=1,o=null,u=null,d=!1,m=0;function g(){return m===2}let p=!1;function _(...j){p||(p=!0,e.apply(null,j))}function x(j){o=setTimeout(()=>{o=null,r(I,g())},j)}function T(){u&&clearTimeout(u)}function I(j,...$){if(p){T();return}if(j){T(),_.call(null,j,...$);return}if(g()||d){T(),_.call(null,j,...$);return}a<64&&(a*=2);let Y;m===1?(m=2,Y=0):Y=(a+Math.random())*1e3,x(Y)}let C=!1;function z(j){C||(C=!0,T(),!p&&(o!==null?(j||(m=2),clearTimeout(o),x(0)):j||(m=1)))}return x(0),u=setTimeout(()=>{d=!0,z(!0)},t),z}function vO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r){return r!==void 0}function bO(r){return typeof r=="object"&&!Array.isArray(r)}function Hp(r){return typeof r=="string"||r instanceof String}function oE(r){return Gp()&&r instanceof Blob}function Gp(){return typeof Blob<"u"}function lE(r,e,t,a){if(a<e)throw Lg(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>t)throw Lg(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e,t){let a=e;return t==null&&(a=`https://${e}`),`${t}://${a}/v0${r}`}function ux(r){const e=encodeURIComponent;let t="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);t=t+o+"&"}return t=t.slice(0,-1),t}var us;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(us||(us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,a,o,u,d,m,g,p,_,x,T=!0,I=!1){this.url_=e,this.method_=t,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,z)=>{this.resolve_=C,this.reject_=z,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Ed(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===us.NO_ERROR,g=u.getStatus();if(!m||EO(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===us.ABORT;a(!1,new Ed(!1,null,_));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new Ed(p,u))})},t=(a,o)=>{const u=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());_O(g)?u(g):u()}catch(g){d(g)}else if(m!==null){const g=qp();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?lx():lO();d(g)}else{const g=oO();d(g)}};this.canceled_?t(!1,new Ed(!1,null,!0)):this.backoffId_=yO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function wO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function xO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function SO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function RO(r,e,t,a,o,u,d=!0,m=!1){const g=ux(r.urlParams),p=r.url+g,_=Object.assign({},r.headers);return AO(_,e),wO(_,t),xO(_,u),SO(_,a),new TO(p,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CO(...r){const e=NO();if(e!==void 0){const t=new e;for(let a=0;a<r.length;a++)t.append(r[a]);return t.getBlob()}else{if(Gp())return new Blob(r);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kO(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(r){if(typeof atob>"u")throw mO("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class og{constructor(e,t){this.data=e,this.contentType=t||null}}function DO(r,e){switch(r){case Sr.RAW:return new og(cx(e));case Sr.BASE64:case Sr.BASE64URL:return new og(dx(r,e));case Sr.DATA_URL:return new og(PO(e),MO(e))}throw qp()}function cx(r){const e=[];for(let t=0;t<r.length;t++){let a=r.charCodeAt(t);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=a,d=r.charCodeAt(++t);a=65536|(u&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function OO(r){let e;try{e=decodeURIComponent(r)}catch{throw mu(Sr.DATA_URL,"Malformed data URL.")}return cx(e)}function dx(r,e){switch(r){case Sr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw mu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw mu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=IO(e)}catch(o){throw o.message.includes("polyfill")?o:mu(r,"Invalid character found")}const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}class hx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw mu(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=t[1]||null;a!=null&&(this.base64=VO(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function PO(r){const e=new hx(r);return e.base64?dx(Sr.BASE64,e.rest):OO(e.rest)}function MO(r){return new hx(r).contentType}function VO(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){let a=0,o="";oE(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(oE(this.data_)){const a=this.data_,o=kO(a,e,t);return o===null?null:new na(o)}else{const a=new Uint8Array(this.data_.buffer,e,t-e);return new na(a,!0)}}static getBlob(...e){if(Gp()){const t=e.map(a=>a instanceof na?a.data_:a);return new na(CO.apply(null,t))}else{const t=e.map(d=>Hp(d)?DO(Sr.RAW,d).data:d.data_);let a=0;t.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let u=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[u++]=d[m]}),new na(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(r){let e;try{e=JSON.parse(r)}catch{return null}return bO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function UO(r,e){const t=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?t:r+"/"+t}function mx(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(r,e){return e}class hn{constructor(e,t,a,o){this.server=e,this.local=t||e,this.writable=!!a,this.xform=o||LO}}let Td=null;function BO(r){return!Hp(r)||r.length<2?r:mx(r)}function gx(){if(Td)return Td;const r=[];r.push(new hn("bucket")),r.push(new hn("generation")),r.push(new hn("metageneration")),r.push(new hn("name","fullPath",!0));function e(u,d){return BO(d)}const t=new hn("name");t.xform=e,r.push(t);function a(u,d){return d!==void 0?Number(d):d}const o=new hn("size");return o.xform=a,r.push(o),r.push(new hn("timeCreated")),r.push(new hn("updated")),r.push(new hn("md5Hash",null,!0)),r.push(new hn("cacheControl",null,!0)),r.push(new hn("contentDisposition",null,!0)),r.push(new hn("contentEncoding",null,!0)),r.push(new hn("contentLanguage",null,!0)),r.push(new hn("contentType",null,!0)),r.push(new hn("metadata","customMetadata",!0)),Td=r,Td}function zO(r,e){function t(){const a=r.bucket,o=r.fullPath,u=new Dn(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function FO(r,e,t){const a={};a.type="file";const o=t.length;for(let u=0;u<o;u++){const d=t[u];a[d.local]=d.xform(a,e[d.server])}return zO(a,r),a}function px(r,e,t){const a=fx(e);return a===null?null:FO(r,a,t)}function qO(r,e,t,a){const o=fx(e);if(o===null||!Hp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(p=>{const _=r.bucket,x=r.fullPath,T="/b/"+d(_)+"/o/"+d(x),I=$p(T,t,a),C=ux({alt:"media",token:p});return I+C})[0]}function HO(r,e){const t={},a=e.length;for(let o=0;o<a;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class yx{constructor(e,t,a,o){this.url=e,this.method=t,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){if(!r)throw qp()}function GO(r,e){function t(a,o){const u=px(r,o,e);return vx(u!==null),u}return t}function $O(r,e){function t(a,o){const u=px(r,o,e);return vx(u!==null),qO(u,o,r.host,r._protocol)}return t}function _x(r){function e(t,a){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=aO():o=iO():t.getStatus()===402?o=rO(r.bucket):t.getStatus()===403?o=sO(r.path):o=a,o.status=t.getStatus(),o.serverResponse=a.serverResponse,o}return e}function KO(r){const e=_x(r);function t(a,o){let u=e(a,o);return a.getStatus()===404&&(u=nO(r.path)),u.serverResponse=o.serverResponse,u}return t}function YO(r,e,t){const a=e.fullServerUrl(),o=$p(a,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,m=new yx(o,u,$O(r,t),d);return m.errorHandler=KO(e),m}function QO(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function XO(r,e,t){const a=Object.assign({},t);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=QO(null,e)),a}function WO(r,e,t,a,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let Y="";for(let re=0;re<2;re++)Y=Y+Math.random().toString().slice(2);return Y}const g=m();d["Content-Type"]="multipart/related; boundary="+g;const p=XO(e,a,o),_=HO(p,t),x="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,T=`\r
--`+g+"--",I=na.getBlob(x,a,T);if(I===null)throw hO();const C={name:p.fullPath},z=$p(u,r.host,r._protocol),j="POST",$=r.maxUploadRetryTime,W=new yx(z,j,GO(r,t),$);return W.urlParams=C,W.headers=d,W.body=I.uploadData(),W.errorHandler=_x(e),W}class JO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,a,o,u){if(this.sent_)throw tu("cannot .send() more than once");if(_i(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZO extends JO{initXhr(){this.xhr_.responseType="text"}}function bx(){return new ZO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this._service=e,t instanceof Dn?this._location=t:this._location=Dn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ms(e,t)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mx(this._location.path)}get storage(){return this._service}get parent(){const e=jO(this._location.path);if(e===null)return null;const t=new Dn(this._location.bucket,e);return new ms(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gO(e)}}function e4(r,e,t){r._throwIfRoot("uploadBytes");const a=WO(r.storage,r._location,gx(),new na(e,!0),t);return r.storage.makeRequestWithTokens(a,bx).then(o=>({metadata:o,ref:r}))}function t4(r){r._throwIfRoot("getDownloadURL");const e=YO(r.storage,r._location,gx());return r.storage.makeRequestWithTokens(e,bx).then(t=>{if(t===null)throw fO();return t})}function n4(r,e){const t=UO(r._location.path,e),a=new Dn(r._location.bucket,t);return new ms(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(r){return/^[A-Za-z]+:\/\//.test(r)}function i4(r,e){return new ms(r,e)}function Ex(r,e){if(r instanceof Kp){const t=r;if(t._bucket==null)throw dO();const a=new ms(t,t._bucket);return e!=null?Ex(a,e):a}else return e!==void 0?n4(r,e):r}function a4(r,e){if(e&&r4(e)){if(r instanceof Kp)return i4(r,e);throw Lg("To use ref(service, url), the first argument must be a Storage instance.")}else return Ex(r,e)}function uE(r,e){const t=e==null?void 0:e[ox];return t==null?null:Dn.makeFromBucketSpec(t,r)}function s4(r,e,t,a={}){r.host=`${e}:${t}`;const o=_i(e);o&&(dh(`https://${r.host}/b`),hh("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:FE(u,r.app.options.projectId))}class Kp{constructor(e,t,a,o,u,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=sx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eO,this._maxUploadRetryTime=tO,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=uE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=uE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ms(this,e)}_makeRequest(e,t,a,o,u=!0){if(this._deleted)return new pO(lx());{const d=RO(e,this._appId,a,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,o).getPromise()}}const cE="@firebase/storage",dE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="storage";function o4(r,e,t){return r=at(r),e4(r,e,t)}function l4(r){return r=at(r),t4(r)}function u4(r,e){return r=at(r),a4(r,e)}function c4(r=fh(),e){r=at(r);const a=Iu(r,Tx).getImmediate({identifier:e}),o=Qg("storage");return o&&d4(a,...o),a}function d4(r,e,t,a={}){s4(r,e,t,a)}function h4(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Kp(t,a,o,e,ps)}function f4(){ua(new hi(Tx,h4,"PUBLIC").setMultipleInstances(!0)),Kn(cE,dE,""),Kn(cE,dE,"esm2017")}f4();const m4={apiKey:"AIzaSyAOwUu8Tuho3CquNcTaMfaHDVWtsSjKTo4",authDomain:"credores-1ea6f.firebaseapp.com",projectId:"credores-1ea6f",storageBucket:"credores-1ea6f.firebasestorage.app",messagingSenderId:"996837564068",appId:"1:996837564068:web:965180de6c3aedb1959031"},Yp=GE(m4),lg=zk(Yp),yn=UD(Yp),g4=c4(Yp);let wd;const p4=new Uint8Array(16);function y4(){if(!wd&&(wd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wd(p4)}const Qt=[];for(let r=0;r<256;++r)Qt.push((r+256).toString(16).slice(1));function v4(r,e=0){return Qt[r[e+0]]+Qt[r[e+1]]+Qt[r[e+2]]+Qt[r[e+3]]+"-"+Qt[r[e+4]]+Qt[r[e+5]]+"-"+Qt[r[e+6]]+Qt[r[e+7]]+"-"+Qt[r[e+8]]+Qt[r[e+9]]+"-"+Qt[r[e+10]]+Qt[r[e+11]]+Qt[r[e+12]]+Qt[r[e+13]]+Qt[r[e+14]]+Qt[r[e+15]]}const _4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hE={randomUUID:_4};function fE(r,e,t){if(hE.randomUUID&&!r)return hE.randomUUID();r=r||{};const a=r.random||(r.rng||y4)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,v4(a)}var Qe=(r=>(r.Pendente="pendente",r.EmAnalise="em_analise",r.Aprovado="aprovado",r.Reprovado="reprovado",r))(Qe||{}),Xt=(r=>(r.Admin="admin",r.User="user",r.Viewer="viewer",r))(Xt||{}),vn=(r=>(r.Active="active",r.Inactive="inactive",r))(vn||{});const xd=r=>{var t,a;const e=r.data();return{id:r.id,...e,createdAt:((t=e.createdAt)==null?void 0:t.toDate())||new Date,approvedAt:((a=e.approvedAt)==null?void 0:a.toDate())||null}},mE=(r,e=1,t=48)=>{const a=r.phone.replace(/\D/g,"").match(/^(\d{2})(\d+)$/),o=a?a[1]:"",u=a?a[2]:r.phone.replace(/\D/g,""),d=r.bankData.accountType==="corrente"?"C":"P",m={name:r.companyName,personType:r.personType,typesId:["FO"],registerNumber:r.cnpj.replace(/\D/g,""),stateRegistrationNumber:r.stateRegistration,stateRegistrationType:r.stateRegistrationType,paymentTypeId:1,phone:o&&u?{ddd:o,number:u,type:"1"}:void 0,agents:[{agentId:t}],contacts:[{name:r.tradeName||r.companyName,phoneDdd:o,phoneNumber:u,email:r.email}],address:{cityId:r.address.cityId||e,streetName:r.address.street,number:r.address.number,complement:r.address.complement,neighborhood:r.address.neighborhood,zipCode:r.address.zipCode.replace(/\D/g,"")},accountStatement:{bankCode:r.bankData.bankCode.padStart(3,"0"),bankBranchNumber:r.bankData.agency,bankBranchDigit:r.bankData.agencyDigit,accountNumber:r.bankData.account,accountDigit:r.bankData.accountDigit,accountType:d,accountBeneficiaryName:r.companyName,accountBeneficiaryCnpjNumber:r.personType==="J"?r.cnpj.replace(/\D/g,""):void 0,accountBeneficiaryCpfNumber:r.personType==="F"?r.cnpj.replace(/\D/g,""):void 0}};return r.personType==="J"&&r.municipalRegistration&&(m.municipalSubscription=r.municipalRegistration),m};class b4{async login(e,t){const a=await SC(lg,e,t);if(a.user){let o="user";try{await this.checkIfAdmin(a.user)&&(o="admin")}catch{}const u={id:a.user.uid,email:a.user.email,displayName:a.user.displayName||"",role:o};return localStorage.setItem("admin_user",JSON.stringify(u)),u}throw new Error("Credenciais invlidas.")}async logout(){localStorage.removeItem("admin_user"),await kC(lg)}async getCurrentUser(){const e=localStorage.getItem("admin_user");return e?JSON.parse(e):new Promise(t=>{const a=CC(lg,async o=>{if(a(),o){let u="user";try{await this.checkIfAdmin(o)&&(u="admin")}catch{}const d={id:o.uid,email:o.email,displayName:o.displayName||"",role:u};localStorage.setItem("admin_user",JSON.stringify(d)),t(d)}else t(null)})})}async checkIfAdmin(e){const t=Wi(yn,"admins",e.uid),a=await bd(t);if(a.exists()&&a.data().role==="admin")return{id:a.id,...a.data()};const o=Zl(as(yn,"admins"),_d("email","==",e.email),_d("role","==","admin")),u=await eu(o);if(!u.empty){const d=u.docs[0];return{id:d.id,...d.data()}}return null}async createPreRegistration(e,t){const a=as(yn,"suppliers"),o=Zl(a,_d("cnpj","==",e));if(!(await eu(o)).empty)throw new Error("CNPJ j cadastrado.");const d=fE(),m=new Date;m.setDate(m.getDate()+1);const g=as(yn,"pre_registrations");return await sE(g,{cnpj:e,email:t,token:d,expiresAt:tt.fromDate(m),used:!1}),console.log(`A Cloud Function should now send an email to ${t} with token: ${d}`),{token:d}}async validateRegistrationToken(e){const t=as(yn,"pre_registrations"),a=Zl(t,_d("token","==",e)),o=await eu(a);if(o.empty)return!1;const u=o.docs[0].data();return!(u.used||tt.now()>u.expiresAt)}async createSupplier(e){const t={...e,status:Qe.EmAnalise,createdAt:ag(),approvedAt:null},a=await sE(as(yn,"suppliers"),t),o=await bd(a);return xd(o)}async getSuppliers(){const e=Zl(as(yn,"suppliers"),nE("createdAt","desc"));return(await eu(e)).docs.map(xd)}async getSupplierById(e){const t=Wi(yn,"suppliers",e),a=await bd(t);if(a.exists())return xd(a)}async updateSupplier(e,t){const a=Wi(yn,"suppliers",e);await ig(a,t)}async updateSupplierStatus(e,t,a){const o=Wi(yn,"suppliers",e),u={status:t};if(t===Qe.Aprovado){u.approvedAt=ag(),u.rejectionReason=null;try{const m=localStorage.getItem("admin_user");if(m){const g=JSON.parse(m);g&&g.id&&(u.approvedBy=g.id,u.approvedByName=g.displayName||g.email||null)}}catch{}}t===Qe.Reprovado&&(u.rejectionReason=a||"Motivo no especificado."),await ig(o,u);const d=await bd(o);return xd(d)}async deleteSupplier(e){const t=Wi(yn,"suppliers",e);await aE(t)}async getUsers(){const e=as(yn,"users");return(await eu(Zl(e,nE("createdAt","desc")))).docs.map(a=>{var u,d;const o=a.data();return{id:a.id,...o,createdAt:((u=o.createdAt)==null?void 0:u.toDate())||new Date,lastLogin:((d=o.lastLogin)==null?void 0:d.toDate())||void 0}})}async createUser(e){const t=(await hd(async()=>{const{getFunctions:o}=await Promise.resolve().then(()=>Ad);return{getFunctions:o}},[])).getFunctions(void 0,"southamerica-east1"),a=(await hd(async()=>{const{httpsCallable:o}=await Promise.resolve().then(()=>Ad);return{httpsCallable:o}},void 0)).httpsCallable(t,"createAuthUser");try{return(await a({email:e.email,name:e.name,role:e.role,password:e.password,createdBy:e.createdBy})).data.userId}catch(o){throw console.error("Erro ao criar usurio via Cloud Function:",o),o}}async updateUserStatus(e,t){const a=(await hd(async()=>{const{getFunctions:u}=await Promise.resolve().then(()=>Ad);return{getFunctions:u}},void 0)).getFunctions(void 0,"southamerica-east1"),o=(await hd(async()=>{const{httpsCallable:u}=await Promise.resolve().then(()=>Ad);return{httpsCallable:u}},void 0)).httpsCallable(a,"setAuthUserStatus");try{await o({userId:e,status:t==="active"?"active":"inactive"})}catch(u){console.warn("Falha ao atualizar status via Cloud Function, fallback para atualizar apenas o Firestore",u==null?void 0:u.message);const d=Wi(yn,"users",e);await ig(d,{status:t,updatedAt:ag()})}}async deleteUser(e){const t=Wi(yn,"users",e);await aE(t)}async createCreditorInSienge(e,t,a){return mE(e,t,a)}async getSiengeCreditorData(e,t,a){return mE(e,t,a)}async uploadFile(e,t){const a=`supplier_documents/${t}/${fE()}-${e.name}`,o=u4(g4,a),u=await o4(o,e),d=await l4(u.ref);return{docName:e.name,storagePath:a,uploadedAt:new Date,url:d}}}const qt=new b4,wx=B.createContext(void 0),E4=({children:r})=>{const[e,t]=B.useState(null),[a,o]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const g=await qt.getCurrentUser();t(g)}catch(g){console.error("No active session",g),t(null)}finally{o(!1)}})()},[]);const u=async(m,g)=>{o(!0);try{const p=await qt.login(m,g);t(p)}catch(p){throw t(null),p}finally{o(!1)}},d=async()=>{o(!0),await qt.logout(),t(null),o(!1)};return v.jsx(wx.Provider,{value:{user:e,loading:a,login:u,logout:d},children:r})},Ea=()=>{const r=B.useContext(wx);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},xx="app_theme";function Vh(r){r==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),document.body.classList.add("dark"),document.body.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.body.classList.remove("dark"),document.body.classList.add("light"))}function T4(){try{const r=localStorage.getItem(xx);if(r==="dark"||r==="light")return r}catch{}return null}function w4(r){try{localStorage.setItem(xx,r)}catch{}}function Qp(){const r=T4();return r||(typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function Xp(r){const e=r==="dark"?"light":"dark";return Vh(e),w4(e),e}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),gE=r=>{const e=A4(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ax=(...r)=>r.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim(),S4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...m},g)=>B.createElement("svg",{ref:g,...R4,width:e,height:e,stroke:r,strokeWidth:a?Number(t)*24/Number(e):t,className:Ax("lucide",o),...!u&&!S4(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,_])=>B.createElement(p,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(r,e)=>{const t=B.forwardRef(({className:a,...o},u)=>B.createElement(N4,{ref:u,iconNode:e,className:Ax(`lucide-${x4(gE(r))}`,`lucide-${r}`,a),...o}));return t.displayName=gE(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],k4=pt("arrow-left",C4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],D4=pt("ban",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],P4=pt("building",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V4=pt("check",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ih=pt("circle-check-big",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],L4=pt("cloud-upload",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z4=pt("eye",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sx=pt("file-text",F4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H4=pt("funnel",q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ci=pt("loader",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K4=pt("lock",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q4=pt("log-out",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W4=pt("mail",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Wp=pt("moon",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rx=pt("search",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nx=pt("send",e6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jp=pt("sun",t6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cx=pt("trash-2",n6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jh=pt("triangle-alert",r6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a6=pt("user-plus",i6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kx=pt("users",s6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ix=pt("x",o6),Dx=({onFilesChange:r})=>{const[e,t]=B.useState([]),[a,o]=B.useState(!1),u=B.useCallback(async p=>{if(!p||p.length===0)return;o(!0);const _=Array.from(p).map(T=>({docName:T.name,storagePath:"",uploadedAt:new Date,file:T,url:URL.createObjectURL(T)})),x=[...e,..._];t(x),r(x),setTimeout(()=>o(!1),1e3)},[e,r]),d=B.useCallback(p=>{p.preventDefault(),p.stopPropagation(),u(p.dataTransfer.files)},[u]),m=p=>{p.preventDefault(),p.stopPropagation()},g=p=>{const _=e.filter(x=>x.docName!==p);t(_),r(_)};return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",onDrop:d,onDragOver:m,onClick:()=>{var p;return(p=document.getElementById("file-input"))==null?void 0:p.click()},children:[v.jsx(L4,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[v.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Clique para enviar"})," ou arraste e solte"]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF ou JPG (mx. 5MB por arquivo)"}),v.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",accept:".pdf,.jpg,.jpeg",onChange:p=>u(p.target.files)})]}),a&&v.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[v.jsx(ci,{className:"animate-spin h-4 w-4 mr-2"}),"Enviando arquivos..."]}),e.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Arquivos Anexados:"}),v.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700 rounded-md border border-gray-200 dark:border-gray-700",children:e.map((p,_)=>v.jsxs("li",{className:"flex items-center justify-between p-3",children:[v.jsxs("div",{className:"flex items-center min-w-0",children:[v.jsx(Sx,{className:"h-6 w-6 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),v.jsx("span",{className:"ml-3 text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:p.docName})]}),v.jsx("button",{type:"button",onClick:()=>g(p.docName),className:"ml-4 p-1 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:v.jsx(Ix,{className:"h-4 w-4"})})]},_))})]})]})},l6=()=>{const[r,e]=B.useState({companyName:"",tradeName:"",cnpj:"",stateRegistration:"",stateRegistrationType:"C",municipalRegistration:"",personType:"J",email:"",phone:"",website:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},bankData:{bank:"",bankCode:"",agency:"",agencyDigit:"",account:"",accountDigit:"",accountType:"corrente",pixKey:""},submittedBy:""}),[t,a]=B.useState([]),[o,u]=B.useState(!1),[d,m]=B.useState(!1),[g,p]=B.useState(null),[_,x]=B.useState(()=>{const re=Qp();return typeof document<"u"&&Vh(re),re==="dark"}),[T,I]=B.useState("empresa");B.useEffect(()=>{document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")},[]);const C=()=>{x(re=>Xp(re?"dark":"light")==="dark")},z=re=>{const{name:ae,value:de}=re.target;e(D=>({...D,[ae]:de}))},j=re=>{const{name:ae,value:de}=re.target;e(D=>({...D,address:{...D.address,[ae]:de}}))},$=re=>{const{name:ae,value:de}=re.target;e(D=>({...D,bankData:{...D.bankData,[ae]:de}}))},W=re=>{a(re)},Y=async re=>{re.preventDefault(),u(!0),p(null);try{const ae={...r,rejectionReason:null,uploadedDocuments:[]},de=await qt.createSupplier(ae);if(t.length>0){const D=t.map(R=>qt.uploadFile(R.file,de.id)),S=await Promise.all(D);await qt.updateSupplier(de.id,{uploadedDocuments:S})}m(!0)}catch(ae){p({type:"error",text:ae.message||"Falha ao enviar cadastro. Tente novamente."})}finally{u(!1)}};return d?v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[v.jsx(ih,{className:"h-16 w-16 text-green-500"}),v.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitao foi recebida e est em anlise. Entraremos em contato em breve."}),v.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Novo Cadastro"})]}):v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4 top-nav",style:{backgroundImage:"url('/credores/meioambiental.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat"},children:[v.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[v.jsx(uh,{to:"/admin/login",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-500 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:"Acesso Admin"}),v.jsx("button",{onClick:C,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:_?v.jsx(Jp,{className:"h-5 w-5 text-yellow-500"}):v.jsx(Wp,{className:"h-5 w-5 text-gray-700"})})]}),v.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6 content-surface form-wrapper card",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-40 w-auto text-blue-700 dark:text-indigo-400"}),v.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100 drop-shadow-sm text-center tracking-tight",children:"Cadastro de Fornecedor"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),v.jsxs("div",{className:"flex justify-center mb-6 gap-2 flex-wrap tabs",children:[v.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${T==="empresa"?"border-blue-700 text-blue-800 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600 active":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>I("empresa"),children:"Dados da Empresa"}),v.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${T==="endereco"?"border-blue-700 text-blue-800 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600 active":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>I("endereco"),children:"Endereo"}),v.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${T==="bancario"?"border-blue-700 text-blue-800 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600 active":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>I("bancario"),children:"Dados Bancrios"})]}),v.jsxs("form",{className:"space-y-8",onSubmit:Y,children:[T==="empresa"&&v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razo Social *"}),v.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:z,value:r.companyName,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),v.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:z,value:r.tradeName,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ *"}),v.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:z,value:r.cnpj,placeholder:"00.000.000/0000-00",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"personType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de Pessoa *"}),v.jsxs("select",{name:"personType",id:"personType",required:!0,onChange:re=>e(ae=>({...ae,personType:re.target.value})),value:r.personType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"J",children:"Jurdica"}),v.jsx("option",{value:"F",children:"Fsica"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"stateRegistrationType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de IE *"}),v.jsxs("select",{name:"stateRegistrationType",id:"stateRegistrationType",required:!0,onChange:re=>e(ae=>({...ae,stateRegistrationType:re.target.value})),value:r.stateRegistrationType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"C",children:"Contribuinte"}),v.jsx("option",{value:"I",children:"Isento"}),v.jsx("option",{value:"N",children:"No Contribuinte"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsxs("label",{htmlFor:"stateRegistration",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:["Inscrio Estadual ",r.stateRegistrationType==="C"?"*":""]}),v.jsx("input",{type:"text",name:"stateRegistration",id:"stateRegistration",required:r.stateRegistrationType==="C",onChange:z,value:r.stateRegistration,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsxs("label",{htmlFor:"municipalRegistration",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:["Inscrio Municipal ",r.personType==="J"?"*":""]}),v.jsx("input",{type:"text",name:"municipalRegistration",id:"municipalRegistration",required:r.personType==="J",onChange:z,value:r.municipalRegistration,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone *"}),v.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:z,value:r.phone,placeholder:"(00) 00000-0000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal *"}),v.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:z,value:r.email,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"website",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Site"}),v.jsx("input",{type:"url",name:"website",id:"website",onChange:z,value:r.website,placeholder:"https://www.exemplo.com",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato *"}),v.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:z,value:r.submittedBy,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),T==="endereco"&&v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereo"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP *"}),v.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:j,value:r.address.zipCode,placeholder:"00000-000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-4",children:[v.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro *"}),v.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:j,value:r.address.street,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"number",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nmero *"}),v.jsx("input",{type:"text",name:"number",id:"number",required:!0,onChange:j,value:r.address.number,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"complement",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Complemento"}),v.jsx("input",{type:"text",name:"complement",id:"complement",onChange:j,value:r.address.complement,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Bairro *"}),v.jsx("input",{type:"text",name:"neighborhood",id:"neighborhood",required:!0,onChange:j,value:r.address.neighborhood,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade *"}),v.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:j,value:r.address.city,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado *"}),v.jsxs("select",{name:"state",id:"state",required:!0,onChange:re=>e(ae=>({...ae,address:{...ae.address,state:re.target.value}})),value:r.address.state,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"",children:"Selecione..."}),v.jsx("option",{value:"AC",children:"Acre"}),v.jsx("option",{value:"AL",children:"Alagoas"}),v.jsx("option",{value:"AP",children:"Amap"}),v.jsx("option",{value:"AM",children:"Amazonas"}),v.jsx("option",{value:"BA",children:"Bahia"}),v.jsx("option",{value:"CE",children:"Cear"}),v.jsx("option",{value:"DF",children:"Distrito Federal"}),v.jsx("option",{value:"ES",children:"Esprito Santo"}),v.jsx("option",{value:"GO",children:"Gois"}),v.jsx("option",{value:"MA",children:"Maranho"}),v.jsx("option",{value:"MT",children:"Mato Grosso"}),v.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),v.jsx("option",{value:"MG",children:"Minas Gerais"}),v.jsx("option",{value:"PA",children:"Par"}),v.jsx("option",{value:"PB",children:"Paraba"}),v.jsx("option",{value:"PR",children:"Paran"}),v.jsx("option",{value:"PE",children:"Pernambuco"}),v.jsx("option",{value:"PI",children:"Piau"}),v.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),v.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),v.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),v.jsx("option",{value:"RO",children:"Rondnia"}),v.jsx("option",{value:"RR",children:"Roraima"}),v.jsx("option",{value:"SC",children:"Santa Catarina"}),v.jsx("option",{value:"SP",children:"So Paulo"}),v.jsx("option",{value:"SE",children:"Sergipe"}),v.jsx("option",{value:"TO",children:"Tocantins"})]})]})]})]}),T==="bancario"&&v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados Bancrios"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"bank",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Banco"}),v.jsx("input",{type:"text",name:"bank",id:"bank",onChange:$,value:r.bankData.bank,placeholder:"Nome do Banco",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"bankCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cdigo do Banco"}),v.jsx("input",{type:"text",name:"bankCode",id:"bankCode",onChange:$,value:r.bankData.bankCode,placeholder:"000",maxLength:3,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"agency",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Agncia"}),v.jsx("input",{type:"text",name:"agency",id:"agency",onChange:$,value:r.bankData.agency,placeholder:"0000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-1",children:[v.jsx("label",{htmlFor:"agencyDigit",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Dgito"}),v.jsx("input",{type:"text",name:"agencyDigit",id:"agencyDigit",onChange:$,value:r.bankData.agencyDigit,placeholder:"0",maxLength:1,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"accountType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de Conta"}),v.jsxs("select",{name:"accountType",id:"accountType",onChange:$,value:r.bankData.accountType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"",children:"Selecione..."}),v.jsx("option",{value:"corrente",children:"Conta Corrente"}),v.jsx("option",{value:"poupanca",children:"Conta Poupana"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"account",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nmero da Conta"}),v.jsx("input",{type:"text",name:"account",id:"account",onChange:$,value:r.bankData.account,placeholder:"00000000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-1",children:[v.jsx("label",{htmlFor:"accountDigit",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Dgito"}),v.jsx("input",{type:"text",name:"accountDigit",id:"accountDigit",onChange:$,value:r.bankData.accountDigit,placeholder:"0",maxLength:2,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"pixKey",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Chave PIX"}),v.jsx("input",{type:"text",name:"pixKey",id:"pixKey",onChange:$,value:r.bankData.pixKey,placeholder:"CPF/CNPJ, e-mail, telefone ou chave aleatria",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos (Opcional)"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Se desejar, anexe documentos como Contrato Social, Certides Negativas, etc."}),v.jsx("div",{className:"mt-6",children:v.jsx(Dx,{onFilesChange:W})})]}),v.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:v.jsxs("button",{type:"submit",disabled:o,className:"inline-flex justify-center items-center px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-700 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-500 dark:disabled:text-gray-500",children:[o?v.jsx(ci,{className:"animate-spin h-5 w-5 mr-2"}):v.jsx(Nx,{className:"h-5 w-5 mr-2"}),o?"Enviando...":"Cadastro de Fornecedor"]})})]}),g&&v.jsxs("div",{className:`flex items-start p-4 rounded-md ${g.type==="success"?"bg-green-50 dark:bg-green-900/50":"bg-red-50 dark:bg-red-900/50"}`,children:[g.type==="success"?v.jsx(ih,{className:"h-5 w-5 text-green-500"}):v.jsx(jh,{className:"h-5 w-5 text-red-500"}),v.jsx("p",{className:`ml-3 text-sm font-medium ${g.type==="success"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:g.text})]})]})]})},u6=()=>{const{token:r}=NE(),e=ya(),[t,a]=B.useState(null),[o,u]=B.useState({companyName:"",tradeName:"",cnpj:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:""},submittedBy:""}),[d,m]=B.useState([]),[g,p]=B.useState(!1),[_,x]=B.useState(!1);B.useEffect(()=>{(async()=>{if(!r){a(!1);return}const $=await qt.validateRegistrationToken(r);a($)})()},[r]);const T=j=>{const{name:$,value:W}=j.target;u(Y=>({...Y,[$]:W}))},I=j=>{const{name:$,value:W}=j.target;u(Y=>({...Y,address:{...Y.address,[$]:W}}))},C=j=>{m(j)},z=async j=>{if(j.preventDefault(),d.length===0){alert("Por favor, anexe pelo menos um documento.");return}p(!0);try{const $={...o,rejectionReason:null,uploadedDocuments:[]},W=await qt.createSupplier($),Y=d.map(ae=>qt.uploadFile(ae.file,W.id)),re=await Promise.all(Y);await qt.updateSupplier(W.id,{uploadedDocuments:re}),x(!0)}catch($){console.error("Submission failed",$),alert("Falha ao enviar cadastro. Tente novamente.")}finally{p(!1)}};return t===null?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:v.jsx(ci,{className:"animate-spin h-16 w-16 text-blue-600 dark:text-indigo-400"})}):t?_?v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[v.jsx(ih,{className:"h-16 w-16 text-green-500"}),v.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitao foi recebida e est em anlise. Entraremos em contato em breve."}),v.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Incio"})]}):v.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[v.jsxs("div",{className:"p-8",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"lucide lucide-building mx-auto h-12 w-12 text-blue-600 dark:text-indigo-400 mb-4"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Formulrio de Cadastro"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),v.jsxs("form",{onSubmit:z,className:"p-8 pt-0 space-y-8",children:[v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razo Social"}),v.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),v.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ"}),v.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone"}),v.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal"}),v.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato"}),v.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereo"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"col-span-full",children:[v.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro"}),v.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade"}),v.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado"}),v.jsx("input",{type:"text",name:"state",id:"state",required:!0,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP"}),v.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:I,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Anexe os documentos necessrios, como Contrato Social e Certides Negativas."}),v.jsx("div",{className:"mt-6",children:v.jsx(Dx,{onFilesChange:C})})]}),v.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:v.jsxs("button",{type:"submit",disabled:g,className:"inline-flex justify-center items-center rounded-md bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-400 dark:disabled:bg-indigo-800 transition-colors",children:[g?v.jsx(ci,{className:"animate-spin h-5 w-5 mr-2"}):v.jsx(Nx,{className:"h-5 w-5 mr-2"}),g?"Enviando...":"Enviar Cadastro"]})})]})]})}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[v.jsx(jh,{className:"h-16 w-16 text-red-500"}),v.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Link de Cadastro Invlido"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Este link  invlido ou j expirou. Por favor, solicite um novo link de cadastro."}),v.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Incio"})]})},c6=()=>{const[r,e]=B.useState(""),[t,a]=B.useState(""),[o,u]=B.useState(""),[d,m]=B.useState(!1),{login:g}=Ea(),p=ya(),[_,x]=B.useState(()=>{const C=Qp();return typeof document<"u"&&Vh(C),C==="dark"}),T=()=>{x(C=>Xp(C?"dark":"light")==="dark")},I=async C=>{C.preventDefault(),u(""),m(!0);try{await g(r,t),p("/admin/dashboard")}catch(z){u(z.message||"Falha no login. Verifique suas credenciais.")}finally{m(!1)}};return v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4 top-nav",style:{backgroundImage:"url('/credores/meioambiental.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat"},children:[v.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[v.jsx(uh,{to:"/",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-500 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:"Cadastro de Fornecedor"}),v.jsx("button",{onClick:T,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:_?v.jsx(Jp,{className:"h-5 w-5 text-yellow-500"}):v.jsx(Wp,{className:"h-5 w-5 text-gray-700"})})]}),v.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6 content-surface form-wrapper card",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-20 w-auto mb-4"}),v.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100",children:"Acesso Administrativo"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Use as credenciais fornecidas para acessar o painel."})]}),v.jsxs("form",{className:"space-y-6",onSubmit:I,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"sr-only",children:"E-mail"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(W4,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"E-mail",value:r,onChange:C=>e(C.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(K4,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Senha",value:t,onChange:C=>a(C.target.value)})]})]}),o&&v.jsxs("div",{className:"flex items-start bg-red-50 dark:bg-red-900/50 p-3 rounded-md",children:[v.jsx(jh,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),v.jsx("p",{className:"ml-2 text-sm text-red-700 dark:text-red-200",children:o})]}),v.jsx("div",{children:v.jsxs("button",{type:"submit",disabled:d,className:"inline-flex justify-center items-center w-full px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-500 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-500 dark:disabled:text-gray-500",children:[d?v.jsx(ci,{className:"animate-spin h-5 w-5 mr-2"}):null,d?"Entrando...":"Entrar"]})})]})]})]})},d6=({status:r})=>{const e={[Qe.Aprovado]:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",[Qe.Reprovado]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[Qe.EmAnalise]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",[Qe.Pendente]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},t={[Qe.Aprovado]:"Aprovado",[Qe.Reprovado]:"Reprovado",[Qe.EmAnalise]:"Em Anlise",[Qe.Pendente]:"Pendente"};return v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},h6=()=>{const[r,e]=B.useState([]),[t,a]=B.useState(!0),[o,u]=B.useState("all"),[d,m]=B.useState(""),[g,p]=B.useState(!1),[_,x]=B.useState(null),[T,I]=B.useState(!1),C=ya(),{user:z}=Ea();B.useEffect(()=>{(async()=>{a(!0);try{const re=await qt.getSuppliers();e(re)}catch(re){console.error("Failed to fetch suppliers",re)}finally{a(!1)}})()},[]);const j=B.useMemo(()=>r.filter(Y=>o==="all"||Y.status===o).filter(Y=>Y.companyName.toLowerCase().includes(d.toLowerCase())||Y.cnpj.includes(d)),[r,o,d]),$=Y=>{x(Y),p(!0)},W=async()=>{if(_){I(!0);try{await qt.deleteSupplier(_.id),e(Y=>Y.filter(re=>re.id!==_.id)),p(!1),x(null)}catch(Y){console.error("Failed to delete supplier",Y),alert("Erro ao excluir fornecedor. Tente novamente.")}finally{I(!1)}}};return t?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx(ci,{className:"animate-spin h-8 w-8 text-indigo-500"})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Lista de Fornecedores"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Gerencie e analise os cadastros de fornecedores."})]}),v.jsxs("div",{className:"relative w-full sm:w-64",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(Rx,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Buscar por nome ou CNPJ...",value:d,onChange:Y=>m(Y.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),v.jsxs("div",{className:"mt-6 flex items-center space-x-2 overflow-x-auto pb-2",children:[v.jsx(H4,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mr-2 flex-shrink-0"}),["all",...Object.values(Qe)].map(Y=>v.jsx("button",{onClick:()=>u(Y),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${o===Y?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:Y==="all"?"Todos":{[Qe.Aprovado]:"Aprovados",[Qe.Reprovado]:"Reprovados",[Qe.EmAnalise]:"Em Anlise",[Qe.Pendente]:"Pendentes"}[Y]},Y))]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Empresa"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"CNPJ"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Data de Cadastro"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Status"}),v.jsx("th",{scope:"col",className:"relative px-6 py-3",children:v.jsx("span",{className:"sr-only",children:"Aes"})})]})}),v.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:j.length>0?j.map(Y=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Y.companyName}),v.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:Y.tradeName})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-400 font-mono",children:Y.cnpj}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-400",children:new Date(Y.createdAt).toLocaleDateString()}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx(d6,{status:Y.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v.jsx("button",{onClick:()=>C(`/admin/supplier/${Y.id}`),className:"text-blue-700 hover:text-blue-900 dark:text-indigo-400 dark:hover:text-indigo-200 font-semibold",children:"Ver Detalhes"}),(z==null?void 0:z.role)===Xt.Admin&&v.jsx("button",{onClick:()=>$(Y),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200 p-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir fornecedor",children:v.jsx(Cx,{className:"h-4 w-4"})})]})})]},Y.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 dark:text-gray-400",children:"Nenhum fornecedor encontrado com os filtros atuais."})})})]})})]}),g&&_&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Confirmar Excluso"}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Tem certeza que deseja excluir o fornecedor ",v.jsx("strong",{children:_.name}),"? Esta ao no pode ser desfeita."]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>{p(!1),x(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:W,disabled:T,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:T?"Excluindo...":"Excluir"})]})]})})]})},f6=({status:r})=>{const e={active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",inactive:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},t={active:"Ativo",inactive:"Inativo"};return v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},m6=({role:r})=>{const e={admin:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",user:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",viewer:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"},t={admin:"Administrador",user:"Usurio",viewer:"Visualizador"};return v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},g6=()=>{const r=ya(),{user:e}=Ea(),[t,a]=B.useState([]),[o,u]=B.useState(!0),[d,m]=B.useState("all"),[g,p]=B.useState("all"),[_,x]=B.useState(""),[T,I]=B.useState(!1),[C,z]=B.useState(!1),[j,$]=B.useState({email:"",name:"",role:Xt.User,password:""}),[W,Y]=B.useState(!1),[re,ae]=B.useState(!1),[de,D]=B.useState(null),[S,R]=B.useState(!1);B.useEffect(()=>{if(!e){r("/admin/login");return}O()},[e,r]);const O=async()=>{try{u(!0);const le=await qt.getUsers();a(le)}catch(le){console.error("Failed to load users:",le)}finally{u(!1)}},V=B.useMemo(()=>t.filter(le=>d==="all"||le.status===d).filter(le=>g==="all"||le.role===g).filter(le=>le.name.toLowerCase().includes(_.toLowerCase())||le.email.toLowerCase().includes(_.toLowerCase())),[t,d,g,_]),U=async()=>{if(!j.email||!j.name||!j.password){alert("Preencha todos os campos obrigatrios");return}z(!0);try{await qt.createUser({...j,createdBy:(e==null?void 0:e.email)||"admin"}),I(!1),$({email:"",name:"",role:Xt.User,password:""}),await O()}catch(le){console.error("Failed to create user:",le),alert("Erro ao criar usurio. Tente novamente.")}finally{z(!1)}},k=async()=>{if(de){R(!0);try{await qt.deleteUser(de.id),a(le=>le.filter(X=>X.id!==de.id)),Y(!1),D(null)}catch(le){console.error("Failed to delete user:",le),alert("Erro ao excluir usurio. Tente novamente.")}finally{R(!1)}}},yt=async()=>{if(!de)return;const le=de.status===vn.Active?vn.Inactive:vn.Active;R(!0);try{await qt.updateUserStatus(de.id,le),a(X=>X.map(ue=>ue.id===de.id?{...ue,status:le}:ue)),ae(!1),D(null)}catch(X){console.error("Failed to update user status:",X),alert("Erro ao atualizar status do usurio. Tente novamente.")}finally{R(!1)}};return o?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Carregando usurios..."})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Gerenciamento de Usurios"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Gerencie usurios do sistema."})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"relative w-full sm:w-64",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(Rx,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:_,onChange:le=>x(le.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(e==null?void 0:e.role)===Xt.Admin&&v.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[v.jsx(a6,{className:"h-4 w-4"}),"Novo Usurio"]})]})]}),v.jsxs("div",{className:"mt-6 flex items-center space-x-2 overflow-x-auto pb-2",children:[["all",vn.Active,vn.Inactive].map(le=>v.jsx("button",{onClick:()=>m(le),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${d===le?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:le==="all"?"Todos":le===vn.Active?"Ativos":"Inativos"},le)),["all",Xt.Admin,Xt.User,Xt.Viewer].map(le=>v.jsx("button",{onClick:()=>p(le),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${g===le?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:le==="all"?"Todas Funes":le===Xt.Admin?"Administradores":le===Xt.User?"Usurios":"Visualizadores"},le))]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Nome"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Email"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Funo"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Status"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Data de Criao"}),v.jsx("th",{scope:"col",className:"relative px-6 py-3",children:v.jsx("span",{className:"sr-only",children:"Aes"})})]})}),v.jsxs("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:[V.map(le=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:le.name})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-400",children:le.email})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx(m6,{role:le.role})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx(f6,{status:le.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-400",children:le.createdAt instanceof Date?le.createdAt.toLocaleDateString("pt-BR"):new Date(le.createdAt).toLocaleDateString("pt-BR")}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsx("div",{className:"flex items-center justify-end space-x-2",children:(le==null?void 0:le.role)===Xt.Admin&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{D(le),ae(!0)},className:`p-2 rounded-lg transition-colors ${le.status===vn.Active?"text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:le.status===vn.Active?"Desativar usurio":"Ativar usurio",children:le.status===vn.Active?v.jsx(D4,{className:"h-4 w-4"}):v.jsx(ih,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>{D(le),Y(!0)},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir usurio",children:v.jsx(Cx,{className:"h-4 w-4"})})]})})})]},le.id)),V.length===0&&v.jsx("tr",{children:v.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[v.jsx(kx,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),v.jsx("p",{className:"text-lg font-medium",children:"Nenhum usurio encontrado"}),v.jsx("p",{className:"mt-1",children:"Tente ajustar os filtros ou criar um novo usurio."})]})})]})]})})]}),T&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Criar Novo Usurio"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),v.jsx("input",{type:"text",value:j.name,onChange:le=>$(X=>({...X,name:le.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Nome completo"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",value:j.email,onChange:le=>$(X=>({...X,email:le.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"email@exemplo.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha"}),v.jsx("input",{type:"password",value:j.password,onChange:le=>$(X=>({...X,password:le.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Senha temporria"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Funo"}),v.jsxs("select",{value:j.role,onChange:le=>$(X=>({...X,role:le.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[v.jsx("option",{value:Xt.User,children:"Usurio"}),v.jsx("option",{value:Xt.Admin,children:"Administrador"}),v.jsx("option",{value:Xt.Viewer,children:"Visualizador"})]})]})]}),v.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[v.jsx("button",{onClick:()=>{I(!1),$({email:"",name:"",role:Xt.User,password:""})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:U,disabled:C,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:C?"Criando...":"Criar Usurio"})]})]})}),W&&de&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Confirmar Excluso"}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Tem certeza que deseja excluir o usurio ",v.jsx("strong",{children:de.name}),"? Esta ao no pode ser desfeita."]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>{Y(!1),D(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:k,disabled:S,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:S?"Excluindo...":"Excluir"})]})]})}),re&&de&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Alterar Status"}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Deseja ",de.status===vn.Active?"desativar":"ativar"," o usurio ",v.jsx("strong",{children:de.name}),"?"]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>{ae(!1),D(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:yt,disabled:S,className:`px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${de.status===vn.Active?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700"}`,children:S?de.status===vn.Active?"Desativando...":"Ativando...":de.status===vn.Active?"Desativar":"Ativar"})]})]})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="type.googleapis.com/google.protobuf.Int64Value",y6="type.googleapis.com/google.protobuf.UInt64Value";function Ox(r,e){const t={};for(const a in r)r.hasOwnProperty(a)&&(t[a]=e(r[a]));return t}function ah(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>ah(e));if(typeof r=="function"||typeof r=="object")return Ox(r,e=>ah(e));throw new Error("Data cannot be encoded in JSON: "+r)}function ko(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case p6:case y6:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>ko(e)):typeof r=="function"||typeof r=="object"?Ox(r,e=>ko(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fn extends or{constructor(e,t,a){super(`${Zp}/${e}`,t||""),this.details=a,Object.setPrototypeOf(this,fn.prototype)}}function v6(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function sh(r,e){let t=v6(r),a=t,o;try{const u=e&&e.error;if(u){const d=u.status;if(typeof d=="string"){if(!pE[d])return new fn("internal","internal");t=pE[d],a=d}const m=u.message;typeof m=="string"&&(a=m),o=u.details,o!==void 0&&(o=ko(o))}}catch{}return t==="ok"?null:new fn(t,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,t,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,kn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||t.get().then(u=>this.auth=u,()=>{}),this.messaging||a.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="us-central1",b6=/^data: (.*?)(?:\n|$)/;function E6(r){let e=null;return{promise:new Promise((t,a)=>{e=setTimeout(()=>{a(new fn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class T6{constructor(e,t,a,o,u=Bg,d=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new _6(e,t,a,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Bg}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function w6(r,e,t){const a=_i(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${t}`,a&&(dh(r.emulatorOrigin),hh("Functions",!0))}function x6(r,e,t){const a=o=>S6(r,e,o,t||{});return a.stream=(o,u)=>N6(r,e,o,u),a}async function A6(r,e,t,a){t["Content-Type"]="application/json";let o;try{o=await a(r,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function Px(r,e){const t={},a=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return a.authToken&&(t.Authorization="Bearer "+a.authToken),a.messagingToken&&(t["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=a.appCheckToken),t}function S6(r,e,t,a){const o=r._url(e);return R6(r,o,t,a)}async function R6(r,e,t,a){t=ah(t);const o={data:t},u=await Px(r,a),d=a.timeout||7e4,m=E6(d),g=await Promise.race([A6(e,o,u,r.fetchImpl),m.promise,r.cancelAllRequests]);if(m.cancel(),!g)throw new fn("cancelled","Firebase Functions instance was deleted.");const p=sh(g.status,g.json);if(p)throw p;if(!g.json)throw new fn("internal","Response is not valid JSON object.");let _=g.json.data;if(typeof _>"u"&&(_=g.json.result),typeof _>"u")throw new fn("internal","Response is missing data field.");return{data:ko(_)}}function N6(r,e,t,a){const o=r._url(e);return C6(r,o,t,a||{})}async function C6(r,e,t,a){var o;t=ah(t);const u={data:t},d=await Px(r,a);d["Content-Type"]="application/json",d.Accept="text/event-stream";let m;try{m=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(u),headers:d,signal:a==null?void 0:a.signal})}catch(I){if(I instanceof Error&&I.name==="AbortError"){const z=new fn("cancelled","Request was cancelled.");return{data:Promise.reject(z),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(z)}}}}}}const C=sh(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let g,p;const _=new Promise((I,C)=>{g=I,p=C});(o=a==null?void 0:a.signal)===null||o===void 0||o.addEventListener("abort",()=>{const I=new fn("cancelled","Request was cancelled.");p(I)});const x=m.body.getReader(),T=k6(x,g,p,a==null?void 0:a.signal);return{stream:{[Symbol.asyncIterator](){const I=T.getReader();return{async next(){const{value:C,done:z}=await I.read();return{value:C,done:z}},async return(){return await I.cancel(),{done:!0,value:void 0}}}}},data:_}}function k6(r,e,t,a){const o=(d,m)=>{const g=d.match(b6);if(!g)return;const p=g[1];try{const _=JSON.parse(p);if("result"in _){e(ko(_.result));return}if("message"in _){m.enqueue(ko(_.message));return}if("error"in _){const x=sh(0,_);m.error(x),t(x);return}}catch(_){if(_ instanceof fn){m.error(_),t(_);return}}},u=new TextDecoder;return new ReadableStream({start(d){let m="";return g();async function g(){if(a!=null&&a.aborted){const p=new fn("cancelled","Request was cancelled");return d.error(p),t(p),Promise.resolve()}try{const{value:p,done:_}=await r.read();if(_){m.trim()&&o(m.trim(),d),d.close();return}if(a!=null&&a.aborted){const T=new fn("cancelled","Request was cancelled");d.error(T),t(T),await r.cancel();return}m+=u.decode(p,{stream:!0});const x=m.split(`
`);m=x.pop()||"";for(const T of x)T.trim()&&o(T.trim(),d);return g()}catch(p){const _=p instanceof fn?p:sh(0,null);d.error(_),t(_)}}},cancel(){return r.cancel()}})}const yE="@firebase/functions",vE="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="auth-internal",D6="app-check-internal",O6="messaging-internal";function P6(r){const e=(t,{instanceIdentifier:a})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider(I6),d=t.getProvider(O6),m=t.getProvider(D6);return new T6(o,u,d,m,a)};ua(new hi(Zp,e,"PUBLIC").setMultipleInstances(!0)),Kn(yE,vE,r),Kn(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(r=fh(),e=Bg){const a=Iu(at(r),Zp).getImmediate({identifier:e}),o=Qg("functions");return o&&Vx(a,...o),a}function Vx(r,e,t){w6(at(r),e,t)}function jx(r,e,t){return x6(at(r),e,t)}P6();const Ad=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:fn,connectFunctionsEmulator:Vx,getFunctions:Mx,httpsCallable:jx},Symbol.toStringTag,{value:"Module"})),ze=({label:r,value:e})=>{const t=!e||e===""||e==="N/A"||typeof e=="string"&&e.trim()==="";return v.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:r}),v.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2",children:t?v.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"*"}):e})]})},M6=()=>{var j,$,W,Y,re,ae,de,D,S,R;const{id:r}=NE(),e=ya(),[t,a]=B.useState(null),[o,u]=B.useState(!0),[d,m]=B.useState(!1),[g,p]=B.useState(""),[_,x]=B.useState(!1),[T,I]=B.useState("dados-gerais");B.useEffect(()=>{if(!r)return;(async()=>{u(!0);const V=await qt.getSupplierById(r);V&&a(V),u(!1)})()},[r]);const{user:C}=Ea(),z=async O=>{if(r){x(!0);try{const V=await qt.updateSupplierStatus(r,O,g);if(a(V),O===Qe.Aprovado)try{const U=Mx(void 0,"southamerica-east1"),yt=await jx(U,"createSiengeCreditor")({supplierId:r});console.log("Credor criado no Sienge:",yt.data),alert("Fornecedor aprovado e enviado ao Sienge com sucesso!")}catch(U){console.error("Erro ao enviar para Sienge:",U),alert(`Fornecedor aprovado, mas erro ao enviar para Sienge: ${U.message}`)}d&&m(!1)}catch(V){console.error(`Failed to ${O} supplier`,V),alert(`Erro ao ${O===Qe.Aprovado?"aprovar":"reprovar"} fornecedor`)}finally{x(!1)}}};return o?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx(ci,{className:"animate-spin h-8 w-8 text-indigo-500"})}):t?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[v.jsx(k4,{className:"h-4 w-4 mr-2"}),"Voltar para a lista"]}),v.jsx("h3",{className:"text-2xl font-bold leading-6 text-gray-900 dark:text-gray-100",children:t.companyName}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Detalhes do cadastro e documentos."})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[v.jsx(ze,{label:"Status",value:v.jsx("span",{className:`px-2 py-1 text-sm font-bold rounded-md ${{[Qe.Aprovado]:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",[Qe.Reprovado]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[Qe.EmAnalise]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",[Qe.Pendente]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}[t.status]}`,children:t.status.replace("_"," ")})}),t.status===Qe.Aprovado&&t.approvedAt&&v.jsxs(v.Fragment,{children:[v.jsx(ze,{label:"Data de Aprovao",value:new Date(t.approvedAt).toLocaleString()}),v.jsx(ze,{label:"Aprovado por",value:t.approvedByName||t.approvedBy||"*"})]}),t.status===Qe.Reprovado&&t.rejectionReason&&v.jsx(ze,{label:"Motivo da Reprovao",value:v.jsx("span",{className:"text-red-700 dark:text-red-300",children:t.rejectionReason})}),v.jsx(ze,{label:"Data de Cadastro",value:new Date(t.createdAt).toLocaleString()})]}),v.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:v.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[v.jsx("button",{onClick:()=>I("dados-gerais"),className:`${T==="dados-gerais"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Dados Gerais"}),v.jsx("button",{onClick:()=>I("endereco"),className:`${T==="endereco"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Endereo"}),v.jsx("button",{onClick:()=>I("dados-bancarios"),className:`${T==="dados-bancarios"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Dados Bancrios"})]})}),v.jsxs("dl",{className:"divide-y divide-gray-200 dark:divide-gray-700 mt-6",children:[T==="dados-gerais"&&v.jsxs(v.Fragment,{children:[v.jsx(ze,{label:"Razo Social",value:t.companyName}),v.jsx(ze,{label:"Nome Fantasia",value:t.tradeName}),v.jsx(ze,{label:"Tipo de Pessoa",value:t.personType==="J"?"Jurdica":"Fsica"}),v.jsx(ze,{label:"CNPJ/CPF",value:v.jsx("span",{className:"font-mono",children:t.cnpj})}),v.jsx(ze,{label:"Inscrio Estadual",value:t.stateRegistration}),v.jsx(ze,{label:"Tipo de IE",value:t.stateRegistrationType==="isento"?"Isento":t.stateRegistrationType==="contribuinte"?"Contribuinte":t.stateRegistrationType}),v.jsx(ze,{label:"Inscrio Municipal",value:t.municipalRegistration}),v.jsx(ze,{label:"E-mail Principal",value:t.email}),v.jsx(ze,{label:"Telefone",value:t.phone}),v.jsx(ze,{label:"Celular",value:t.mobile}),v.jsx(ze,{label:"Website",value:t.website}),v.jsx(ze,{label:"Responsvel pelo Cadastro",value:t.submittedBy})]}),T==="endereco"&&v.jsxs(v.Fragment,{children:[v.jsx(ze,{label:"CEP",value:t.address.zipCode}),v.jsx(ze,{label:"Estado",value:t.address.state}),v.jsx(ze,{label:"Cidade",value:t.address.city}),v.jsx(ze,{label:"Bairro",value:t.address.neighborhood}),v.jsx(ze,{label:"Rua/Avenida",value:t.address.street}),v.jsx(ze,{label:"Nmero",value:t.address.number}),v.jsx(ze,{label:"Complemento",value:t.address.complement})]}),T==="dados-bancarios"&&v.jsxs(v.Fragment,{children:[v.jsx(ze,{label:"Banco",value:(j=t.bankData)==null?void 0:j.bank}),v.jsx(ze,{label:"Cdigo do Banco",value:($=t.bankData)==null?void 0:$.bankCode}),v.jsx(ze,{label:"Agncia",value:(W=t.bankData)==null?void 0:W.agency}),v.jsx(ze,{label:"Dgito da Agncia",value:(Y=t.bankData)==null?void 0:Y.agencyDigit}),v.jsx(ze,{label:"Conta",value:(re=t.bankData)==null?void 0:re.account}),v.jsx(ze,{label:"Dgito da Conta",value:(ae=t.bankData)==null?void 0:ae.accountDigit}),v.jsx(ze,{label:"Tipo de Conta",value:((de=t.bankData)==null?void 0:de.accountType)==="corrente"?"Corrente":((D=t.bankData)==null?void 0:D.accountType)==="poupanca"?"Poupana":(S=t.bankData)==null?void 0:S.accountType}),v.jsx(ze,{label:"Chave PIX",value:(R=t.bankData)==null?void 0:R.pixKey})]})]}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Documentos Anexados"}),v.jsx("ul",{role:"list",className:"border border-gray-200 dark:border-gray-600 rounded-md divide-y divide-gray-200 dark:divide-gray-600",children:t.uploadedDocuments.length>0?t.uploadedDocuments.map((O,V)=>v.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[v.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[v.jsx(Sx,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),v.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:O.docName})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsxs("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 flex items-center",children:[v.jsx(z4,{className:"h-4 w-4 mr-1"}),"Abrir"]})})]},V)):v.jsx("li",{className:"pl-3 pr-4 py-3 text-sm text-gray-500",children:"Nenhum documento anexado."})})]}),(t.status===Qe.Pendente||t.status===Qe.EmAnalise)&&C&&v.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-end gap-4",children:[v.jsxs("button",{onClick:()=>m(!0),disabled:_,className:"w-full sm:w-auto flex justify-center items-center px-4 py-2 border border-red-300 dark:border-red-600 shadow-sm text-sm font-medium rounded-md text-red-700 dark:text-red-200 bg-white dark:bg-red-900/20 hover:bg-red-50 dark:hover:bg-red-900/40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:[v.jsx(Ix,{className:"h-5 w-5 mr-2"}),"Reprovar"]}),v.jsxs("button",{onClick:()=>z(Qe.Aprovado),disabled:_,className:"w-full sm:w-auto flex justify-center items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400",children:[_?v.jsx(ci,{className:"animate-spin h-5 w-5 mr-2"}):v.jsx(V4,{className:"h-5 w-5 mr-2"}),"Aprovar"]})]})]})]}),d&&v.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:v.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[v.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),v.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),v.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[v.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:v.jsxs("div",{className:"sm:flex sm:items-start",children:[v.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 sm:mx-0 sm:h-10 sm:w-10",children:v.jsx(jh,{className:"h-6 w-6 text-red-600 dark:text-red-300","aria-hidden":"true"})}),v.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"modal-title",children:"Reprovar Cadastro"}),v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Por favor, insira o motivo da reprovao. Esta informao ser enviada ao fornecedor."}),v.jsx("textarea",{rows:4,value:g,onChange:O=>p(O.target.value),className:"mt-4 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md",placeholder:"Ex: Documentao fiscal inconsistente."})]})]})]})}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[v.jsx("button",{type:"button",onClick:()=>z(Qe.Reprovado),disabled:!g||_,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:bg-red-400",children:_?v.jsx(ci,{className:"animate-spin h-5 w-5 mr-2"}):"Confirmar Reprovao"}),v.jsx("button",{type:"button",onClick:()=>m(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]}):v.jsx("div",{className:"text-center py-10",children:"Fornecedor no encontrado."})},V6=()=>{const{user:r,logout:e}=Ea(),t=ya(),a=vi(),o=async()=>{await e(),t("/admin/login")},[u,d]=bE.useState(()=>{const g=Qp();return typeof document<"u"&&Vh(g),g}),m=()=>{d(g=>Xp(g))};return v.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-md w-full",children:v.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-indigo-400",children:"Portal de Fornecedores"}),v.jsx("span",{className:"ml-4 text-sm text-gray-600 dark:text-gray-400 hidden sm:inline",children:"Painel Administrativo"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[v.jsxs("button",{onClick:()=>t("/admin/dashboard"),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${a.pathname==="/admin/dashboard"?"bg-blue-100 text-blue-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800"}`,children:[v.jsx(P4,{className:"h-4 w-4 mr-2"}),"Fornecedores"]}),(r==null?void 0:r.role)===Xt.Admin&&v.jsxs("button",{onClick:()=>t("/admin/users"),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${a.pathname==="/admin/users"?"bg-blue-100 text-blue-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800"}`,children:[v.jsx(kx,{className:"h-4 w-4 mr-2"}),"Usurios"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-gray-700 dark:text-gray-300 hidden md:inline",children:r==null?void 0:r.email}),v.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/50 hover:bg-red-200 dark:hover:bg-red-900/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition","aria-label":"Logout",children:[v.jsx(Q4,{className:"h-4 w-4 mr-2"}),"Sair"]}),v.jsx("button",{onClick:m,className:"p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:u==="dark"?v.jsx(Jp,{className:"h-5 w-5 text-yellow-500"}):v.jsx(Wp,{className:"h-5 w-5 text-gray-700"})})]})]})})},ug=({children:r})=>{const{user:e,loading:t}=Ea();return t?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):e?v.jsx(v.Fragment,{children:r}):v.jsx(Ld,{to:"/admin/login",replace:!0})},j6=({children:r})=>{const{user:e,loading:t}=Ea();return t?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):e?e.role!==Xt.Admin?v.jsx(Ld,{to:"/admin/dashboard",replace:!0}):v.jsx(v.Fragment,{children:r}):v.jsx(Ld,{to:"/admin/login",replace:!0})},cg=({children:r})=>v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[v.jsx(V6,{}),v.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:r})]}),U6=()=>{const{user:r}=Ea();return v.jsxs(cS,{children:[v.jsx(Xi,{path:"/",element:v.jsx(l6,{})}),v.jsx(Xi,{path:"/register/:token",element:v.jsx(u6,{})}),v.jsx(Xi,{path:"/admin/login",element:v.jsx(c6,{})}),v.jsx(Xi,{path:"/admin/dashboard",element:v.jsx(ug,{children:v.jsx(cg,{children:v.jsx(h6,{})})})}),v.jsx(Xi,{path:"/admin/users",element:v.jsx(ug,{children:v.jsx(j6,{children:v.jsx(cg,{children:v.jsx(g6,{})})})})}),v.jsx(Xi,{path:"/admin/supplier/:id",element:v.jsx(ug,{children:v.jsx(cg,{children:v.jsx(M6,{})})})}),v.jsx(Xi,{path:"*",element:v.jsx(Ld,{to:r?"/admin/dashboard":"/"})})]})},L6=()=>v.jsx(E4,{children:v.jsx(PS,{children:v.jsx(U6,{})})}),Ux=document.getElementById("root");if(!Ux)throw new Error("Could not find root element to mount to");const B6=_1.createRoot(Ux);B6.render(v.jsx(bE.StrictMode,{children:v.jsx(L6,{})}));
