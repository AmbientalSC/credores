(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function KE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function O1(){if(B0)return ql;B0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=t,ql.jsxs=t,ql}var q0;function M1(){return q0||(q0=1,Sm.exports=O1()),Sm.exports}var w=M1(),Rm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function V1(){if(F0)return Re;F0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,$={};function z(k,re,le){this.props=k,this.context=re,this.refs=$,this.updater=le||D}z.prototype.isReactComponent={},z.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=z.prototype;function Y(k,re,le){this.props=k,this.context=re,this.refs=$,this.updater=le||D}var ne=Y.prototype=new K;ne.constructor=Y,N(ne,z.prototype),ne.isPureReactComponent=!0;var ae=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function V(k,re,le,ie,pe,Ce){return le=Ce.ref,{$$typeof:r,type:k,key:re,ref:le!==void 0?le:null,props:Ce}}function R(k,re){return V(k.type,re,void 0,void 0,void 0,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function O(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return re[le]})}var P=/\/+/g;function U(k,re){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):re.toString(36)}function C(){}function zt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function lt(k,re,le,ie,pe){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case r:case e:we=!0;break;case v:return we=k._init,lt(we(k._payload),re,le,ie,pe)}}if(we)return pe=pe(k),we=ie===""?"."+U(k,0):ie,ae(pe)?(le="",we!=null&&(le=we.replace(P,"$&/")+"/"),lt(pe,re,le,"",function(er){return er})):pe!=null&&(x(pe)&&(pe=R(pe,le+(pe.key==null||k&&k.key===pe.key?"":(""+pe.key).replace(P,"$&/")+"/")+we)),re.push(pe)),1;we=0;var Ot=ie===""?".":ie+":";if(ae(k))for(var et=0;et<k.length;et++)ie=k[et],Ce=Ot+U(ie,et),we+=lt(ie,re,le,Ce,pe);else if(et=b(k),typeof et=="function")for(k=et.call(k),et=0;!(ie=k.next()).done;)ie=ie.value,Ce=Ot+U(ie,et++),we+=lt(ie,re,le,Ce,pe);else if(Ce==="object"){if(typeof k.then=="function")return lt(zt(k),re,le,ie,pe);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(k,re,le){if(k==null)return k;var ie=[],pe=0;return lt(k,ie,"","",function(Ce){return re.call(le,Ce,pe++)}),ie}function oe(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Re.Children={map:X,forEach:function(k,re,le){X(k,function(){re.apply(this,arguments)},le)},count:function(k){var re=0;return X(k,function(){re++}),re},toArray:function(k){return X(k,function(re){return re})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=z,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Y,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ce.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,re,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=N({},k.props),pe=k.key,Ce=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(pe=""+re.key),re)!Te.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ie[we]=re[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var Ot=Array(we),et=0;et<we;et++)Ot[et]=arguments[et+2];ie.children=Ot}return V(k.type,pe,void 0,void 0,Ce,ie)},Re.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,re,le){var ie,pe={},Ce=null;if(re!=null)for(ie in re.key!==void 0&&(Ce=""+re.key),re)Te.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=re[ie]);var we=arguments.length-2;if(we===1)pe.children=le;else if(1<we){for(var Ot=Array(we),et=0;et<we;et++)Ot[et]=arguments[et+2];pe.children=Ot}if(k&&k.defaultProps)for(ie in we=k.defaultProps,we)pe[ie]===void 0&&(pe[ie]=we[ie]);return V(k,Ce,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=x,Re.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:oe}},Re.memo=function(k,re){return{$$typeof:p,type:k,compare:re===void 0?null:re}},Re.startTransition=function(k){var re=ce.T,le={};ce.T=le;try{var ie=k(),pe=ce.S;pe!==null&&pe(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(Ce){me(Ce)}finally{ce.T=re}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(k){return ce.H.use(k)},Re.useActionState=function(k,re,le){return ce.H.useActionState(k,re,le)},Re.useCallback=function(k,re){return ce.H.useCallback(k,re)},Re.useContext=function(k){return ce.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,re){return ce.H.useDeferredValue(k,re)},Re.useEffect=function(k,re,le){var ie=ce.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(k,re)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(k,re,le){return ce.H.useImperativeHandle(k,re,le)},Re.useInsertionEffect=function(k,re){return ce.H.useInsertionEffect(k,re)},Re.useLayoutEffect=function(k,re){return ce.H.useLayoutEffect(k,re)},Re.useMemo=function(k,re){return ce.H.useMemo(k,re)},Re.useOptimistic=function(k,re){return ce.H.useOptimistic(k,re)},Re.useReducer=function(k,re,le){return ce.H.useReducer(k,re,le)},Re.useRef=function(k){return ce.H.useRef(k)},Re.useState=function(k){return ce.H.useState(k)},Re.useSyncExternalStore=function(k,re,le){return ce.H.useSyncExternalStore(k,re,le)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var H0;function wg(){return H0||(H0=1,Rm.exports=V1()),Rm.exports}var F=wg();const P1=KE(F);var xm={exports:{}},Fl={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function L1(){return G0||(G0=1,function(r){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var ze=me-1>>>1,k=X[ze];if(0<o(k,oe))X[ze]=oe,X[me]=k,me=ze;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var ze=0,k=X.length,re=k>>>1;ze<re;){var le=2*(ze+1)-1,ie=X[le],pe=le+1,Ce=X[pe];if(0>o(ie,me))pe<k&&0>o(Ce,ie)?(X[ze]=Ce,X[pe]=me,ze=pe):(X[ze]=ie,X[le]=me,ze=le);else if(pe<k&&0>o(Ce,me))X[ze]=Ce,X[pe]=me,ze=pe;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,S=null,b=3,D=!1,N=!1,$=!1,z=!1,K=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var oe=t(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=X)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=t(p)}}function ce(X){if($=!1,ae(X),!N)if(t(g)!==null)N=!0,Te||(Te=!0,U());else{var oe=t(p);oe!==null&&lt(ce,oe.startTime-X)}}var Te=!1,V=-1,R=5,x=-1;function O(){return z?!0:!(r.unstable_now()-x<R)}function P(){if(z=!1,Te){var X=r.unstable_now();x=X;var oe=!0;try{e:{N=!1,$&&($=!1,Y(V),V=-1),D=!0;var me=b;try{t:{for(ae(X),S=t(g);S!==null&&!(S.expirationTime>X&&O());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,b=S.priorityLevel;var k=ze(S.expirationTime<=X);if(X=r.unstable_now(),typeof k=="function"){S.callback=k,ae(X),oe=!0;break t}S===t(g)&&s(g),ae(X)}else s(g);S=t(g)}if(S!==null)oe=!0;else{var re=t(p);re!==null&&lt(ce,re.startTime-X),oe=!1}}break e}finally{S=null,b=me,D=!1}oe=void 0}}finally{oe?U():Te=!1}}}var U;if(typeof ne=="function")U=function(){ne(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,zt=C.port2;C.port1.onmessage=P,U=function(){zt.postMessage(null)}}else U=function(){K(P,0)};function lt(X,oe){V=K(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var me=b;b=oe;try{return X()}finally{b=me}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=b;b=X;try{return oe()}finally{b=me}},r.unstable_scheduleCallback=function(X,oe,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=me+k,X={id:v++,callback:oe,priorityLevel:X,startTime:me,expirationTime:k,sortIndex:-1},me>ze?(X.sortIndex=me,e(p,X),t(g)===null&&X===t(p)&&($?(Y(V),V=-1):$=!0,lt(ce,me-ze))):(X.sortIndex=k,e(g,X),N||D||(N=!0,Te||(Te=!0,U()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var oe=b;return function(){var me=b;b=oe;try{return X.apply(this,arguments)}finally{b=me}}}}(Cm)),Cm}var $0;function U1(){return $0||($0=1,Im.exports=L1()),Im.exports}var Nm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function j1(){if(K0)return Jt;K0=1;var r=wg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Jt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:D}):v==="script"&&s.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var Q0;function z1(){if(Q0)return Nm.exports;Q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=j1(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function B1(){if(Y0)return Fl;Y0=1;var r=U1(),e=wg(),t=z1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return m(d),n;if(f===l)return m(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E){for(T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function zt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case z:return"Profiler";case $:return"StrictMode";case ce:return"Suspense";case Te:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case ae:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return i=n.displayName||null,i!==null?i:zt(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return zt(n(i))}catch{}}return null}var lt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function re(n){return{current:n}}function le(n){0>k||(n.current=ze[k],ze[k]=null,k--)}function ie(n,i){k++,ze[k]=n.current,n.current=i}var pe=re(null),Ce=re(null),we=re(null),Ot=re(null);function et(n,i){switch(ie(we,i),ie(Ce,n),ie(pe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?g0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=g0(i),n=p0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(pe),ie(pe,n)}function er(){le(pe),le(Ce),le(we)}function fi(n){n.memoizedState!==null&&ie(Ot,n);var i=pe.current,a=p0(i,n.type);i!==a&&(ie(Ce,n),ie(pe,a))}function Dr(n){Ce.current===n&&(le(pe),le(Ce)),Ot.current===n&&(le(Ot),Ll._currentValue=me)}var ms=Object.prototype.hasOwnProperty,gs=r.unstable_scheduleCallback,ps=r.unstable_cancelCallback,Mo=r.unstable_shouldYield,Ou=r.unstable_requestPaint,xn=r.unstable_now,Ad=r.unstable_getCurrentPriorityLevel,Vo=r.unstable_ImmediatePriority,ga=r.unstable_UserBlockingPriority,ys=r.unstable_NormalPriority,Sd=r.unstable_LowPriority,pa=r.unstable_IdlePriority,Po=r.log,Mu=r.unstable_setDisableYieldValue,ut=null,He=null;function gn(n){if(typeof Po=="function"&&Mu(n),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ut,n)}catch{}}var Wt=Math.clz32?Math.clz32:_s,Vu=Math.log,Rd=Math.LN2;function _s(n){return n>>>=0,n===0?32:31-(Vu(n)/Rd|0)|0}var vs=256,Es=4194304;function Fn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ya(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=Fn(l):(E&=T,E!==0?d=Fn(E):a||(a=T&~n,a!==0&&(d=Fn(a))))):(T=l&~f,T!==0?d=Fn(T):E!==0?d=Fn(E):a||(a=l&~n,a!==0&&(d=Fn(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Ts(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Lo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var n=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),n}function jo(){var n=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),n}function kr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Or(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function zo(n,i,a,l,d,f){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Wt(a),ee=1<<W;T[W]=0,I[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&tr(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(E&~i))}function tr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Wt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Bo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Wt(a),d=1<<l;d&i|n[l]&i&&(n[l]|=i),a&=~d}}function mi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _a(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function gi(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:V0(n.type))}function Pu(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var rt=Math.random().toString(36).slice(2),xt="__reactFiber$"+rt,vt="__reactProps$"+rt,In="__reactContainer$"+rt,qo="__reactEvents$"+rt,xd="__reactListeners$"+rt,pi="__reactHandles$"+rt,Lu="__reactResources$"+rt,bs="__reactMarker$"+rt;function yi(n){delete n[xt],delete n[vt],delete n[qo],delete n[xd],delete n[pi]}function Mr(n){var i=n[xt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[In]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=E0(n);n!==null;){if(a=n[xt])return a;n=E0(n)}return i}n=a,a=n.parentNode}return null}function nr(n){if(n=n[xt]||n[In]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function rr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function sn(n){var i=n[Lu];return i||(i=n[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(n){n[bs]=!0}var Fo=new Set,va={};function Hn(n,i){Vr(n,i),Vr(n+"Capture",i)}function Vr(n,i){for(va[n]=i,n=0;n<i.length;n++)Fo.add(i[n])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ju={},ws={};function zu(n){return ms.call(ws,n)?!0:ms.call(ju,n)?!1:Uu.test(n)?ws[n]=!0:(ju[n]=!0,!1)}function _i(n,i,a){if(zu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ir(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Bt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var As,Bu;function Pr(n){if(As===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);As=i&&i[1]||"",Bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+n+Bu}var Ea=!1;function Ta(n,i){if(!n||Ea)return"";Ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(G){H=G}n.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],T=f[1];if(E&&T){var I=E.split(`
`),q=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===q.length)for(l=I.length-1,d=q.length-1;1<=l&&0<=d&&I[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==q[d]){var W=`
`+I[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=d);break}}}finally{Ea=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Pr(a):""}function Ho(n){switch(n.tag){case 26:case 27:case 5:return Pr(n.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return Ta(n.type,!1);case 11:return Ta(n.type.render,!1);case 1:return Ta(n.type,!0);case 31:return Pr("Activity");default:return""}}function ba(n){try{var i="";do i+=Ho(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Go(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Id(n){var i=Go(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function wa(n){n._valueTracker||(n._valueTracker=Id(n))}function $o(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Go(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Cd=/[\n"\\]/g;function Et(n){return n.replace(Cd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pn(n,i,a,l,d,f,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+an(i)):n.value!==""+an(i)&&(n.value=""+an(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?vi(n,E,an(i)):a!=null?vi(n,E,an(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+an(T):n.removeAttribute("name")}function Rs(n,i,a,l,d,f,E,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vi(n,i,a){i==="number"&&Ss(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Lr(n,i,a,l){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Ke(n,i,a){if(i!=null&&(i=""+an(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+an(a):""}function xs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Is.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ko(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&qu(n,d,l)}else for(var f in i)i.hasOwnProperty(f)&&qu(n,f,i[f])}function Qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(n){return Dd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ur=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,zr=null;function Yo(n){var i=nr(n);if(i&&(n=i.stateNode)){var a=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(pn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var d=l[vt]||null;if(!d)throw Error(s(90));pn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&$o(l)}break e;case"textarea":Ke(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Lr(n,!!a.multiple,i,!1)}}}var sr=!1;function Fu(n,i,a){if(sr)return n(i,a);sr=!0;try{var l=n(i);return l}finally{if(sr=!1,(jr!==null||zr!==null)&&(Pc(),jr&&(i=jr,n=zr,zr=jr=null,Yo(i),n)))for(i=0;i<n.length;i++)Yo(n[i])}}function Cs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Dn=!1}var ar=null,Ei=null,Br=null;function Xo(){if(Br)return Br;var n,i=Ei,a=i.length,l,d="value"in ar?ar.value:ar.textContent,f=d.length;for(n=0;n<a&&i[n]===d[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===d[f-l];l++);return Br=d.slice(n,1<l?1-l:void 0)}function or(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function lr(){return!0}function Wo(){return!1}function Mt(n){function i(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?lr:Wo,this.isPropagationStopped=Wo,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Mt(qe),Ds=v({},qe,{view:0,detail:0}),Hu=Mt(Ds),Ra,xa,ur,ks=v({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ur&&(ur&&n.type==="mousemove"?(Ra=n.screenX-ur.screenX,xa=n.screenY-ur.screenY):xa=Ra=0,ur=n),Ra)},movementY:function(n){return"movementY"in n?n.movementY:xa}}),kn=Mt(ks),Gu=v({},ks,{dataTransfer:0}),kd=Mt(Gu),Os=v({},Ds,{relatedTarget:0}),Ia=Mt(Os),Zo=v({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Mt(Zo),$u=v({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Na=Mt($u),Od=v({},qe,{data:0}),Jo=Mt(Od),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Qu[n])?!!i[n]:!1}function Vs(){return el}var Yu=v({},Ds,{key:function(n){if(n.key){var i=Ms[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=or(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ku[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(n){return n.type==="keypress"?or(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?or(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Da=Mt(Yu),Xu=v({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Mt(Xu),qr=v({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),Wu=Mt(qr),Zu=v({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Mt(Zu),ec=v({},ks,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Mt(ec),on=v({},qe,{newState:0,oldState:0}),tc=Mt(on),nc=[9,13,27,32],cr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,_=Gn&&(!cr||c&&8<c&&11>=c),A=" ",j=!1;function Q(n,i){switch(n){case"keyup":return nc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function It(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return n=i.data,n===A&&j?null:n;default:return null}}function Pe(n,i){if(Ve)return n==="compositionend"||!cr&&Q(n,i)?(n=Xo(),Br=Ei=ar=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Fr(n,i,a,l){jr?zr?zr.push(l):zr=[l]:jr=l,i=qc(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var qt=null,hr=null;function nl(n){c0(n,0)}function rc(n){var i=rr(n);if($o(i))return n}function Dp(n,i){if(n==="change")return i}var kp=!1;if(Gn){var Md;if(Gn){var Vd="oninput"in document;if(!Vd){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Vd=typeof Op.oninput=="function"}Md=Vd}else Md=!1;kp=Md&&(!document.documentMode||9<document.documentMode)}function Mp(){qt&&(qt.detachEvent("onpropertychange",Vp),hr=qt=null)}function Vp(n){if(n.propertyName==="value"&&rc(hr)){var i=[];Fr(i,hr,n,Nn(n)),Fu(nl,i)}}function uA(n,i,a){n==="focusin"?(Mp(),qt=i,hr=a,qt.attachEvent("onpropertychange",Vp)):n==="focusout"&&Mp()}function cA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(hr)}function hA(n,i){if(n==="click")return rc(i)}function dA(n,i){if(n==="input"||n==="change")return rc(i)}function fA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var yn=typeof Object.is=="function"?Object.is:fA;function rl(n,i){if(yn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ms.call(i,d)||!yn(n[d],i[d]))return!1}return!0}function Pp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lp(n,i){var a=Pp(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function Up(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Up(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function jp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ss(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ss(n.document)}return i}function Pd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var mA=Gn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Ld=null,il=null,Ud=!1;function zp(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ud||Oa==null||Oa!==Ss(l)||(l=Oa,"selectionStart"in l&&Pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&rl(il,l)||(il=l,l=qc(Ld,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Oa)))}function Ps(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ma={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},jd={},Bp={};Gn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Ls(n){if(jd[n])return jd[n];if(!Ma[n])return n;var i=Ma[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bp)return jd[n]=i[a];return n}var qp=Ls("animationend"),Fp=Ls("animationiteration"),Hp=Ls("animationstart"),gA=Ls("transitionrun"),pA=Ls("transitionstart"),yA=Ls("transitioncancel"),Gp=Ls("transitionend"),$p=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function $n(n,i){$p.set(n,i),Hn(i,[n])}var Kp=new WeakMap;function On(n,i){if(typeof n=="object"&&n!==null){var a=Kp.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ba(i)},Kp.set(n,i),i)}return{value:n,source:i,stack:ba(i)}}var Mn=[],Va=0,Bd=0;function ic(){for(var n=Va,i=Bd=Va=0;i<n;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var d=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&Qp(a,d,f)}}function sc(n,i,a,l){Mn[Va++]=n,Mn[Va++]=i,Mn[Va++]=a,Mn[Va++]=l,Bd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qd(n,i,a,l){return sc(n,i,a,l),ac(n)}function Pa(n,i){return sc(n,null,null,i),ac(n)}function Qp(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&i!==null&&(d=31-Wt(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function ac(n){if(50<Cl)throw Cl=0,Yf=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var La={};function _A(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,l){return new _A(n,i,a,l)}function Fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Yp(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function oc(n,i,a,l,d,f){var E=0;if(l=n,typeof n=="function")Fd(n)&&(E=1);else if(typeof n=="string")E=E1(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=_n(31,a,i,d),n.elementType=x,n.lanes=f,n;case N:return Us(a.children,d,f,i);case $:E=8,d|=24;break;case z:return n=_n(12,a,i,d|2),n.elementType=z,n.lanes=f,n;case ce:return n=_n(13,a,i,d),n.elementType=ce,n.lanes=f,n;case Te:return n=_n(19,a,i,d),n.elementType=Te,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:case ne:E=10;break e;case Y:E=9;break e;case ae:E=11;break e;case V:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=_n(E,a,i,d),i.elementType=n,i.type=l,i.lanes=f,i}function Us(n,i,a,l){return n=_n(7,n,l,i),n.lanes=a,n}function Hd(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Gd(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ua=[],ja=0,lc=null,uc=0,Vn=[],Pn=0,js=null,Gr=1,$r="";function zs(n,i){Ua[ja++]=uc,Ua[ja++]=lc,lc=n,uc=i}function Xp(n,i,a){Vn[Pn++]=Gr,Vn[Pn++]=$r,Vn[Pn++]=js,js=n;var l=Gr;n=$r;var d=32-Wt(l)-1;l&=~(1<<d),a+=1;var f=32-Wt(i)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Gr=1<<32-Wt(i)+d|a<<d|l,$r=f+n}else Gr=1<<f|a<<d|l,$r=n}function $d(n){n.return!==null&&(zs(n,1),Xp(n,1,0))}function Kd(n){for(;n===lc;)lc=Ua[--ja],Ua[ja]=null,uc=Ua[--ja],Ua[ja]=null;for(;n===js;)js=Vn[--Pn],Vn[Pn]=null,$r=Vn[--Pn],Vn[Pn]=null,Gr=Vn[--Pn],Vn[Pn]=null}var ln=null,ct=null,Be=!1,Bs=null,dr=!1,Qd=Error(s(519));function qs(n){var i=Error(s(418,""));throw ol(On(i,n)),Qd}function Wp(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[xt]=n,i[vt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)ke(Dl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wa(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),xs(i,l.value,l.defaultValue,l.children),wa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||m0(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||qs(n)}function Zp(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:ln=ln.return}}function sl(n){if(n!==ln)return!1;if(!Be)return Zp(n),Be=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||hm(n.type,n.memoizedProps)),a=!a),a&&ct&&qs(n),Zp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ct=Qn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ct=null}}else i===27?(i=ct,Pi(n.type)?(n=gm,gm=null,ct=n):ct=i):ct=ln?Qn(n.stateNode.nextSibling):null;return!0}function al(){ct=ln=null,Be=!1}function Jp(){var n=Bs;return n!==null&&(dn===null?dn=n:dn.push.apply(dn,n),Bs=null),n}function ol(n){Bs===null?Bs=[n]:Bs.push(n)}var Yd=re(null),Fs=null,Kr=null;function Ti(n,i,a){ie(Yd,i._currentValue),i._currentValue=a}function Qr(n){n._currentValue=Yd.current,le(Yd)}function Xd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Wd(n,i,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var I=0;I<i.length;I++)if(T.context===i[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Xd(f.return,a,n),l||(E=null);break e}f=T.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),Xd(E,a,n),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function ll(n,i,a,l){n=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=d.type;yn(d.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(d===Ot.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Ll):n=[Ll])}d=d.return}n!==null&&Wd(i,n,a,l),i.flags|=262144}function cc(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Hs(n){Fs=n,Kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zt(n){return ey(Fs,n)}function hc(n,i){return Fs===null&&Hs(n),ey(n,i)}function ey(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Kr===null){if(n===null)throw Error(s(308));Kr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Kr=Kr.next=i;return a}var vA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},EA=r.unstable_scheduleCallback,TA=r.unstable_NormalPriority,Nt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new vA,data:new Map,refCount:0}}function ul(n){n.refCount--,n.refCount===0&&EA(TA,function(){n.controller.abort()})}var cl=null,Jd=0,za=0,Ba=null;function bA(n,i){if(cl===null){var a=cl=[];Jd=0,za=nm(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jd++,i.then(ty,ty),i}function ty(){if(--Jd===0&&cl!==null){Ba!==null&&(Ba.status="fulfilled");var n=cl;cl=null,za=0,Ba=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function wA(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var ny=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&bA(n,i),ny!==null&&ny(n,i)};var Gs=re(null);function ef(){var n=Gs.current;return n!==null?n:tt.pooledCache}function dc(n,i){i===null?ie(Gs,Gs.current):ie(Gs,i.pool)}function ry(){var n=ef();return n===null?null:{parent:Nt._currentValue,pool:n}}var hl=Error(s(460)),iy=Error(s(474)),fc=Error(s(542)),tf={then:function(){}};function sy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function mc(){}function ay(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(mc,mc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ly(n),n;default:if(typeof i.status=="string")i.then(mc,mc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ly(n),n}throw dl=i,hl}}var dl=null;function oy(){if(dl===null)throw Error(s(459));var n=dl;return dl=null,n}function ly(n){if(n===hl||n===fc)throw Error(s(483))}var bi=!1;function nf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ai(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=ac(n),Qp(n,null,a),i}return sc(n,l,i,a),ac(n)}function fl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Bo(n,a)}}function sf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var af=!1;function ml(){if(af){var n=Ba;if(n!==null)throw n}}function gl(n,i,a,l){af=!1;var d=n.updateQueue;bi=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,q=I.next;I.next=null,E===null?f=q:E.next=q,E=I;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==E&&(T===null?W.firstBaseUpdate=q:T.next=q,W.lastBaseUpdate=I))}if(f!==null){var ee=d.baseState;E=0,W=q=I=null,T=f;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Le&H)===H:(l&H)===H){H!==0&&H===za&&(af=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=n,ye=T;H=i;var Xe=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){ee=be.call(Xe,ee,H);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,H=typeof be=="function"?be.call(Xe,ee,H):be,H==null)break e;ee=v({},ee,H);break e;case 2:bi=!0}}H=T.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=d.callbacks,G===null?d.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(q=W=G,I=ee):W=W.next=G,E|=H;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;G=T,T=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);W===null&&(I=ee),d.baseState=I,d.firstBaseUpdate=q,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),ki|=E,n.lanes=E,n.memoizedState=ee}}function uy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function cy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)uy(a[n],i)}var qa=re(null),gc=re(0);function hy(n,i){n=ti,ie(gc,n),ie(qa,i),ti=n|i.baseLanes}function of(){ie(gc,ti),ie(qa,qa.current)}function lf(){ti=gc.current,le(qa),le(gc)}var Si=0,xe=null,Qe=null,Tt=null,pc=!1,Fa=!1,$s=!1,yc=0,pl=0,Ha=null,AA=0;function pt(){throw Error(s(321))}function uf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!yn(n[a],i[a]))return!1;return!0}function cf(n,i,a,l,d,f){return Si=f,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?Qy:Yy,$s=!1,f=a(l,d),$s=!1,Fa&&(f=fy(i,a,l,d)),dy(n),f}function dy(n){X.H=wc;var i=Qe!==null&&Qe.next!==null;if(Si=0,Tt=Qe=xe=null,pc=!1,pl=0,Ha=null,i)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&cc(n)&&(Pt=!0))}function fy(n,i,a,l){xe=n;var d=0;do{if(Fa&&(Ha=null),pl=0,Fa=!1,25<=d)throw Error(s(301));if(d+=1,Tt=Qe=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=DA,f=i(a,l)}while(Fa);return f}function SA(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?yl(i):i,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(xe.flags|=1024),i}function hf(){var n=yc!==0;return yc=0,n}function df(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ff(n){if(pc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pc=!1}Si=0,Tt=Qe=xe=null,Fa=!1,pl=yc=0,Ha=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?xe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function bt(){if(Qe===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var i=Tt===null?xe.memoizedState:Tt.next;if(i!==null)Tt=i,Qe=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Tt===null?xe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(n){var i=pl;return pl+=1,Ha===null&&(Ha=[]),n=ay(Ha,n,i),i=xe,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Qy:Yy),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yl(n);if(n.$$typeof===ne)return Zt(n)}throw Error(s(438,String(n)))}function gf(n){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mf(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=O;return i.index++,a}function Yr(n,i){return typeof i=="function"?i(n):i}function vc(n){var i=bt();return pf(i,Qe,n)}function pf(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}i.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{i=d.next;var T=E=null,I=null,q=i,W=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Le&ee)===ee:(Si&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===za&&(W=!0);else if((Si&H)===H){q=q.next,H===za&&(W=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ee,E=f):I=I.next=ee,xe.lanes|=H,ki|=H;ee=q.action,$s&&a(f,ee),f=q.hasEagerState?q.eagerState:a(f,ee)}else H={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,E=f):I=I.next=H,xe.lanes|=ee,ki|=ee;q=q.next}while(q!==null&&q!==i);if(I===null?E=f:I.next=T,!yn(f,n.memoizedState)&&(Pt=!0,W&&(a=Ba,a!==null)))throw a;n.memoizedState=f,n.baseState=E,n.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function yf(n){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=n(f,E.action),E=E.next;while(E!==d);yn(f,i.memoizedState)||(Pt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function my(n,i,a){var l=xe,d=bt(),f=Be;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!yn((Qe||d).memoizedState,a);E&&(d.memoizedState=a,Pt=!0),d=d.queue;var T=yy.bind(null,l,d,n);if(_l(2048,8,T,[n]),d.getSnapshot!==i||E||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Ec(),py.bind(null,l,d,a,i),null),tt===null)throw Error(s(349));f||(Si&124)!==0||gy(l,i,a)}return a}function gy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=mf(),xe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function py(n,i,a,l){i.value=a,i.getSnapshot=l,_y(i)&&vy(n)}function yy(n,i,a){return a(function(){_y(i)&&vy(n)})}function _y(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!yn(n,a)}catch{return!0}}function vy(n){var i=Pa(n,2);i!==null&&wn(i,n,2)}function _f(n){var i=cn();if(typeof n=="function"){var a=n;if(n=a(),$s){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function Ey(n,i,a,l){return n.baseState=a,pf(n,Qe,typeof l=="function"?l:Yr)}function RA(n,i,a,l,d){if(bc(n))throw Error(s(485));if(n=i.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Ty(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ty(n,i){var a=i.action,l=i.payload,d=n.state;if(i.isTransition){var f=X.T,E={};X.T=E;try{var T=a(d,l),I=X.S;I!==null&&I(E,T),by(n,i,T)}catch(q){vf(n,i,q)}finally{X.T=f}}else try{f=a(d,l),by(n,i,f)}catch(q){vf(n,i,q)}}function by(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wy(n,i,l)},function(l){return vf(n,i,l)}):wy(n,i,a)}function wy(n,i,a){i.status="fulfilled",i.value=a,Ay(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Ty(n,a)))}function vf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}n.action=null}function Ay(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Sy(n,i){return i}function Ry(n,i){if(Be){var a=tt.formState;if(a!==null){e:{var l=xe;if(Be){if(ct){t:{for(var d=ct,f=dr;d.nodeType!==8;){if(!f){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ct=Qn(d.nextSibling),l=d.data==="F!";break e}}qs(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=Gy.bind(null,xe,l),l.dispatch=a,l=_f(!1),f=Af.bind(null,xe,!1,l.queue),l=cn(),d={state:i,dispatch:null,action:n,pending:null},l.queue=d,a=RA.bind(null,xe,d,f,a),d.dispatch=a,l.memoizedState=n,[i,a,!1]}function xy(n){var i=bt();return Iy(i,Qe,n)}function Iy(n,i,a){if(i=pf(n,i,Sy)[0],n=vc(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(E){throw E===hl?fc:E}else l=i;i=bt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Ga(9,Ec(),xA.bind(null,d,a),null)),[l,f,n]}function xA(n,i){n.action=i}function Cy(n){var i=bt(),a=Qe;if(a!==null)return Iy(i,a,n);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ga(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=mf(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Ec(){return{destroy:void 0,resource:void 0}}function Ny(){return bt().memoizedState}function Tc(n,i,a,l){var d=cn();l=l===void 0?null:l,xe.flags|=n,d.memoizedState=Ga(1|i,Ec(),a,l)}function _l(n,i,a,l){var d=bt();l=l===void 0?null:l;var f=d.memoizedState.inst;Qe!==null&&l!==null&&uf(l,Qe.memoizedState.deps)?d.memoizedState=Ga(i,f,a,l):(xe.flags|=n,d.memoizedState=Ga(1|i,f,a,l))}function Dy(n,i){Tc(8390656,8,n,i)}function ky(n,i){_l(2048,8,n,i)}function Oy(n,i){return _l(4,2,n,i)}function My(n,i){return _l(4,4,n,i)}function Vy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Py(n,i,a){a=a!=null?a.concat([n]):null,_l(4,4,Vy.bind(null,i,n),a)}function Ef(){}function Ly(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&uf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Uy(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&uf(i,l[1]))return l[0];if(l=n(),$s){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function Tf(n,i,a){return a===void 0||(Si&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=B_(),xe.lanes|=n,ki|=n,a)}function jy(n,i,a,l){return yn(a,i)?a:qa.current!==null?(n=Tf(n,a,l),yn(n,i)||(Pt=!0),n):(Si&42)===0?(Pt=!0,n.memoizedState=a):(n=B_(),xe.lanes|=n,ki|=n,i)}function zy(n,i,a,l,d){var f=oe.p;oe.p=f!==0&&8>f?f:8;var E=X.T,T={};X.T=T,Af(n,!1,i,a);try{var I=d(),q=X.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=wA(I,l);vl(n,i,W,bn(n))}else vl(n,i,l,bn(n))}catch(ee){vl(n,i,{then:function(){},status:"rejected",reason:ee},bn())}finally{oe.p=f,X.T=E}}function IA(){}function bf(n,i,a,l){if(n.tag!==5)throw Error(s(476));var d=By(n).queue;zy(n,d,i,me,a===null?IA:function(){return qy(n),a(l)})}function By(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function qy(n){var i=By(n).next.queue;vl(n,i,{},bn())}function wf(){return Zt(Ll)}function Fy(){return bt().memoizedState}function Hy(){return bt().memoizedState}function CA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();n=wi(a);var l=Ai(i,n,a);l!==null&&(wn(l,i,a),fl(l,i,a)),i={cache:Zd()},n.payload=i;return}i=i.return}}function NA(n,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(n)?$y(i,a):(a=qd(n,i,a,l),a!==null&&(wn(a,n,l),Ky(a,i,l)))}function Gy(n,i,a){var l=bn();vl(n,i,a,l)}function vl(n,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(n))$y(i,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,T=f(E,a);if(d.hasEagerState=!0,d.eagerState=T,yn(T,E))return sc(n,i,d,0),tt===null&&ic(),!1}catch{}finally{}if(a=qd(n,i,d,l),a!==null)return wn(a,n,l),Ky(a,i,l),!0}return!1}function Af(n,i,a,l){if(l={lane:2,revertLane:nm(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(i)throw Error(s(479))}else i=qd(n,a,l,2),i!==null&&wn(i,n,2)}function bc(n){var i=n.alternate;return n===xe||i!==null&&i===xe}function $y(n,i){Fa=pc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Ky(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Bo(n,a)}}var wc={readContext:Zt,use:_c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Qy={readContext:Zt,use:_c,useCallback:function(n,i){return cn().memoizedState=[n,i===void 0?null:i],n},useContext:Zt,useEffect:Dy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Tc(4194308,4,Vy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Tc(4194308,4,n,i)},useInsertionEffect:function(n,i){Tc(4,2,n,i)},useMemo:function(n,i){var a=cn();i=i===void 0?null:i;var l=n();if($s){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=cn();if(a!==void 0){var d=a(i);if($s){gn(!0);try{a(i)}finally{gn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=NA.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var i=cn();return n={current:n},i.memoizedState=n},useState:function(n){n=_f(n);var i=n.queue,a=Gy.bind(null,xe,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(n,i){var a=cn();return Tf(a,n,i)},useTransition:function(){var n=_f(!1);return n=zy.bind(null,xe,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=xe,d=cn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Le&124)!==0||gy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Dy(yy.bind(null,l,f,n),[n]),l.flags|=2048,Ga(9,Ec(),py.bind(null,l,f,a,i),null),a},useId:function(){var n=cn(),i=tt.identifierPrefix;if(Be){var a=$r,l=Gr;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=AA++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:wf,useFormState:Ry,useActionState:Ry,useOptimistic:function(n){var i=cn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Af.bind(null,xe,!0,a),a.dispatch=i,[n,i]},useMemoCache:gf,useCacheRefresh:function(){return cn().memoizedState=CA.bind(null,xe)}},Yy={readContext:Zt,use:_c,useCallback:Ly,useContext:Zt,useEffect:ky,useImperativeHandle:Py,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Uy,useReducer:vc,useRef:Ny,useState:function(){return vc(Yr)},useDebugValue:Ef,useDeferredValue:function(n,i){var a=bt();return jy(a,Qe.memoizedState,n,i)},useTransition:function(){var n=vc(Yr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:yl(n),i]},useSyncExternalStore:my,useId:Fy,useHostTransitionStatus:wf,useFormState:xy,useActionState:xy,useOptimistic:function(n,i){var a=bt();return Ey(a,Qe,n,i)},useMemoCache:gf,useCacheRefresh:Hy},DA={readContext:Zt,use:_c,useCallback:Ly,useContext:Zt,useEffect:ky,useImperativeHandle:Py,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Uy,useReducer:yf,useRef:Ny,useState:function(){return yf(Yr)},useDebugValue:Ef,useDeferredValue:function(n,i){var a=bt();return Qe===null?Tf(a,n,i):jy(a,Qe.memoizedState,n,i)},useTransition:function(){var n=yf(Yr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:yl(n),i]},useSyncExternalStore:my,useId:Fy,useHostTransitionStatus:wf,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,i){var a=bt();return Qe!==null?Ey(a,Qe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Hy},$a=null,El=0;function Ac(n){var i=El;return El+=1,$a===null&&($a=[]),ay($a,n,i)}function Tl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Sc(n,i){throw i.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Xy(n){var i=n._init;return i(n._payload)}function Wy(n){function i(L,M){if(n){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function a(L,M){if(!n)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function d(L,M){return L=Hr(L,M),L.index=0,L.sibling=null,L}function f(L,M,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,B,Z){return M===null||M.tag!==6?(M=Hd(B,L.mode,Z),M.return=L,M):(M=d(M,B),M.return=L,M)}function I(L,M,B,Z){var de=B.type;return de===N?W(L,M,B.props.children,Z,B.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Xy(de)===M.type)?(M=d(M,B.props),Tl(M,B),M.return=L,M):(M=oc(B.type,B.key,B.props,null,L.mode,Z),Tl(M,B),M.return=L,M)}function q(L,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Gd(B,L.mode,Z),M.return=L,M):(M=d(M,B.children||[]),M.return=L,M)}function W(L,M,B,Z,de){return M===null||M.tag!==7?(M=Us(B,L.mode,Z,de),M.return=L,M):(M=d(M,B),M.return=L,M)}function ee(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hd(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return B=oc(M.type,M.key,M.props,null,L.mode,B),Tl(B,M),B.return=L,B;case D:return M=Gd(M,L.mode,B),M.return=L,M;case R:var Z=M._init;return M=Z(M._payload),ee(L,M,B)}if(lt(M)||U(M))return M=Us(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return ee(L,Ac(M),B);if(M.$$typeof===ne)return ee(L,hc(L,M),B);Sc(L,M)}return null}function H(L,M,B,Z){var de=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:T(L,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===de?I(L,M,B,Z):null;case D:return B.key===de?q(L,M,B,Z):null;case R:return de=B._init,B=de(B._payload),H(L,M,B,Z)}if(lt(B)||U(B))return de!==null?null:W(L,M,B,Z,null);if(typeof B.then=="function")return H(L,M,Ac(B),Z);if(B.$$typeof===ne)return H(L,M,hc(L,B),Z);Sc(L,B)}return null}function G(L,M,B,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(M,L,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return L=L.get(Z.key===null?B:Z.key)||null,I(M,L,Z,de);case D:return L=L.get(Z.key===null?B:Z.key)||null,q(M,L,Z,de);case R:var Ne=Z._init;return Z=Ne(Z._payload),G(L,M,B,Z,de)}if(lt(Z)||U(Z))return L=L.get(B)||null,W(M,L,Z,de,null);if(typeof Z.then=="function")return G(L,M,B,Ac(Z),de);if(Z.$$typeof===ne)return G(L,M,B,hc(M,Z),de);Sc(M,Z)}return null}function be(L,M,B,Z){for(var de=null,Ne=null,fe=M,_e=M=0,Ut=null;fe!==null&&_e<B.length;_e++){fe.index>_e?(Ut=fe,fe=null):Ut=fe.sibling;var je=H(L,fe,B[_e],Z);if(je===null){fe===null&&(fe=Ut);break}n&&fe&&je.alternate===null&&i(L,fe),M=f(je,M,_e),Ne===null?de=je:Ne.sibling=je,Ne=je,fe=Ut}if(_e===B.length)return a(L,fe),Be&&zs(L,_e),de;if(fe===null){for(;_e<B.length;_e++)fe=ee(L,B[_e],Z),fe!==null&&(M=f(fe,M,_e),Ne===null?de=fe:Ne.sibling=fe,Ne=fe);return Be&&zs(L,_e),de}for(fe=l(fe);_e<B.length;_e++)Ut=G(fe,L,_e,B[_e],Z),Ut!==null&&(n&&Ut.alternate!==null&&fe.delete(Ut.key===null?_e:Ut.key),M=f(Ut,M,_e),Ne===null?de=Ut:Ne.sibling=Ut,Ne=Ut);return n&&fe.forEach(function(Bi){return i(L,Bi)}),Be&&zs(L,_e),de}function ye(L,M,B,Z){if(B==null)throw Error(s(151));for(var de=null,Ne=null,fe=M,_e=M=0,Ut=null,je=B.next();fe!==null&&!je.done;_e++,je=B.next()){fe.index>_e?(Ut=fe,fe=null):Ut=fe.sibling;var Bi=H(L,fe,je.value,Z);if(Bi===null){fe===null&&(fe=Ut);break}n&&fe&&Bi.alternate===null&&i(L,fe),M=f(Bi,M,_e),Ne===null?de=Bi:Ne.sibling=Bi,Ne=Bi,fe=Ut}if(je.done)return a(L,fe),Be&&zs(L,_e),de;if(fe===null){for(;!je.done;_e++,je=B.next())je=ee(L,je.value,Z),je!==null&&(M=f(je,M,_e),Ne===null?de=je:Ne.sibling=je,Ne=je);return Be&&zs(L,_e),de}for(fe=l(fe);!je.done;_e++,je=B.next())je=G(fe,L,_e,je.value,Z),je!==null&&(n&&je.alternate!==null&&fe.delete(je.key===null?_e:je.key),M=f(je,M,_e),Ne===null?de=je:Ne.sibling=je,Ne=je);return n&&fe.forEach(function(k1){return i(L,k1)}),Be&&zs(L,_e),de}function Xe(L,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var de=B.key;M!==null;){if(M.key===de){if(de=B.type,de===N){if(M.tag===7){a(L,M.sibling),Z=d(M,B.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Xy(de)===M.type){a(L,M.sibling),Z=d(M,B.props),Tl(Z,B),Z.return=L,L=Z;break e}a(L,M);break}else i(L,M);M=M.sibling}B.type===N?(Z=Us(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=oc(B.type,B.key,B.props,null,L.mode,Z),Tl(Z,B),Z.return=L,L=Z)}return E(L);case D:e:{for(de=B.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(L,M.sibling),Z=d(M,B.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else i(L,M);M=M.sibling}Z=Gd(B,L.mode,Z),Z.return=L,L=Z}return E(L);case R:return de=B._init,B=de(B._payload),Xe(L,M,B,Z)}if(lt(B))return be(L,M,B,Z);if(U(B)){if(de=U(B),typeof de!="function")throw Error(s(150));return B=de.call(B),ye(L,M,B,Z)}if(typeof B.then=="function")return Xe(L,M,Ac(B),Z);if(B.$$typeof===ne)return Xe(L,M,hc(L,B),Z);Sc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(L,M.sibling),Z=d(M,B),Z.return=L,L=Z):(a(L,M),Z=Hd(B,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,M)}return function(L,M,B,Z){try{El=0;var de=Xe(L,M,B,Z);return $a=null,de}catch(fe){if(fe===hl||fe===fc)throw fe;var Ne=_n(29,fe,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ka=Wy(!0),Zy=Wy(!1),Ln=re(null),fr=null;function Ri(n){var i=n.alternate;ie(Dt,Dt.current&1),ie(Ln,n),fr===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(fr=n)}function Jy(n){if(n.tag===22){if(ie(Dt,Dt.current),ie(Ln,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else xi()}function xi(){ie(Dt,Dt.current),ie(Ln,Ln.current)}function Xr(n){le(Ln),fr===n&&(fr=null),le(Dt)}var Dt=re(0);function Rc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Rf={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=bn(),d=wi(l);d.payload=i,a!=null&&(d.callback=a),i=Ai(n,d,l),i!==null&&(wn(i,n,l),fl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=bn(),d=wi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ai(n,d,l),i!==null&&(wn(i,n,l),fl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=bn(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=Ai(n,l,a),i!==null&&(wn(i,n,a),fl(i,n,a))}};function e_(n,i,a,l,d,f,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(d,f):!0}function t_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Rf.enqueueReplaceState(i,i.state,null)}function Ks(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var xc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function n_(n){xc(n)}function r_(n){console.error(n)}function i_(n){xc(n)}function Ic(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function s_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xf(n,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(n,i)},a}function a_(n){return n=wi(n),n.tag=3,n}function o_(n,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){s_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){s_(i,a,l),typeof d!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kA(n,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,d,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fr===null?Wf():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jf(n,l,d)),!1;case 22:return a.flags|=65536,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jf(n,l,d)),!1}throw Error(s(435,a.tag))}return Jf(n,l,d),Wf(),!1}if(Be)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Qd&&(n=Error(s(422),{cause:l}),ol(On(n,a)))):(l!==Qd&&(i=Error(s(423),{cause:l}),ol(On(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=On(l,a),d=xf(n.stateNode,l,d),sf(n,d),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),Il===null?Il=[f]:Il.push(f),ht!==4&&(ht=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=xf(a.stateNode,l,n),sf(a,n),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Oi===null||!Oi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=a_(d),o_(d,n,a,l),sf(a,d),!1}a=a.return}while(a!==null);return!1}var l_=Error(s(461)),Pt=!1;function Ft(n,i,a,l){i.child=n===null?Zy(i,null,a,l):Ka(i,n.child,a,l)}function u_(n,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Hs(i),l=cf(n,i,a,E,f,d),T=hf(),n!==null&&!Pt?(df(n,i,d),Wr(n,i,d)):(Be&&T&&$d(i),i.flags|=1,Ft(n,i,l,d),i.child)}function c_(n,i,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!Fd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,h_(n,i,f,l,d)):(n=oc(a.type,null,l,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,!Vf(n,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(E,l)&&n.ref===i.ref)return Wr(n,i,d)}return i.flags|=1,n=Hr(f,l),n.ref=i.ref,n.return=i,i.child=n}function h_(n,i,a,l,d){if(n!==null){var f=n.memoizedProps;if(rl(f,l)&&n.ref===i.ref)if(Pt=!1,i.pendingProps=l=f,Vf(n,d))(n.flags&131072)!==0&&(Pt=!0);else return i.lanes=n.lanes,Wr(n,i,d)}return If(n,i,a,l,d)}function d_(n,i,a){var l=i.pendingProps,d=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(d=i.child=n.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return f_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,f!==null?f.cachePool:null),f!==null?hy(i,f):of(),Jy(i);else return i.lanes=i.childLanes=536870912,f_(n,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(dc(i,f.cachePool),hy(i,f),xi(),i.memoizedState=null):(n!==null&&dc(i,null),of(),xi());return Ft(n,i,d,a),i.child}function f_(n,i,a,l){var d=ef();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&dc(i,null),of(),Jy(i),n!==null&&ll(n,i,l,!0),null}function Cc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function If(n,i,a,l,d){return Hs(i),a=cf(n,i,a,l,void 0,d),l=hf(),n!==null&&!Pt?(df(n,i,d),Wr(n,i,d)):(Be&&l&&$d(i),i.flags|=1,Ft(n,i,a,d),i.child)}function m_(n,i,a,l,d,f){return Hs(i),i.updateQueue=null,a=fy(i,l,a,d),dy(n),l=hf(),n!==null&&!Pt?(df(n,i,f),Wr(n,i,f)):(Be&&l&&$d(i),i.flags|=1,Ft(n,i,a,f),i.child)}function g_(n,i,a,l,d){if(Hs(i),i.stateNode===null){var f=La,E=a.contextType;typeof E=="object"&&E!==null&&(f=Zt(E)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},nf(i),E=a.contextType,f.context=typeof E=="object"&&E!==null?Zt(E):La,f.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Sf(i,a,E,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&Rf.enqueueReplaceState(f,f.state,null),gl(i,l,f,d),ml(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){f=i.stateNode;var T=i.memoizedProps,I=Ks(a,T);f.props=I;var q=f.context,W=a.contextType;E=La,typeof W=="object"&&W!==null&&(E=Zt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==E)&&t_(i,f,l,E),bi=!1;var H=i.memoizedState;f.state=H,gl(i,l,f,d),ml(),q=i.memoizedState,T||H!==q||bi?(typeof ee=="function"&&(Sf(i,a,ee,l),q=i.memoizedState),(I=bi||e_(i,a,I,l,H,q,E))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),f.props=l,f.state=q,f.context=E,l=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,rf(n,i),E=i.memoizedProps,W=Ks(a,E),f.props=W,ee=i.pendingProps,H=f.context,q=a.contextType,I=La,typeof q=="object"&&q!==null&&(I=Zt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==ee||H!==I)&&t_(i,f,l,I),bi=!1,H=i.memoizedState,f.state=H,gl(i,l,f,d),ml();var G=i.memoizedState;E!==ee||H!==G||bi||n!==null&&n.dependencies!==null&&cc(n.dependencies)?(typeof T=="function"&&(Sf(i,a,T,l),G=i.memoizedState),(W=bi||e_(i,a,W,l,H,G,I)||n!==null&&n.dependencies!==null&&cc(n.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=I,l=W):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return f=l,Cc(n,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,n!==null&&l?(i.child=Ka(i,n.child,null,d),i.child=Ka(i,null,a,d)):Ft(n,i,a,d),i.memoizedState=f.state,n=i.child):n=Wr(n,i,d),n}function p_(n,i,a,l){return al(),i.flags|=256,Ft(n,i,a,l),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(n){return{baseLanes:n,cachePool:ry()}}function Df(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Un),n}function y_(n,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Be){if(d?Ri(i):xi(),Be){var T=ct,I;if(I=T){e:{for(I=T,T=dr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Qn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:js!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},I=_n(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,ln=i,ct=null,I=!0):I=!1}I||qs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return mm(T)?i.lanes=32:i.lanes=536870912,null;Xr(i)}return T=l.children,l=l.fallback,d?(xi(),d=i.mode,T=Nc({mode:"hidden",children:T},d),l=Us(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,d=i.child,d.memoizedState=Nf(a),d.childLanes=Df(n,E,a),i.memoizedState=Cf,l):(Ri(i),kf(i,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(f)i.flags&256?(Ri(i),i.flags&=-257,i=Of(n,i,a)):i.memoizedState!==null?(xi(),i.child=n.child,i.flags|=128,i=null):(xi(),d=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),d=Us(d,T,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,Ka(i,n.child,null,a),l=i.child,l.memoizedState=Nf(a),l.childLanes=Df(n,E,a),i.memoizedState=Cf,i=d);else if(Ri(i),mm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,ol({value:l,source:null,stack:null}),i=Of(n,i,a)}else if(Pt||ll(n,i,a,!1),E=(a&n.childLanes)!==0,Pt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:mi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Pa(n,l),wn(E,n,l),l_;T.data==="$?"||Wf(),i=Of(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ct=Qn(T.nextSibling),ln=i,Be=!0,Bs=null,dr=!1,n!==null&&(Vn[Pn++]=Gr,Vn[Pn++]=$r,Vn[Pn++]=js,Gr=n.id,$r=n.overflow,js=i),i=kf(i,l.children),i.flags|=4096);return i}return d?(xi(),d=l.fallback,T=i.mode,I=n.child,q=I.sibling,l=Hr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?d=Hr(q,d):(d=Us(d,T,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,T=n.child.memoizedState,T===null?T=Nf(a):(I=T.cachePool,I!==null?(q=Nt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=ry(),T={baseLanes:T.baseLanes|a,cachePool:I}),d.memoizedState=T,d.childLanes=Df(n,E,a),i.memoizedState=Cf,l):(Ri(i),a=n.child,n=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function kf(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=_n(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Of(n,i,a){return Ka(i,n.child,null,a),n=kf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function __(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Xd(n.return,i,a)}function Mf(n,i,a,l,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function v_(n,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;if(Ft(n,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&__(n,a,i);else if(n.tag===19)__(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Dt,l),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Rc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Mf(i,!1,d,a,f);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Rc(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Mf(i,!0,a,null,f);break;case"together":Mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ki|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ll(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Hr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Hr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Vf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&cc(n)))}function OA(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),Ti(i,Nt,n.memoizedState.cache),al();break;case 27:case 5:fi(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?y_(n,i,a):(Ri(i),n=Wr(n,i,a),n!==null?n.sibling:null);Ri(i);break;case 19:var d=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(n,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return v_(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,d_(n,i,a);case 24:Ti(i,Nt,n.memoizedState.cache)}return Wr(n,i,a)}function E_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Vf(n,a)&&(i.flags&128)===0)return Pt=!1,OA(n,i,a);Pt=(n.flags&131072)!==0}else Pt=!1,Be&&(i.flags&1048576)!==0&&Xp(i,uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Fd(l)?(n=Ks(l,n),i.tag=1,i=g_(null,i,l,n,a)):(i.tag=0,i=If(null,i,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===ae){i.tag=11,i=u_(null,i,l,n,a);break e}else if(d===V){i.tag=14,i=c_(null,i,l,n,a);break e}}throw i=zt(l)||l,Error(s(306,i,""))}}return i;case 0:return If(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Ks(l,i.pendingProps),g_(n,i,l,d,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,rf(n,i),gl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ti(i,Nt,l),l!==f.cache&&Wd(i,[Nt],a,!0),ml(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=p_(n,i,l,a);break e}else if(l!==d){d=On(Error(s(424)),i),ol(d),i=p_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=Qn(n.firstChild),ln=i,Be=!0,Bs=null,dr=!0,a=Zy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===d){i=Wr(n,i,a);break e}Ft(n,i,l,a)}i=i.child}return i;case 26:return Cc(n,i),n===null?(a=A0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,n=i.pendingProps,l=Hc(we.current).createElement(a),l[xt]=i,l[vt]=n,Gt(l,a,n),gt(l),i.stateNode=l):i.memoizedState=A0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return fi(i),n===null&&Be&&(l=i.stateNode=T0(i.type,i.pendingProps,we.current),ln=i,dr=!0,d=ct,Pi(i.type)?(gm=d,ct=Qn(l.firstChild)):ct=d),Ft(n,i,i.pendingProps.children,a),Cc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Be&&((d=l=ct)&&(l=o1(l,i.type,i.pendingProps,dr),l!==null?(i.stateNode=l,ln=i,ct=Qn(l.firstChild),dr=!1,d=!0):d=!1),d||qs(i)),fi(i),d=i.type,f=i.pendingProps,E=n!==null?n.memoizedProps:null,l=f.children,hm(d,f)?l=null:E!==null&&hm(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=cf(n,i,SA,null,null,a),Ll._currentValue=d),Cc(n,i),Ft(n,i,l,a),i.child;case 6:return n===null&&Be&&((n=a=ct)&&(a=l1(a,i.pendingProps,dr),a!==null?(i.stateNode=a,ln=i,ct=null,n=!0):n=!1),n||qs(i)),null;case 13:return y_(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ka(i,null,l,a):Ft(n,i,l,a),i.child;case 11:return u_(n,i,i.type,i.pendingProps,a);case 7:return Ft(n,i,i.pendingProps,a),i.child;case 8:return Ft(n,i,i.pendingProps.children,a),i.child;case 12:return Ft(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),Ft(n,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Hs(i),d=Zt(d),l=l(d),i.flags|=1,Ft(n,i,l,a),i.child;case 14:return c_(n,i,i.type,i.pendingProps,a);case 15:return h_(n,i,i.type,i.pendingProps,a);case 19:return v_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Hr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return d_(n,i,a);case 24:return Hs(i),l=Zt(Nt),n===null?(d=ef(),d===null&&(d=tt,f=Zd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},nf(i),Ti(i,Nt,d)):((n.lanes&a)!==0&&(rf(n,i),gl(i,null,null,a),ml()),d=n.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ti(i,Nt,l)):(l=f.cache,Ti(i,Nt,l),l!==d.cache&&Wd(i,[Nt],a,!0))),Ft(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zr(n){n.flags|=4}function T_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!C0(i)){if(i=Ln.current,i!==null&&((Le&4194048)===Le?fr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==fr))throw dl=tf,iy;n.flags|=8192}}function Dc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?jo():536870912,n.lanes|=i,Wa|=i)}function bl(n,i){if(!Be)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function MA(n,i,a){var l=i.pendingProps;switch(Kd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qr(Nt),er(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(sl(i)?Zr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jp())),at(i),null;case 26:return a=i.memoizedState,n===null?(Zr(i),a!==null?(at(i),T_(i,a)):(at(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Zr(i),at(i),T_(i,a)):(at(i),i.flags&=-16777217):(n.memoizedProps!==l&&Zr(i),at(i),i.flags&=-16777217),null;case 27:Dr(i),a=we.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}n=pe.current,sl(i)?Wp(i):(n=T0(d,l,a),i.stateNode=n,Zr(i))}return at(i),null;case 5:if(Dr(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(n=pe.current,sl(i))Wp(i);else{switch(d=Hc(we.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[xt]=i,n[vt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zr(i)}}return at(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Zr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,sl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,d=ln,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[xt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m0(n.nodeValue,a)),n||qs(i)}else n=Hc(n).createTextNode(l),n[xt]=i,i.stateNode=n}return at(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=sl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[xt]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),d=!1}else d=Jp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Xr(i),i):(Xr(i),null)}if(Xr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),at(i),null;case 4:return er(),n===null&&am(i.stateNode.containerInfo),at(i),null;case 10:return Qr(i.type),at(i),null;case 19:if(le(Dt),d=i.memoizedState,d===null)return at(i),null;if(l=(i.flags&128)!==0,f=d.rendering,f===null)if(l)bl(d,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(f=Rc(n),f!==null){for(i.flags|=128,bl(d,!1),n=f.updateQueue,i.updateQueue=n,Dc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Yp(a,n),a=a.sibling;return ie(Dt,Dt.current&1|2),i.child}n=n.sibling}d.tail!==null&&xn()>Mc&&(i.flags|=128,l=!0,bl(d,!1),i.lanes=4194304)}else{if(!l)if(n=Rc(f),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Dc(i,n),bl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Be)return at(i),null}else 2*xn()-d.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,l=!0,bl(d,!1),i.lanes=4194304);d.isBackwards?(f.sibling=i.child,i.child=f):(n=d.last,n!==null?n.sibling=f:i.child=f,d.last=f)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=xn(),i.sibling=null,n=Dt.current,ie(Dt,l?n&1|2:n&1),i):(at(i),null);case 22:case 23:return Xr(i),lf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&le(Gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qr(Nt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function VA(n,i){switch(Kd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(Nt),er(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Dr(i),null;case 13:if(Xr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));al()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(Dt),null;case 4:return er(),null;case 10:return Qr(i.type),null;case 22:case 23:return Xr(i),lf(),n!==null&&le(Gs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(Nt),null;case 25:return null;default:return null}}function b_(n,i){switch(Kd(i),i.tag){case 3:Qr(Nt),er();break;case 26:case 27:case 5:Dr(i);break;case 4:er();break;case 13:Xr(i);break;case 19:le(Dt);break;case 10:Qr(i.type);break;case 22:case 23:Xr(i),lf(),n!==null&&le(Gs);break;case 24:Qr(Nt)}}function wl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(T){We(i,i.return,T)}}function Ii(n,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,d=i;var I=a,q=T;try{q()}catch(W){We(d,I,W)}}}l=l.next}while(l!==f)}}catch(W){We(i,i.return,W)}}function w_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{cy(i,a)}catch(l){We(n,n.return,l)}}}function A_(n,i,a){a.props=Ks(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,i,l)}}function Al(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){We(n,i,d)}}function mr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){We(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){We(n,i,d)}else a.current=null}function S_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){We(n,n.return,d)}}function Pf(n,i,a){try{var l=n.stateNode;n1(l,n.type,a,i),l[vt]=i}catch(d){We(n,n.return,d)}}function R_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Pi(n.type)||n.tag===4}function Lf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||R_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&Pi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Uf(n,i,a),n=n.sibling;n!==null;)Uf(n,i,a),n=n.sibling}function kc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Pi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(kc(n,i,a),n=n.sibling;n!==null;)kc(n,i,a),n=n.sibling}function x_(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Gt(i,l,a),i[xt]=n,i[vt]=a}catch(f){We(n,n.return,f)}}var Jr=!1,yt=!1,jf=!1,I_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function PA(n,i){if(n=n.containerInfo,um=Xc,n=jp(n),Pd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,q=0,W=0,ee=n,H=null;t:for(;;){for(var G;ee!==a||d!==0&&ee.nodeType!==3||(T=E+d),ee!==f||l!==0&&ee.nodeType!==3||(I=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===n)break t;if(H===a&&++q===d&&(T=E),H===f&&++W===l&&(I=E),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:n,selectionRange:a},Xc=!1,Lt=i;Lt!==null;)if(i=Lt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Lt=n;else for(;Lt!==null;){switch(i=Lt,f=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var be=Ks(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){We(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Lt=n;break}Lt=i.return}}function C_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(n,a),l&4&&wl(5,a);break;case 1:if(Ci(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){We(a,a.return,E)}else{var d=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&w_(a),l&512&&Al(a,a.return);break;case 3:if(Ci(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cy(n,i)}catch(E){We(a,a.return,E)}}break;case 27:i===null&&l&4&&x_(a);case 26:case 5:Ci(n,a),i===null&&l&4&&S_(a),l&512&&Al(a,a.return);break;case 12:Ci(n,a);break;case 13:Ci(n,a),l&4&&k_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=GA.bind(null,a),u1(n,a))));break;case 22:if(l=a.memoizedState!==null||Jr,!l){i=i!==null&&i.memoizedState!==null||yt,d=Jr;var f=yt;Jr=l,(yt=i)&&!f?Ni(n,a,(a.subtreeFlags&8772)!==0):Ci(n,a),Jr=d,yt=f}break;case 30:break;default:Ci(n,a)}}function N_(n){var i=n.alternate;i!==null&&(n.alternate=null,N_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&yi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,hn=!1;function ei(n,i,a){for(a=a.child;a!==null;)D_(n,i,a),a=a.sibling}function D_(n,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:yt||mr(a,i),ei(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||mr(a,i);var l=it,d=hn;Pi(a.type)&&(it=a.stateNode,hn=!1),ei(n,i,a),Ol(a.stateNode),it=l,hn=d;break;case 5:yt||mr(a,i);case 6:if(l=it,d=hn,it=null,ei(n,i,a),it=l,hn=d,it!==null)if(hn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(f){We(a,i,f)}else try{it.removeChild(a.stateNode)}catch(f){We(a,i,f)}break;case 18:it!==null&&(hn?(n=it,v0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Bl(n)):v0(it,a.stateNode));break;case 4:l=it,d=hn,it=a.stateNode.containerInfo,hn=!0,ei(n,i,a),it=l,hn=d;break;case 0:case 11:case 14:case 15:yt||Ii(2,a,i),yt||Ii(4,a,i),ei(n,i,a);break;case 1:yt||(mr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&A_(a,i,l)),ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,ei(n,i,a),yt=l;break;default:ei(n,i,a)}}function k_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bl(n)}catch(a){We(i,i.return,a)}}function LA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new I_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new I_),i;default:throw Error(s(435,n.tag))}}function zf(n,i){var a=LA(n);i.forEach(function(l){var d=$A.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function vn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Pi(T.type)){it=T.stateNode,hn=!1;break e}break;case 5:it=T.stateNode,hn=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(it===null)throw Error(s(160));D_(f,E,d),it=null,hn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)O_(i,n),i=i.sibling}var Kn=null;function O_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(i,n),En(n),l&4&&(Ii(3,n,n.return),wl(3,n),Ii(5,n,n.return));break;case 1:vn(i,n),En(n),l&512&&(yt||a===null||mr(a,a.return)),l&64&&Jr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Kn;if(vn(i,n),En(n),l&512&&(yt||a===null||mr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[bs]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Gt(f,l,a),f[xt]=n,gt(f),l=f;break e;case"link":var E=x0("link","href",d).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(f=E[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}f=d.createElement(l),Gt(f,l,a),d.head.appendChild(f);break;case"meta":if(E=x0("meta","content",d).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(f=E[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}f=d.createElement(l),Gt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[xt]=n,gt(f),l=f}n.stateNode=l}else I0(d,n.type,n.stateNode);else n.stateNode=R0(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?I0(d,n.type,n.stateNode):R0(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Pf(n,n.memoizedProps,a.memoizedProps)}break;case 27:vn(i,n),En(n),l&512&&(yt||a===null||mr(a,a.return)),a!==null&&l&4&&Pf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,n),En(n),l&512&&(yt||a===null||mr(a,a.return)),n.flags&32){d=n.stateNode;try{Cn(d,"")}catch(G){We(n,n.return,G)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,Pf(n,d,a!==null?a.memoizedProps:d)),l&1024&&(jf=!0);break;case 6:if(vn(i,n),En(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){We(n,n.return,G)}}break;case 3:if(Kc=null,d=Kn,Kn=Gc(i.containerInfo),vn(i,n),Kn=d,En(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(i.containerInfo)}catch(G){We(n,n.return,G)}jf&&(jf=!1,M_(n));break;case 4:l=Kn,Kn=Gc(n.stateNode.containerInfo),vn(i,n),En(n),Kn=l;break;case 12:vn(i,n),En(n);break;case 13:vn(i,n),En(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=xn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zf(n,l)));break;case 22:d=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Jr,W=yt;if(Jr=q||d,yt=W||I,vn(i,n),yt=W,Jr=q,En(n),l&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||Jr||yt||Qs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){We(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zf(n,a))));break;case 19:vn(i,n),En(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zf(n,l)));break;case 30:break;case 21:break;default:vn(i,n),En(n)}}function En(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Lf(n);kc(n,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(Cn(E,""),a.flags&=-33);var T=Lf(n);kc(n,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Lf(n);Uf(n,q,I);break;default:throw Error(s(161))}}catch(W){We(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function M_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;M_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ci(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)C_(n,i.alternate,i),i=i.sibling}function Qs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Qs(i);break;case 1:mr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&A_(i,i.return,a),Qs(i);break;case 27:Ol(i.stateNode);case 26:case 5:mr(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}n=n.sibling}}function Ni(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=n,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:Ni(d,f,a),wl(4,f);break;case 1:if(Ni(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){We(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)uy(I[d],T)}catch(q){We(l,l.return,q)}}a&&E&64&&w_(f),Al(f,f.return);break;case 27:x_(f);case 26:case 5:Ni(d,f,a),a&&l===null&&E&4&&S_(f),Al(f,f.return);break;case 12:Ni(d,f,a);break;case 13:Ni(d,f,a),a&&E&4&&k_(d,f);break;case 22:f.memoizedState===null&&Ni(d,f,a),Al(f,f.return);break;case 30:break;default:Ni(d,f,a)}i=i.sibling}}function Bf(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ul(a))}function qf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n))}function gr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V_(n,i,a,l),i=i.sibling}function V_(n,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:gr(n,i,a,l),d&2048&&wl(9,i);break;case 1:gr(n,i,a,l);break;case 3:gr(n,i,a,l),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n)));break;case 12:if(d&2048){gr(n,i,a,l),n=i.stateNode;try{var f=i.memoizedProps,E=f.id,T=f.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else gr(n,i,a,l);break;case 13:gr(n,i,a,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?gr(n,i,a,l):Sl(n,i):f._visibility&2?gr(n,i,a,l):(f._visibility|=2,Qa(n,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Bf(E,i);break;case 24:gr(n,i,a,l),d&2048&&qf(i.alternate,i);break;default:gr(n,i,a,l)}}function Qa(n,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=n,E=i,T=a,I=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Qa(f,E,T,I,d),wl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Qa(f,E,T,I,d):Sl(f,E):(W._visibility|=2,Qa(f,E,T,I,d)),d&&q&2048&&Bf(E.alternate,E);break;case 24:Qa(f,E,T,I,d),d&&q&2048&&qf(E.alternate,E);break;default:Qa(f,E,T,I,d)}i=i.sibling}}function Sl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,d=l.flags;switch(l.tag){case 22:Sl(a,l),d&2048&&Bf(l.alternate,l);break;case 24:Sl(a,l),d&2048&&qf(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var Rl=8192;function Ya(n){if(n.subtreeFlags&Rl)for(n=n.child;n!==null;)P_(n),n=n.sibling}function P_(n){switch(n.tag){case 26:Ya(n),n.flags&Rl&&n.memoizedState!==null&&b1(Kn,n.memoizedState,n.memoizedProps);break;case 5:Ya(n);break;case 3:case 4:var i=Kn;Kn=Gc(n.stateNode.containerInfo),Ya(n),Kn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,Ya(n),Rl=i):Ya(n));break;default:Ya(n)}}function L_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,j_(l,n)}L_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 0:case 11:case 15:xl(n),n.flags&2048&&Ii(9,n,n.return);break;case 3:xl(n);break;case 12:xl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Oc(n)):xl(n);break;default:xl(n)}}function Oc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,j_(l,n)}L_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}n=n.sibling}}function j_(n,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=n;Lt!==null;){l=Lt;var d=l.sibling,f=l.return;if(N_(l),l===a){Lt=null;break e}if(d!==null){d.return=f,Lt=d;break e}Lt=f}}}var UA={getCacheForType:function(n){var i=Zt(Nt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},jA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,De=null,Le=0,$e=0,Tn=null,Di=!1,Xa=!1,Ff=!1,ti=0,ht=0,ki=0,Ys=0,Hf=0,Un=0,Wa=0,Il=null,dn=null,Gf=!1,$f=0,Mc=1/0,Vc=null,Oi=null,Ht=0,Mi=null,Za=null,Ja=0,Kf=0,Qf=null,z_=null,Cl=0,Yf=null;function bn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=za;return n!==0?n:nm()}return gi()}function B_(){Un===0&&(Un=(Le&536870912)===0||Be?Uo():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function wn(n,i,a){(n===tt&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(eo(n,0),Vi(n,Le,Un,!1)),Or(n,a),((Ge&2)===0||n!==tt)&&(n===tt&&((Ge&2)===0&&(Ys|=a),ht===4&&Vi(n,Le,Un,!1)),pr(n))}function q_(n,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ts(n,i),d=l?qA(n,i):Zf(n,i,!0),f=l;do{if(d===0){Xa&&!l&&Vi(n,i,0,!1);break}else{if(a=n.current.alternate,f&&!zA(a)){d=Zf(n,i,!1),f=!1;continue}if(d===2){if(f=i,n.errorRecoveryDisabledLanes&f)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;d=Il;var I=T.current.memoizedState.isDehydrated;if(I&&(eo(T,E).flags|=256),E=Zf(T,E,!1),E!==2){if(Ff&&!I){T.errorRecoveryDisabledLanes|=f,Ys|=f,d=4;break e}f=dn,dn=d,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){eo(n,0),Vi(n,i,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vi(l,i,Un,!Di);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=$f+300-xn(),10<d)){if(Vi(l,i,Un,!Di),ya(l,0,!0)!==0)break e;l.timeoutHandle=y0(F_.bind(null,l,a,dn,Vc,Gf,i,Un,Ys,Wa,Di,f,2,-0,0),d);break e}F_(l,a,dn,Vc,Gf,i,Un,Ys,Wa,Di,f,0,-0,0)}}break}while(!0);pr(n)}function F_(n,i,a,l,d,f,E,T,I,q,W,ee,H,G){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:T1},P_(i),ee=w1(),ee!==null)){n.cancelPendingCommit=ee(X_.bind(null,n,i,f,a,l,d,E,T,I,W,1,H,G)),Vi(n,f,E,!q);return}X_(n,i,f,a,l,d,E,T,I)}function zA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!yn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vi(n,i,a,l){i&=~Hf,i&=~Ys,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var d=i;0<d;){var f=31-Wt(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&tr(n,a,i)}function Pc(){return(Ge&6)===0?(Nl(0),!1):!0}function Xf(){if(De!==null){if($e===0)var n=De.return;else n=De,Kr=Fs=null,ff(n),$a=null,El=0,n=De;for(;n!==null;)b_(n.alternate,n),n=n.return;De=null}}function eo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,i1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Xf(),tt=n,De=a=Hr(n.current,null),Le=i,$e=0,Tn=null,Di=!1,Xa=Ts(n,i),Ff=!1,Wa=Un=Hf=Ys=ki=ht=0,dn=Il=null,Gf=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var d=31-Wt(l),f=1<<d;i|=n[d],l&=~f}return ti=i,ic(),a}function H_(n,i){xe=null,X.H=wc,i===hl||i===fc?(i=oy(),$e=3):i===iy?(i=oy(),$e=4):$e=i===l_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,De===null&&(ht=1,Ic(n,On(i,n.current)))}function G_(){var n=X.H;return X.H=wc,n===null?wc:n}function $_(){var n=X.A;return X.A=UA,n}function Wf(){ht=4,Di||(Le&4194048)!==Le&&Ln.current!==null||(Xa=!0),(ki&134217727)===0&&(Ys&134217727)===0||tt===null||Vi(tt,Le,Un,!1)}function Zf(n,i,a){var l=Ge;Ge|=2;var d=G_(),f=$_();(tt!==n||Le!==i)&&(Vc=null,eo(n,i)),i=!1;var E=ht;e:do try{if($e!==0&&De!==null){var T=De,I=Tn;switch($e){case 8:Xf(),E=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var q=$e;if($e=0,Tn=null,to(n,T,I,q),a&&Xa){E=0;break e}break;default:q=$e,$e=0,Tn=null,to(n,T,I,q)}}BA(),E=ht;break}catch(W){H_(n,W)}while(!0);return i&&n.shellSuspendCounter++,Kr=Fs=null,Ge=l,X.H=d,X.A=f,De===null&&(tt=null,Le=0,ic()),E}function BA(){for(;De!==null;)K_(De)}function qA(n,i){var a=Ge;Ge|=2;var l=G_(),d=$_();tt!==n||Le!==i?(Vc=null,Mc=xn()+500,eo(n,i)):Xa=Ts(n,i);e:do try{if($e!==0&&De!==null){i=De;var f=Tn;t:switch($e){case 1:$e=0,Tn=null,to(n,i,f,1);break;case 2:case 9:if(sy(f)){$e=0,Tn=null,Q_(i);break}i=function(){$e!==2&&$e!==9||tt!==n||($e=7),pr(n)},f.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:sy(f)?($e=0,Tn=null,Q_(i)):($e=0,Tn=null,to(n,i,f,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var T=De;if(!E||C0(E)){$e=0,Tn=null;var I=T.sibling;if(I!==null)De=I;else{var q=T.return;q!==null?(De=q,Lc(q)):De=null}break t}}$e=0,Tn=null,to(n,i,f,5);break;case 6:$e=0,Tn=null,to(n,i,f,6);break;case 8:Xf(),ht=6;break e;default:throw Error(s(462))}}FA();break}catch(W){H_(n,W)}while(!0);return Kr=Fs=null,X.H=l,X.A=d,Ge=a,De!==null?0:(tt=null,Le=0,ic(),ht)}function FA(){for(;De!==null&&!Mo();)K_(De)}function K_(n){var i=E_(n.alternate,n,ti);n.memoizedProps=n.pendingProps,i===null?Lc(n):De=i}function Q_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=m_(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=m_(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:ff(i);default:b_(a,i),i=De=Yp(i,ti),i=E_(a,i,ti)}n.memoizedProps=n.pendingProps,i===null?Lc(n):De=i}function to(n,i,a,l){Kr=Fs=null,ff(i),$a=null,El=0;var d=i.return;try{if(kA(n,d,i,a,Le)){ht=1,Ic(n,On(a,n.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;ht=1,Ic(n,On(a,n.current)),De=null;return}i.flags&32768?(Be||l===1?n=!0:Xa||(Le&536870912)!==0?n=!1:(Di=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,n)):Lc(i)}function Lc(n){var i=n;do{if((i.flags&32768)!==0){Y_(i,Di);return}n=i.return;var a=MA(i.alternate,i,ti);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);ht===0&&(ht=5)}function Y_(n,i){do{var a=VA(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ht=6,De=null}function X_(n,i,a,l,d,f,E,T,I){n.cancelPendingCommit=null;do Uc();while(Ht!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Bd,zo(n,a,f,E,T,I),n===tt&&(De=tt=null,Le=0),Za=i,Mi=n,Ja=a,Kf=f,Qf=d,z_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KA(ys,function(){return t0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=oe.p,oe.p=2,E=Ge,Ge|=4;try{PA(n,i,a)}finally{Ge=E,oe.p=d,X.T=l}}Ht=1,W_(),Z_(),J_()}}function W_(){if(Ht===1){Ht=0;var n=Mi,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var d=Ge;Ge|=4;try{O_(i,n);var f=cm,E=jp(n.containerInfo),T=f.focusedElem,I=f.selectionRange;if(E!==T&&T&&T.ownerDocument&&Up(T.ownerDocument.documentElement,T)){if(I!==null&&Pd(T)){var q=I.start,W=I.end;if(W===void 0&&(W=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),be=T.textContent.length,ye=Math.min(I.start,be),Xe=I.end===void 0?ye:Math.min(I.end,be);!G.extend&&ye>Xe&&(E=Xe,Xe=ye,ye=E);var L=Lp(T,ye),M=Lp(T,Xe);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),ye>Xe?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(ee=[],G=T;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xc=!!um,cm=um=null}finally{Ge=d,oe.p=l,X.T=a}}n.current=i,Ht=2}}function Z_(){if(Ht===2){Ht=0;var n=Mi,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var d=Ge;Ge|=4;try{C_(n,i.alternate,i)}finally{Ge=d,oe.p=l,X.T=a}}Ht=3}}function J_(){if(Ht===4||Ht===3){Ht=0,Ou();var n=Mi,i=Za,a=Ja,l=z_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Za=Mi=null,e0(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Oi=null),_a(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,d=oe.p,oe.p=2,X.T=null;try{for(var f=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];f(T.value,{componentStack:T.stack})}}finally{X.T=i,oe.p=d}}(Ja&3)!==0&&Uc(),pr(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===Yf?Cl++:(Cl=0,Yf=n):Cl=0,Nl(0)}}function e0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ul(i)))}function Uc(n){return W_(),Z_(),J_(),t0()}function t0(){if(Ht!==5)return!1;var n=Mi,i=Kf;Kf=0;var a=_a(Ja),l=X.T,d=oe.p;try{oe.p=32>a?32:a,X.T=null,a=Qf,Qf=null;var f=Mi,E=Ja;if(Ht=0,Za=Mi=null,Ja=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,U_(f.current),V_(f,f.current,E,a),Ge=T,Nl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ut,f)}catch{}return!0}finally{oe.p=d,X.T=l,e0(n,i)}}function n0(n,i,a){i=On(a,i),i=xf(n.stateNode,i,2),n=Ai(n,i,2),n!==null&&(Or(n,2),pr(n))}function We(n,i,a){if(n.tag===3)n0(n,n,a);else for(;i!==null;){if(i.tag===3){n0(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){n=On(a,n),a=a_(2),l=Ai(i,a,2),l!==null&&(o_(a,l,i,n),Or(l,2),pr(l));break}}i=i.return}}function Jf(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new jA;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Ff=!0,d.add(a),n=HA.bind(null,n,i,a),i.then(n,n))}function HA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>xn()-$f?(Ge&2)===0&&eo(n,0):Hf|=a,Wa===Le&&(Wa=0)),pr(n)}function r0(n,i){i===0&&(i=jo()),n=Pa(n,i),n!==null&&(Or(n,i),pr(n))}function GA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),r0(n,a)}function $A(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r0(n,a)}function KA(n,i){return gs(n,i)}var jc=null,no=null,em=!1,zc=!1,tm=!1,Xs=0;function pr(n){n!==no&&n.next===null&&(no===null?jc=no=n:no=no.next=n),zc=!0,em||(em=!0,YA())}function Nl(n,i){if(!tm&&zc){tm=!0;do for(var a=!1,l=jc;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Wt(42|n)+1)-1,f&=d&~(E&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o0(l,f))}else f=Le,f=ya(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ts(l,f)||(a=!0,o0(l,f));l=l.next}while(a);tm=!1}}function QA(){i0()}function i0(){zc=em=!1;var n=0;Xs!==0&&(r1()&&(n=Xs),Xs=0);for(var i=xn(),a=null,l=jc;l!==null;){var d=l.next,f=s0(l,i);f===0?(l.next=null,a===null?jc=d:a.next=d,d===null&&(no=a)):(a=l,(n!==0||(f&3)!==0)&&(zc=!0)),l=d}Nl(n)}function s0(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var E=31-Wt(f),T=1<<E,I=d[E];I===-1?((T&a)===0||(T&l)!==0)&&(d[E]=Lo(T,i)):I<=i&&(n.expiredLanes|=T),f&=~T}if(i=tt,a=Le,a=ya(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&($e===2||$e===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ts(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ps(l),_a(a)){case 2:case 8:a=ga;break;case 32:a=ys;break;case 268435456:a=pa;break;default:a=ys}return l=a0.bind(null,n),a=gs(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ps(l),n.callbackPriority=2,n.callbackNode=null,2}function a0(n,i){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Uc()&&n.callbackNode!==a)return null;var l=Le;return l=ya(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(q_(n,l,i),s0(n,xn()),n.callbackNode!=null&&n.callbackNode===a?a0.bind(null,n):null)}function o0(n,i){if(Uc())return null;q_(n,i,!0)}function YA(){s1(function(){(Ge&6)!==0?gs(Vo,QA):i0()})}function nm(){return Xs===0&&(Xs=Uo()),Xs}function l0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Aa(""+n)}function u0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function XA(n,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=l0((d[vt]||null).action),E=l.submitter;E&&(i=(i=E[vt]||null)?l0(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var T=new Sa("action","action",null,l,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var I=E?u0(d,E):new FormData(d);bf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=E?u0(d,E):new FormData(d),bf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var rm=0;rm<zd.length;rm++){var im=zd[rm],WA=im.toLowerCase(),ZA=im[0].toUpperCase()+im.slice(1);$n(WA,"on"+ZA)}$n(qp,"onAnimationEnd"),$n(Fp,"onAnimationIteration"),$n(Hp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(gA,"onTransitionRun"),$n(pA,"onTransitionStart"),$n(yA,"onTransitionCancel"),$n(Gp,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function c0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=q;try{f(d)}catch(W){xc(W)}d.currentTarget=null,f=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,q=T.currentTarget,T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=q;try{f(d)}catch(W){xc(W)}d.currentTarget=null,f=I}}}}function ke(n,i){var a=i[qo];a===void 0&&(a=i[qo]=new Set);var l=n+"__bubble";a.has(l)||(h0(i,n,2,!1),a.add(l))}function sm(n,i,a){var l=0;i&&(l|=4),h0(a,n,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[Bc]){n[Bc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(JA.has(a)||sm(a,!1,n),sm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,sm("selectionchange",!1,i))}}function h0(n,i,a,l){switch(V0(i)){case 2:var d=R1;break;case 8:d=x1;break;default:d=Em}a=d.bind(null,i,a,n),d=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function om(n,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===d)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;T!==null;){if(E=Mr(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=f=E;continue e}T=T.parentNode}}l=l.return}Fu(function(){var q=f,W=Nn(a),ee=[];e:{var H=$p.get(n);if(H!==void 0){var G=Sa,be=n;switch(n){case"keypress":if(or(a)===0)break e;case"keydown":case"keyup":G=Da;break;case"focusin":be="focus",G=Ia;break;case"focusout":be="blur",G=Ia;break;case"beforeblur":case"afterblur":G=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Wu;break;case qp:case Fp:case Hp:G=Ca;break;case Gp:G=Ju;break;case"scroll":case"scrollend":G=Hu;break;case"wheel":G=ka;break;case"copy":case"cut":case"paste":G=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=tl;break;case"toggle":case"beforetoggle":G=tc}var ye=(i&4)!==0,Xe=!ye&&(n==="scroll"||n==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var M=q,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Cs(M,L),Z!=null&&ye.push(kl(M,Z,B))),Xe)break;M=M.return}0<ye.length&&(H=new G(H,be,null,a,W),ee.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&a!==Ur&&(be=a.relatedTarget||a.fromElement)&&(Mr(be)||be[In]))break e;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=q,be=be?Mr(be):null,be!==null&&(Xe=u(be),ye=be.tag,be!==Xe||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(G=null,be=q),G!==be)){if(ye=kn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ye=tl,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Xe=G==null?H:rr(G),B=be==null?H:rr(be),H=new ye(Z,M+"leave",G,a,W),H.target=Xe,H.relatedTarget=B,Z=null,Mr(W)===q&&(ye=new ye(L,M+"enter",be,a,W),ye.target=B,ye.relatedTarget=Xe,Z=ye),Xe=Z,G&&be)t:{for(ye=G,L=be,M=0,B=ye;B;B=ro(B))M++;for(B=0,Z=L;Z;Z=ro(Z))B++;for(;0<M-B;)ye=ro(ye),M--;for(;0<B-M;)L=ro(L),B--;for(;M--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=ro(ye),L=ro(L)}ye=null}else ye=null;G!==null&&d0(ee,H,G,ye,!1),be!==null&&Xe!==null&&d0(ee,Xe,be,ye,!0)}}e:{if(H=q?rr(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var de=Dp;else if(Ct(H))if(kp)de=dA;else{de=cA;var Ne=uA}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Qo(q.elementType)&&(de=Dp):de=hA;if(de&&(de=de(n,q))){Fr(ee,de,a,W);break e}Ne&&Ne(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&vi(H,"number",H.value)}switch(Ne=q?rr(q):window,n){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(Oa=Ne,Ld=q,il=null);break;case"focusout":il=Ld=Oa=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,zp(ee,a,W);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":zp(ee,a,W)}var fe;if(cr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?Q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(fe=Xo()):(ar=W,Ei="value"in ar?ar.value:ar.textContent,Ve=!0)),Ne=qc(q,_e),0<Ne.length&&(_e=new Jo(_e,n,null,a,W),ee.push({event:_e,listeners:Ne}),fe?_e.data=fe:(fe=se(a),fe!==null&&(_e.data=fe)))),(fe=y?It(n,a):Pe(n,a))&&(_e=qc(q,"onBeforeInput"),0<_e.length&&(Ne=new Jo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ne,listeners:_e}),Ne.data=fe)),XA(ee,n,q,a,W)}c0(ee,i)})}function kl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function qc(n,i){for(var a=i+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Cs(n,a),d!=null&&l.unshift(kl(n,d,f)),d=Cs(n,i),d!=null&&l.push(kl(n,d,f))),n.tag===3)return l;n=n.return}return[]}function ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d0(n,i,a,l,d){for(var f=i._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,d?(q=Cs(a,f),q!=null&&E.unshift(kl(a,q,I))):d||(q=Cs(a,f),q!=null&&E.push(kl(a,q,I)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function f0(n){return(typeof n=="string"?n:""+n).replace(e1,`
`).replace(t1,"")}function m0(n,i){return i=f0(i),f0(n)===i}function Fc(){}function Ye(n,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Cn(n,""+l);break;case"className":ir(n,"class",l);break;case"tabIndex":ir(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(n,a,l);break;case"style":Ko(n,l,f);break;case"data":if(i!=="object"){ir(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Ye(n,i,"name",d.name,d,null),Ye(n,i,"formEncType",d.formEncType,d,null),Ye(n,i,"formMethod",d.formMethod,d,null),Ye(n,i,"formTarget",d.formTarget,d,null)):(Ye(n,i,"encType",d.encType,d,null),Ye(n,i,"method",d.method,d,null),Ye(n,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Aa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),_i(n,"popover",l);break;case"xlinkActuate":Bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nd.get(a)||a,_i(n,a,l))}}function lm(n,i,a,l,d,f){switch(a){case"style":Ko(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=n[vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):_i(n,a,l)}}}function Gt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(n,i,f,E,a,null)}}d&&Ye(n,i,"srcSet",a.srcSet,a,null),l&&Ye(n,i,"src",a.src,a,null);return;case"input":ke("invalid",n);var T=f=E=d=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":E=W;break;case"checked":I=W;break;case"defaultChecked":q=W;break;case"value":f=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Ye(n,i,l,W,a,null)}}Rs(n,f,T,I,q,E,d,!1),wa(n);return;case"select":ke("invalid",n),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Ye(n,i,d,T,a,null)}i=f,a=E,n.multiple=!!l,i!=null?Lr(n,!!l,i,!1):a!=null&&Lr(n,!!l,a,!0);return;case"textarea":ke("invalid",n),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(n,i,E,T,a,null)}xs(n,l,d,f),wa(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,i,I,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Dl.length;l++)ke(Dl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(n,i,q,l,a,null)}return;default:if(Qo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&lm(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(n,i,T,l,a,null))}function n1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,T=null,I=null,q=null,W=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(G)||Ye(n,i,G,null,l,ee)}}for(var H in l){var G=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":f=G;break;case"name":d=G;break;case"checked":q=G;break;case"defaultChecked":W=G;break;case"value":E=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==ee&&Ye(n,i,H,G,l,ee)}}pn(n,E,T,I,q,W,f,d);return;case"select":G=E=T=H=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(f)||Ye(n,i,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":E=f;default:f!==I&&Ye(n,i,d,f,l,I)}i=T,a=E,l=G,H!=null?Lr(n,!!a,H,!1):!!l!=!!a&&(i!=null?Lr(n,!!a,i,!0):Lr(n,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(n,i,T,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":H=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Ye(n,i,E,d,l,f)}Ke(n,H,G);return;case"option":for(var be in a)if(H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Ye(n,i,be,null,l,H)}for(I in l)if(H=l[I],G=a[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(n,i,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Ye(n,i,ye,null,l,H);for(q in l)if(H=l[q],G=a[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ye(n,i,q,H,l,G)}return;default:if(Qo(i)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&lm(n,i,Xe,void 0,l,H);for(W in l)H=l[W],G=a[W],!l.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||lm(n,i,W,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ye(n,i,L,null,l,H);for(ee in l)H=l[ee],G=a[ee],!l.hasOwnProperty(ee)||H===G||H==null&&G==null||Ye(n,i,ee,H,l,G)}var um=null,cm=null;function Hc(n){return n.nodeType===9?n:n.ownerDocument}function g0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function hm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function r1(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var y0=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(n){return _0.resolve(null).then(n).catch(a1)}:y0;function a1(n){setTimeout(function(){throw n})}function Pi(n){return n==="head"}function v0(n,i){var a=i,l=0,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Ol(E.documentElement),a&2&&Ol(E.body),a&4)for(a=E.head,Ol(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[bs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(d===0){n.removeChild(f),Bl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Bl(i)}function fm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function o1(n,i,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[bs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function l1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Qn(n.nextSibling),n===null))return null;return n}function mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function u1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Qn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var gm=null;function E0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function T0(n,i,a){switch(i=Hc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ol(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);yi(n)}var jn=new Map,b0=new Set;function Gc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=oe.d;oe.d={f:c1,r:h1,D:d1,C:f1,L:m1,m:g1,X:y1,S:p1,M:_1};function c1(){var n=ni.f(),i=Pc();return n||i}function h1(n){var i=nr(n);i!==null&&i.tag===5&&i.type==="form"?qy(i):ni.r(n)}var io=typeof document>"u"?null:document;function w0(n,i,a){var l=io;if(l&&typeof i=="string"&&i){var d=Et(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),b0.has(d)||(b0.add(d),n={rel:n,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function d1(n){ni.D(n),w0("dns-prefetch",n,null)}function f1(n,i){ni.C(n,i),w0("preconnect",n,i)}function m1(n,i,a){ni.L(n,i,a);var l=io;if(l&&n&&i){var d='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Et(a.imageSizes)+'"]')):d+='[href="'+Et(n)+'"]';var f=d;switch(i){case"style":f=so(n);break;case"script":f=ao(n)}jn.has(f)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),jn.set(f,n),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ml(f))||i==="script"&&l.querySelector(Vl(f))||(i=l.createElement("link"),Gt(i,"link",n),gt(i),l.head.appendChild(i)))}}function g1(n,i){ni.m(n,i);var a=io;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ao(n)}if(!jn.has(f)&&(n=v({rel:"modulepreload",href:n},i),jn.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}l=a.createElement("link"),Gt(l,"link",n),gt(l),a.head.appendChild(l)}}}function p1(n,i,a){ni.S(n,i,a);var l=io;if(l&&n){var d=sn(l).hoistableStyles,f=so(n);i=i||"default";var E=d.get(f);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ml(f)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=jn.get(f))&&pm(n,a);var I=E=l.createElement("link");gt(I),Gt(I,"link",n),I._p=new Promise(function(q,W){I.onload=q,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,$c(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},d.set(f,E)}}}function y1(n,i){ni.X(n,i);var a=io;if(a&&n){var l=sn(a).hoistableScripts,d=ao(n),f=l.get(d);f||(f=a.querySelector(Vl(d)),f||(n=v({src:n,async:!0},i),(i=jn.get(d))&&ym(n,i),f=a.createElement("script"),gt(f),Gt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function _1(n,i){ni.M(n,i);var a=io;if(a&&n){var l=sn(a).hoistableScripts,d=ao(n),f=l.get(d);f||(f=a.querySelector(Vl(d)),f||(n=v({src:n,async:!0,type:"module"},i),(i=jn.get(d))&&ym(n,i),f=a.createElement("script"),gt(f),Gt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function A0(n,i,a,l){var d=(d=we.current)?Gc(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=so(a.href),a=sn(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=so(a.href);var f=sn(d).hoistableStyles,E=f.get(n);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,E),(f=d.querySelector(Ml(n)))&&!f._p&&(E.instance=f,E.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),f||v1(d,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=sn(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function so(n){return'href="'+Et(n)+'"'}function Ml(n){return'link[rel="stylesheet"]['+n+"]"}function S0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function v1(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),gt(i),n.head.appendChild(i))}function ao(n){return'[src="'+Et(n)+'"]'}function Vl(n){return"script[async]"+n}function R0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,gt(l),l;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Gt(l,"style",d),$c(l,a.precedence,n),i.instance=l;case"stylesheet":d=so(a.href);var f=n.querySelector(Ml(d));if(f)return i.state.loading|=4,i.instance=f,gt(f),f;l=S0(a),(d=jn.get(d))&&pm(l,d),f=(n.ownerDocument||n).createElement("link"),gt(f);var E=f;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),Gt(f,"link",l),i.state.loading|=4,$c(f,a.precedence,n),i.instance=f;case"script":return f=ao(a.src),(d=n.querySelector(Vl(f)))?(i.instance=d,gt(d),d):(l=a,(d=jn.get(f))&&(l=v({},a),ym(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),gt(d),Gt(d,"link",l),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,n));return i.instance}function $c(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function pm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Kc=null;function x0(n,i,a){if(Kc===null){var l=new Map,d=Kc=new Map;d.set(a,l)}else d=Kc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[bs]||f[xt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(f):l.set(E,[f])}}return l}function I0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function E1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Pl=null;function T1(){}function b1(n,i,a){if(Pl===null)throw Error(s(475));var l=Pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=so(a.href),f=n.querySelector(Ml(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Qc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=f,gt(f);return}f=n.ownerDocument||n,a=S0(a),(d=jn.get(d))&&pm(a,d),f=f.createElement("link"),gt(f);var E=f;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),Gt(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Qc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function w1(){if(Pl===null)throw Error(s(475));var n=Pl;return n.stylesheets&&n.count===0&&_m(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&_m(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Yc=null;function _m(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Yc=new Map,i.forEach(A1,n),Yc=null,Qc.call(n))}function A1(n,i){if(!(i.state.loading&4)){var a=Yc.get(n);if(a)var l=a.get(null);else{a=new Map,Yc.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=Qc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var Ll={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function S1(n,i,a,l,d,f,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function N0(n,i,a,l,d,f,E,T,I,q,W,ee){return n=new S1(n,i,a,E,T,I,q,ee),i=1,f===!0&&(i|=24),f=_n(3,null,null,i),n.current=f,f.stateNode=n,i=Zd(),i.refCount++,n.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},nf(f),n}function D0(n){return n?(n=La,n):La}function k0(n,i,a,l,d,f){d=D0(d),l.context===null?l.context=d:l.pendingContext=d,l=wi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ai(n,l,i),a!==null&&(wn(a,n,i),fl(a,n,i))}function O0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function vm(n,i){O0(n,i),(n=n.alternate)&&O0(n,i)}function M0(n){if(n.tag===13){var i=Pa(n,67108864);i!==null&&wn(i,n,67108864),vm(n,67108864)}}var Xc=!0;function R1(n,i,a,l){var d=X.T;X.T=null;var f=oe.p;try{oe.p=2,Em(n,i,a,l)}finally{oe.p=f,X.T=d}}function x1(n,i,a,l){var d=X.T;X.T=null;var f=oe.p;try{oe.p=8,Em(n,i,a,l)}finally{oe.p=f,X.T=d}}function Em(n,i,a,l){if(Xc){var d=Tm(l);if(d===null)om(n,i,l,Wc,a),P0(n,l);else if(C1(d,n,i,a,l))l.stopPropagation();else if(P0(n,l),i&4&&-1<I1.indexOf(n)){for(;d!==null;){var f=nr(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Fn(f.pendingLanes);if(E!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Wt(E);T.entanglements[1]|=I,E&=~I}pr(f),(Ge&6)===0&&(Mc=xn()+500,Nl(0))}}break;case 13:T=Pa(f,2),T!==null&&wn(T,f,2),Pc(),vm(f,2)}if(f=Tm(l),f===null&&om(n,i,l,Wc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else om(n,i,l,null,a)}}function Tm(n){return n=Nn(n),bm(n)}var Wc=null;function bm(n){if(Wc=null,n=Mr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Wc=n,null}function V0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ad()){case Vo:return 2;case ga:return 8;case ys:case Sd:return 32;case pa:return 268435456;default:return 32}default:return 32}}var wm=!1,Li=null,Ui=null,ji=null,Ul=new Map,jl=new Map,zi=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(n,i){switch(n){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function zl(n,i,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=nr(i),i!==null&&M0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function C1(n,i,a,l,d){switch(i){case"focusin":return Li=zl(Li,n,i,a,l,d),!0;case"dragenter":return Ui=zl(Ui,n,i,a,l,d),!0;case"mouseover":return ji=zl(ji,n,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Ul.set(f,zl(Ul.get(f)||null,n,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,jl.set(f,zl(jl.get(f)||null,n,i,a,l,d)),!0}return!1}function L0(n){var i=Mr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Pu(n.priority,function(){if(a.tag===13){var l=bn();l=mi(l);var d=Pa(a,l);d!==null&&wn(d,a,l),vm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Tm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ur=l,a.target.dispatchEvent(l),Ur=null}else return i=nr(a),i!==null&&M0(i),n.blockedOn=a,!1;i.shift()}return!0}function U0(n,i,a){Zc(n)&&a.delete(i)}function N1(){wm=!1,Li!==null&&Zc(Li)&&(Li=null),Ui!==null&&Zc(Ui)&&(Ui=null),ji!==null&&Zc(ji)&&(ji=null),Ul.forEach(U0),jl.forEach(U0)}function Jc(n,i){n.blockedOn===i&&(n.blockedOn=null,wm||(wm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,N1)))}var eh=null;function j0(n){eh!==n&&(eh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===n&&(eh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],d=n[i+2];if(typeof l!="function"){if(bm(l||a)===null)continue;break}var f=nr(a);f!==null&&(n.splice(i,3),i-=3,bf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Bl(n){function i(I){return Jc(I,n)}Li!==null&&Jc(Li,n),Ui!==null&&Jc(Ui,n),ji!==null&&Jc(ji,n),Ul.forEach(i),jl.forEach(i);for(var a=0;a<zi.length;a++){var l=zi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<zi.length&&(a=zi[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&zi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[vt]||null;if(typeof f=="function")E||j0(a);else if(E){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[vt]||null)T=E.formAction;else if(bm(d)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),j0(a)}}}function Am(n){this._internalRoot=n}th.prototype.render=Am.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();k0(a,l,n,i,null,null)},th.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;k0(n.current,2,null,n,null,null),Pc(),i[In]=null}};function th(n){this._internalRoot=n}th.prototype.unstable_scheduleHydration=function(n){if(n){var i=gi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<zi.length&&i!==0&&i<zi[a].priority;a++);zi.splice(a,0,n),a===0&&L0(n)}};var z0=e.version;if(z0!=="19.1.0")throw Error(s(527,z0,"19.1.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var D1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{ut=nh.inject(D1),He=nh}catch{}}return Fl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",d=n_,f=r_,E=i_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=N0(n,1,!1,null,null,a,l,d,f,E,T,null),n[In]=i.current,am(n),new Am(i)},Fl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=n_,E=r_,T=i_,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=N0(n,1,!0,i,a??null,l,d,f,E,T,I,q),i.context=D0(null),a=i.current,l=bn(),l=mi(l),d=wi(l),d.callback=null,Ai(a,d,l),a=l,i.current.lanes=a,Or(i,a),pr(i),n[In]=i.current,am(n),new th(i)},Fl.version="19.1.0",Fl}var X0;function q1(){if(X0)return xm.exports;X0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=B1(),xm.exports}var F1=q1();const H1=KE(F1);var Hl={},W0;function G1(){if(W0)return Hl;W0=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=h,Hl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,D){const N=new u,$=b.length;if($<2)return N;const z=(D==null?void 0:D.decode)||v;let K=0;do{const Y=b.indexOf("=",K);if(Y===-1)break;const ne=b.indexOf(";",K),ae=ne===-1?$:ne;if(Y>ae){K=b.lastIndexOf(";",Y-1)+1;continue}const ce=m(b,K,Y),Te=g(b,Y,ce),V=b.slice(ce,Te);if(N[V]===void 0){let R=m(b,Y+1,ae),x=g(b,ae,R);const O=z(b.slice(R,x));N[V]=O}K=ae+1}while(K<$);return N}function m(b,D,N){do{const $=b.charCodeAt(D);if($!==32&&$!==9)return D}while(++D<N);return N}function g(b,D,N){for(;D>N;){const $=b.charCodeAt(--D);if($!==32&&$!==9)return D+1}return N}function p(b,D,N){const $=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const z=$(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let K=b+"="+z;if(!N)return K;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);K+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);K+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);K+="; Path="+N.path}if(N.expires){if(!S(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);K+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(K+="; HttpOnly"),N.secure&&(K+="; Secure"),N.partitioned&&(K+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return K}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Hl}G1();var Z0="popstate";function $1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:g=""}=la(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Km("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:ou(u))}function s(o,u){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Q1(e,t,s,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K1(){return Math.random().toString(36).substring(2,10)}function J0(r,e){return{usr:r.state,key:r.key,idx:e}}function Km(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:t,key:e&&e.key||s||K1()}}function ou({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function la(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Q1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function S(){m="POP";let z=v(),K=z==null?null:z-p;p=z,g&&g({action:m,location:$.location,delta:K})}function b(z,K){m="PUSH";let Y=Km($.location,z,K);t&&t(Y,z),p=v()+1;let ne=J0(Y,p),ae=$.createHref(Y);try{h.pushState(ne,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ae)}u&&g&&g({action:m,location:$.location,delta:1})}function D(z,K){m="REPLACE";let Y=Km($.location,z,K);t&&t(Y,z),p=v();let ne=J0(Y,p),ae=$.createHref(Y);h.replaceState(ne,"",ae),u&&g&&g({action:m,location:$.location,delta:0})}function N(z){return Y1(z)}let $={get action(){return m},get location(){return r(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Z0,S),g=z,()=>{o.removeEventListener(Z0,S),g=null}},createHref(z){return e(o,z)},createURL:N,encodeLocation(z){let K=N(z);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:D,go(z){return h.go(z)}};return $}function Y1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ou(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function QE(r,e,t="/"){return X1(r,e,t,!1)}function X1(r,e,t,s){let o=typeof e=="string"?la(e):e,u=li(o.pathname||"/",t);if(u==null)return null;let h=YE(r);W1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=lS(u);m=aS(h[g],p,s)}return m}function YE(r,e=[],t=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=si([s,g.relativePath]),v=t.concat(g);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),YE(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:iS(p,u.index),routesMeta:v})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of XE(u.path))o(u,h,g)}),e}function XE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=XE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function W1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:sS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Z1=/^:[\w-]+$/,J1=3,eS=2,tS=1,nS=10,rS=-2,ev=r=>r==="*";function iS(r,e){let t=r.split("/"),s=t.length;return t.some(ev)&&(s+=rS),e&&(s+=eS),t.filter(o=>!ev(o)).reduce((o,u)=>o+(Z1.test(u)?J1:u===""?tS:nS),s)}function sS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function aS(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Nh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!S&&p&&t&&!s[s.length-1].route.index&&(S=Nh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:si([u,S.pathname]),pathnameBase:dS(si([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=si([u,S.pathnameBase]))}return h}function Nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=oS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:S},b)=>{if(v==="*"){let N=m[b]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[b];return S&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function oS(r,e=!1,t=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function uS(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?la(r):r;return{pathname:t?t.startsWith("/")?t:cS(t,e):e,search:fS(s),hash:mS(o)}}function cS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ag(r){let e=hS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Sg(r,e,t,s=!1){let o;typeof r=="string"?o=la(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let g=uS(o,m),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var si=r=>r.join("/").replace(/\/\/+/g,"/"),dS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var WE=["POST","PUT","PATCH","DELETE"];new Set(WE);var pS=["GET",...WE];new Set(pS);var So=F.createContext(null);So.displayName="DataRouter";var Yh=F.createContext(null);Yh.displayName="DataRouterState";var ZE=F.createContext({isTransitioning:!1});ZE.displayName="ViewTransition";var yS=F.createContext(new Map);yS.displayName="Fetchers";var _S=F.createContext(null);_S.displayName="Await";var Zn=F.createContext(null);Zn.displayName="Navigation";var vu=F.createContext(null);vu.displayName="Location";var Jn=F.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Rg=F.createContext(null);Rg.displayName="RouteError";function vS(r,{relative:e}={}){st(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(Zn),{hash:o,pathname:u,search:h}=Eu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:si([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Ro(){return F.useContext(vu)!=null}function us(){return st(Ro(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(vu).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eT(r){F.useContext(Zn).static||F.useLayoutEffect(r)}function ua(){let{isDataRoute:r}=F.useContext(Jn);return r?kS():ES()}function ES(){st(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(So),{basename:e,navigator:t}=F.useContext(Zn),{matches:s}=F.useContext(Jn),{pathname:o}=us(),u=JSON.stringify(Ag(s)),h=F.useRef(!1);return eT(()=>{h.current=!0}),F.useCallback((g,p={})=>{if(qn(h.current,JE),!h.current)return;if(typeof g=="number"){t.go(g);return}let v=Sg(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:si([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,u,o,r])}F.createContext(null);function tT(){let{matches:r}=F.useContext(Jn),e=r[r.length-1];return e?e.params:{}}function Eu(r,{relative:e}={}){let{matches:t}=F.useContext(Jn),{pathname:s}=us(),o=JSON.stringify(Ag(t));return F.useMemo(()=>Sg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function TS(r,e){return nT(r,e)}function nT(r,e,t,s){var K;st(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(Zn),{matches:u}=F.useContext(Jn),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let Y=v&&v.path||"";rT(g,!v||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=us(),b;if(e){let Y=typeof e=="string"?la(e):e;st(p==="/"||((K=Y.pathname)==null?void 0:K.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),b=Y}else b=S;let D=b.pathname||"/",N=D;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let $=QE(r,{pathname:N});qn(v||$!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),qn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=RS($&&$.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:si([p,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:si([p,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,t,s);return e&&z?F.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},z):z}function bS(){let r=DS(),e=gS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,h)}var wS=F.createElement(bS,null),AS=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Jn.Provider,{value:this.props.routeContext},F.createElement(Rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SS({routeContext:r,match:e,children:t}){let s=F.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Jn.Provider,{value:r},t)}function RS(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:S}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||b){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let S,b=!1,D=null,N=null;t&&(S=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||wS,h&&(m<0&&v===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===v&&(b=!0,N=p.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),z=()=>{let K;return S?K=D:b?K=N:p.route.Component?K=F.createElement(p.route.Component,null):p.route.element?K=p.route.element:K=g,F.createElement(SS,{match:p,routeContext:{outlet:g,matches:$,isDataRoute:t!=null},children:K})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?F.createElement(AS,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:z(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):z()},null)}function xg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xS(r){let e=F.useContext(So);return st(e,xg(r)),e}function IS(r){let e=F.useContext(Yh);return st(e,xg(r)),e}function CS(r){let e=F.useContext(Jn);return st(e,xg(r)),e}function Ig(r){let e=CS(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function NS(){return Ig("useRouteId")}function DS(){var s;let r=F.useContext(Rg),e=IS("useRouteError"),t=Ig("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function kS(){let{router:r}=xS("useNavigate"),e=Ig("useNavigate"),t=F.useRef(!1);return eT(()=>{t.current=!0}),F.useCallback(async(o,u={})=>{qn(t.current,JE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var tv={};function rT(r,e,t){!e&&!tv[r]&&(tv[r]=!0,qn(!1,t))}F.memo(OS);function OS({routes:r,future:e,state:t}){return nT(r,void 0,t,e)}function iT({to:r,replace:e,state:t,relative:s}){st(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Zn);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Jn),{pathname:h}=us(),m=ua(),g=Sg(r,Ag(u),h,s==="path"),p=JSON.stringify(g);return F.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:s})},[m,p,s,e,t]),null}function Ws(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MS({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=la(t));let{pathname:g="/",search:p="",hash:v="",state:S=null,key:b="default"}=t,D=F.useMemo(()=>{let N=li(g,h);return N==null?null:{location:{pathname:N,search:p,hash:v,state:S,key:b},navigationType:s}},[h,g,p,v,S,b,s]);return qn(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(Zn.Provider,{value:m},F.createElement(vu.Provider,{children:e,value:D}))}function VS({children:r,location:e}){return TS(Qm(r),e)}function Qm(r,e=[]){let t=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){t.push.apply(t,Qm(s.props.children,u));return}st(s.type===Ws,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qm(s.props.children,u)),t.push(h)}),t}var _h="get",vh="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function PS(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function LS(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function US(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function jS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zS(r,e){return r.button===0&&(!e||e==="_self")&&!jS(r)}var rh=null;function BS(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var qS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(r){return r!=null&&!qS.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):r}function FS(r,e){let t,s,o,u,h;if(LS(r)){let m=r.getAttribute("action");s=m?li(m,e):null,t=r.getAttribute("method")||_h,o=km(r.getAttribute("enctype"))||vh,u=new FormData(r)}else if(PS(r)||US(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?li(g,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||_h,o=km(r.getAttribute("formenctype"))||km(m.getAttribute("enctype"))||vh,u=new FormData(m,r),!BS()){let{name:p,type:v,value:S}=r;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,S)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_h,s=null,o=vh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Cg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function HS(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $S(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await HS(u,t);return h.links?h.links():[]}return[]}));return XS(s.flat(1).filter(GS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nv(r,e,t,s,o,u){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var v;return t[p].pathname!==g.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var S;let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function KS(r,e,{includeHydrateFallback:t}={}){return QS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function QS(r){return[...new Set(r)]}function YS(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function XS(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(YS(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WS=new Set([100,101,204,205]);function ZS(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sT(){let r=F.useContext(So);return Cg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JS(){let r=F.useContext(Yh);return Cg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ng=F.createContext(void 0);Ng.displayName="FrameworkContext";function aT(){let r=F.useContext(Ng);return Cg(r,"You must render this element inside a <HydratedRouter> element"),r}function eR(r,e){let t=F.useContext(Ng),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=e,b=F.useRef(null);F.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=K=>{K.forEach(Y=>{h(Y.isIntersecting)})},z=new IntersectionObserver($,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[r]),F.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let D=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Gl(m,D),onBlur:Gl(g,N),onMouseEnter:Gl(p,D),onMouseLeave:Gl(v,N),onTouchStart:Gl(S,D)}]:[!1,b,{}]}function Gl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function tR({page:r,...e}){let{router:t}=sT(),s=F.useMemo(()=>QE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?F.createElement(rR,{page:r,matches:s,...e}):null}function nR(r){let{manifest:e,routeModules:t}=aT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return $S(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function rR({page:r,matches:e,...t}){let s=us(),{manifest:o,routeModules:u}=aT(),{basename:h}=sT(),{loaderData:m,matches:g}=JS(),p=F.useMemo(()=>nv(r,e,g,o,s,"data"),[r,e,g,o,s]),v=F.useMemo(()=>nv(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,$=!1;if(e.forEach(K=>{var ne;let Y=o.routes[K.route.id];!Y||!Y.hasLoader||(!p.some(ae=>ae.route.id===K.route.id)&&K.route.id in m&&((ne=u[K.route.id])!=null&&ne.shouldRevalidate)||Y.hasClientLoader?$=!0:N.add(K.route.id))}),N.size===0)return[];let z=ZS(r,h);return $&&N.size>0&&z.searchParams.set("_routes",e.filter(K=>N.has(K.route.id)).map(K=>K.route.id).join(",")),[z.pathname+z.search]},[h,m,s,o,p,e,r,u]),b=F.useMemo(()=>KS(v,o),[v,o]),D=nR(v);return F.createElement(F.Fragment,null,S.map(N=>F.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>F.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),D.map(({key:N,link:$})=>F.createElement("link",{key:N,...$})))}function iR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.6.3")}catch{}function sR({basename:r,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=$1({window:t,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),m=F.useCallback(g=>{F.startTransition(()=>h(g))},[h]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(MS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wh=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:S,...b},D){let{basename:N}=F.useContext(Zn),$=typeof p=="string"&&lT.test(p),z,K=!1;if(typeof p=="string"&&$&&(z=p,oT))try{let x=new URL(window.location.href),O=p.startsWith("//")?new URL(x.protocol+p):new URL(p),P=li(O.pathname,N);O.origin===x.origin&&P!=null?p=P+O.search+O.hash:K=!0}catch{qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=vS(p,{relative:o}),[ne,ae,ce]=eR(s,b),Te=uR(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:S});function V(x){e&&e(x),x.defaultPrevented||Te(x)}let R=F.createElement("a",{...b,...ce,href:z||Y,onClick:K||u?e:V,ref:iR(D,ae),target:g,"data-discover":!$&&t==="render"?"true":void 0});return ne&&!$?F.createElement(F.Fragment,null,R,F.createElement(tR,{page:Y})):R});Wh.displayName="Link";var aR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},v){let S=Eu(h,{relative:p.relative}),b=us(),D=F.useContext(Yh),{navigator:N,basename:$}=F.useContext(Zn),z=D!=null&&mR(S)&&m===!0,K=N.encodeLocation?N.encodeLocation(S).pathname:S.pathname,Y=b.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),ne=ne?ne.toLowerCase():null,K=K.toLowerCase()),ne&&$&&(ne=li(ne,$)||ne);const ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ce=Y===K||!o&&Y.startsWith(K)&&Y.charAt(ae)==="/",Te=ne!=null&&(ne===K||!o&&ne.startsWith(K)&&ne.charAt(K.length)==="/"),V={isActive:ce,isPending:Te,isTransitioning:z},R=ce?e:void 0,x;typeof s=="function"?x=s(V):x=[s,ce?"active":null,Te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return F.createElement(Wh,{...p,"aria-current":R,className:x,ref:v,style:O,to:h,viewTransition:m},typeof g=="function"?g(V):g)});aR.displayName="NavLink";var oR=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=_h,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:S,...b},D)=>{let N=dR(),$=fR(m,{relative:p}),z=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&lT.test(m),Y=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let ae=ne.nativeEvent.submitter,ce=(ae==null?void 0:ae.getAttribute("formmethod"))||h;N(ae||ne.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:S})};return F.createElement("form",{ref:D,method:z,action:$,onSubmit:s?g:Y,...b,"data-discover":!K&&r==="render"?"true":void 0})});oR.displayName="Form";function lR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(r){let e=F.useContext(So);return st(e,lR(r)),e}function uR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=ua(),g=us(),p=Eu(r,{relative:u});return F.useCallback(v=>{if(zS(v,e)){v.preventDefault();let S=t!==void 0?t:ou(g)===ou(p);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,t,s,e,r,o,u,h])}var cR=0,hR=()=>`__${String(++cR)}__`;function dR(){let{router:r}=uT("useSubmit"),{basename:e}=F.useContext(Zn),t=NS();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=FS(s,e);if(o.navigate===!1){let v=o.fetcherKey||hR();await r.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function fR(r,{relative:e}={}){let{basename:t}=F.useContext(Zn),s=F.useContext(Jn);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(r||".",{relative:e})},h=us();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:si([t,u.pathname])),ou(u)}function mR(r,e={}){let t=F.useContext(ZE);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=Eu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=li(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=li(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,u)!=null}[...WS];const gR=()=>{};var rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,v=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(b=64)),s.push(t[v],t[S],t[b],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const p=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new yR;const b=u<<2|m>>4;if(s.push(b),p!==64){const D=m<<4&240|p>>2;if(s.push(D),S!==64){const N=p<<6&192|S;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _R=function(r){const e=cT(r);return hT.encodeByteArray(e,!0)},Dh=function(r){return _R(r).replace(/\./g,"")},dT=function(r){try{return hT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=()=>vR().__FIREBASE_DEFAULTS__,TR=()=>{if(typeof process>"u"||typeof rv>"u")return;const r=rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&dT(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return gR()||ER()||TR()||bR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fT=r=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},mT=r=>{const e=fT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},gT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},pT=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Dh(JSON.stringify(t)),Dh(JSON.stringify(h)),""].join(".")}const eu={};function AR(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function SR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let iv=!1;function kg(r,e){if(typeof window>"u"||typeof document>"u"||!cs(window.location.host)||eu[r]===e||eu[r]||iv)return;eu[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=AR().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{iv=!0,h()},b}function v(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=SR(s),D=t("text"),N=document.getElementById(D)||document.createElement("span"),$=t("learnmore"),z=document.getElementById($)||document.createElement("a"),K=t("preprendIcon"),Y=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ne=b.element;m(ne),v(z,$);const ae=p();g(Y,K),ne.append(Y,N,z,ae),document.body.appendChild(ne)}u?(N.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function xR(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DR(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kR(){return!xR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class Nr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=VR,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?PR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Nr(o,m,s)}}function PR(r,e){return r.replace(LR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LR=/\{\$([^}]+)}/g;function UR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(sv(u)&&sv(h)){if(!na(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ql(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function jR(r,e){const t=new zR(r,e);return t.subscribe.bind(t)}class zR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");BR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r){return r&&r._delegate?r._delegate:r}class es{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new wR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(r){return r===Zs?void 0:r}function HR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const $R={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},KR=Oe.INFO,QR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},YR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=QR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=KR,this._logHandler=YR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const XR=(r,e)=>e.some(t=>r instanceof t);let av,ov;function WR(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,Ym=new WeakMap,vT=new WeakMap,Mm=new WeakMap,Mg=new WeakMap;function JR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Yi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&_T.set(t,r)}).catch(()=>{}),Mg.set(e,r),e}function ex(r){if(Ym.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Ym.set(r,e)}let Xm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||vT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tx(r){Xm=r(Xm)}function nx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Vm(this),e,...t);return vT.set(s,e.sort?e.sort():[e]),Yi(s)}:ZR().includes(r)?function(...e){return r.apply(Vm(this),e),Yi(_T.get(this))}:function(...e){return Yi(r.apply(Vm(this),e))}}function rx(r){return typeof r=="function"?nx(r):(r instanceof IDBTransaction&&ex(r),XR(r,WR())?new Proxy(r,Xm):r)}function Yi(r){if(r instanceof IDBRequest)return JR(r);if(Mm.has(r))return Mm.get(r);const e=rx(r);return e!==r&&(Mm.set(r,e),Mg.set(e,r)),e}const Vm=r=>Mg.get(r);function ix(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Yi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Yi(h.result),g.oldVersion,g.newVersion,Yi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const sx=["get","getKey","getAll","getAllKeys","count"],ax=["put","add","delete","clear"],Pm=new Map;function lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ax.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sx.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Pm.set(e,u),u}tx(r=>({...r,get:(e,t,s)=>lv(e,t)||r.get(e,t,s),has:(e,t)=>!!lv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function lx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",uv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Og("@firebase/app"),ux="@firebase/app-compat",cx="@firebase/analytics-compat",hx="@firebase/analytics",dx="@firebase/app-check-compat",fx="@firebase/app-check",mx="@firebase/auth",gx="@firebase/auth-compat",px="@firebase/database",yx="@firebase/data-connect",_x="@firebase/database-compat",vx="@firebase/functions",Ex="@firebase/functions-compat",Tx="@firebase/installations",bx="@firebase/installations-compat",wx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",Rx="@firebase/performance-compat",xx="@firebase/remote-config",Ix="@firebase/remote-config-compat",Cx="@firebase/storage",Nx="@firebase/storage-compat",Dx="@firebase/firestore",kx="@firebase/ai",Ox="@firebase/firestore-compat",Mx="firebase",Vx="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",Px={[Wm]:"fire-core",[ux]:"fire-core-compat",[hx]:"fire-analytics",[cx]:"fire-analytics-compat",[fx]:"fire-app-check",[dx]:"fire-app-check-compat",[mx]:"fire-auth",[gx]:"fire-auth-compat",[px]:"fire-rtdb",[yx]:"fire-data-connect",[_x]:"fire-rtdb-compat",[vx]:"fire-fn",[Ex]:"fire-fn-compat",[Tx]:"fire-iid",[bx]:"fire-iid-compat",[wx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[Rx]:"fire-perf-compat",[xx]:"fire-rc",[Ix]:"fire-rc-compat",[Cx]:"fire-gcs",[Nx]:"fire-gcs-compat",[Dx]:"fire-fst",[Ox]:"fire-fst-compat",[kx]:"fire-vertex","fire-js":"fire-js",[Mx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,Lx=new Map,Jm=new Map;function cv(r,e){try{r.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ra(r){const e=r.name;if(Jm.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const t of kh.values())cv(t,r);for(const t of Lx.values())cv(t,r);return!0}function Jh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Tu("app","Firebase",Ux);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=Vx;function ET(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=gT()),!t)throw Xi.create("no-options");const u=kh.get(o);if(u){if(na(t,u.options)&&na(s,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const h=new GR(o);for(const g of Jm.values())h.addComponent(g);const m=new jx(t,s,h);return kh.set(o,m),m}function Vg(r=Zm){const e=kh.get(r);if(!e&&r===Zm&&gT())return ET();if(!e)throw Xi.create("no-app",{appName:r});return e}function Tr(r,e,t){var s;let o=(s=Px[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(m.join(" "));return}ra(new es(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="firebase-heartbeat-database",Bx=1,lu="firebase-heartbeat-store";let Lm=null;function TT(){return Lm||(Lm=ix(zx,Bx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),Lm}async function qx(r){try{const t=(await TT()).transaction(lu),s=await t.objectStore(lu).get(bT(r));return await t.done,s}catch(e){if(e instanceof Nr)ui.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(t.message)}}}async function hv(r,e){try{const s=(await TT()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,bT(r)),await s.done}catch(t){if(t instanceof Nr)ui.warn(t.message);else{const s=Xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ui.warn(s.message)}}}function bT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=1024,Hx=30;class Gx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=dv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Hx){const h=Qx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dv(),{heartbeatsToSend:s,unsentEntries:o}=$x(this._heartbeatsCache.heartbeats),u=Dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ui.warn(t),""}}}function dv(){return new Date().toISOString().substring(0,10)}function $x(r,e=Fx){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),fv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),fv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return hv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return hv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function fv(r){return Dh(JSON.stringify({version:2,heartbeats:r})).length}function Qx(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(r){ra(new es("platform-logger",e=>new ox(e),"PRIVATE")),ra(new es("heartbeat",e=>new Gx(e),"PRIVATE")),Tr(Wm,uv,r),Tr(Wm,uv,"esm2017"),Tr("fire-js","")}Yx("");var Xx="firebase",Wx="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(Xx,Wx,"app");function Pg(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=wT,AT=new Tu("auth","Firebase",wT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Og("@firebase/auth");function Jx(r,...e){Oh.logLevel<=Oe.WARN&&Oh.warn(`Auth (${ca}): ${r}`,...e)}function Eh(r,...e){Oh.logLevel<=Oe.ERROR&&Oh.error(`Auth (${ca}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...e){throw Lg(r,...e)}function br(r,...e){return Lg(r,...e)}function ST(r,e,t){const s=Object.assign(Object.assign({},Zx()),{[e]:t});return new Tu("auth","Firebase",s).create(e,{appName:r.name})}function Wi(r){return ST(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return AT.create(r,...e)}function ve(r,e,...t){if(!r)throw Lg(e,...t)}function ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Eh(e),new Error(e)}function ci(r,e){r||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eI(){return mv()==="http:"||mv()==="https:"}function mv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eI()||CR()||"connection"in navigator)?navigator.onLine:!0}function nI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=RR()||NR()}get(){return tI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r,e){ci(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sI=new wu(3e4,6e4);function ha(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function hs(r,e,t,s,o={}){return xT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=bu(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:g},u);return IR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&cs(r.emulatorConfig.host)&&(p.credentials="include"),RT.fetch()(await IT(r,r.config.apiHost,t,m),p)})}async function xT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},rI),e);try{const o=new oI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw ih(r,"user-disabled",h);const v=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ST(r,v,p);Xn(r,v)}}catch(o){if(o instanceof Nr)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function ed(r,e,t,s,o={}){const u=await hs(r,e,t,s,o);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?Ug(r.config,o):`${r.config.apiScheme}://${o}`;return iI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function aI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),sI.get())})}}function ih(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=br(r,e,s);return o.customData._tokenResponse=t,o}function gv(r){return r!==void 0&&r.enterprise!==void 0}class lI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uI(r,e){return hs(r,"GET","/v2/recaptchaConfig",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,e){return hs(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return hs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hI(r,e=!1){const t=dt(r),s=await t.getIdToken(e),o=jg(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:tu(Um(o.auth_time)),issuedAtTime:tu(Um(o.iat)),expirationTime:tu(Um(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Um(r){return Number(r)*1e3}function jg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=dT(t);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pv(r){const e=jg(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Nr&&dI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await uu(r,Mh(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?CT(u.providerUserInfo):[],m=gI(r.providerData,h),g=r.isAnonymous,p=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),v=g?p:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tg(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,S)}async function mI(r){const e=dt(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function CT(r){return r.map(e=>{var{providerId:t}=e,s=Pg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){const t=await xT(r,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await IT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&cs(r.emulatorConfig.host)&&(g.credentials="include"),RT.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yI(r,e){return hs(r,"POST","/v2/accounts:revokeToken",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=pv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await pI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new mo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await uu(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hI(this,e)}reload(){return mI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await uu(this,cI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,g,p,v;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,z=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,K=(p=t.createdAt)!==null&&p!==void 0?p:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:ae,isAnonymous:ce,providerData:Te,stsTokenManager:V}=t;ve(ne&&V,e,"internal-error");const R=mo.fromJSON(this.name,V);ve(typeof ne=="string",e,"internal-error"),qi(S,e.name),qi(b,e.name),ve(typeof ae=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),qi(D,e.name),qi(N,e.name),qi($,e.name),qi(z,e.name),qi(K,e.name),qi(Y,e.name);const x=new Yn({uid:ne,auth:e,email:b,emailVerified:ae,displayName:S,isAnonymous:ce,photoURL:N,phoneNumber:D,tenantId:$,stsTokenManager:R,createdAt:K,lastLoginAt:Y});return Te&&Array.isArray(Te)&&(x.providerData=Te.map(O=>Object.assign({},O))),z&&(x._redirectEventId=z),x}static async _fromIdTokenResponse(e,t,s=!1){const o=new mo;o.updateFromServerResponse(t);const u=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const g=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function ii(r){ci(r instanceof Function,"Expected a class definition");let e=yv.get(r);return e?(ci(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,yv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NT.type="NONE";const _v=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r,e,t){return`firebase:${r}:${e}:${t}`}class go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Mh(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new go(ii(_v),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ii(_v);const h=Th(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const v=await p._get(h);if(v){let S;if(typeof v=="string"){const b=await Mh(e,{idToken:v}).catch(()=>{});if(!b)break;S=await Yn._fromGetAccountInfoResponse(e,b,v)}else S=Yn._fromJSON(e,v);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new go(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new go(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(LT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function DT(r=rn()){return/firefox\//i.test(r)}function kT(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(r=rn()){return/crios\//i.test(r)}function MT(r=rn()){return/iemobile/i.test(r)}function VT(r=rn()){return/android/i.test(r)}function PT(r=rn()){return/blackberry/i.test(r)}function LT(r=rn()){return/webos/i.test(r)}function zg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _I(r=rn()){var e;return zg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vI(){return DR()&&document.documentMode===10}function UT(r=rn()){return zg(r)||VT(r)||LT(r)||PT(r)||/windows phone/i.test(r)||MT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r,e=[]){let t;switch(r){case"Browser":t=vv(rn());break;case"Worker":t=`${vv(rn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e={}){return hs(r,"GET","/v2/passwordPolicy",ha(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=6;class wI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:bI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new EI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Wi(this));const t=e?dt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TI(this),t=new wI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await yI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Jx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xo(r){return dt(r)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=jR(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){td=r}function zT(r){return td.loadJS(r)}function RI(){return td.recaptchaEnterpriseScript}function xI(){return td.gapiScript}function II(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new NI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DI="recaptcha-enterprise",BT="NO_RECAPTCHA";class kI{constructor(e){this.type=DI,this.auth=xo(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{uI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new lI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;gv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(BT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&gv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=RI();g.length!==0&&(g+=m),zT(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function Tv(r,e,t,s=!1,o=!1){const u=new kI(r);let h;if(o)h=BT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bv(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Tv(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Tv(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,e){const t=Jh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(na(u,e??{}))return o;Xn(o,"already-initialized")}return t.initialize({options:e})}function MI(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ii);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function VI(r,e,t){const s=xo(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=qT(e),{host:h,port:m}=PI(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(na(p,s.config.emulator)&&na(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,cs(h)?(Dg(`${u}//${h}${g}`),kg("Auth",!0)):LI()}function qT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function PI(r){const e=qT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:wv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:wv(h)}}}function wv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function UI(r,e){return hs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e){return ed(r,"POST","/v1/accounts:signInWithPassword",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,e){return ed(r,"POST","/v1/accounts:signInWithEmailLink",ha(r,e))}async function BI(r,e){return ed(r,"POST","/v1/accounts:signInWithEmailLink",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Bg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new cu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new cu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,t,"signInWithPassword",jI);case"emailLink":return zI(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,s,"signUpPassword",UI);case"emailLink":return BI(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return ed(r,"POST","/v1/accounts:signInWithIdp",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="http://localhost";class ia extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Pg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:qI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(r){const e=Kl(Ql(r)).link,t=e?Kl(Ql(e)).deep_link_id:null,s=Kl(Ql(r)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||t||e||r}class qg{constructor(e){var t,s,o,u,h,m;const g=Kl(Ql(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,v=(s=g.oobCode)!==null&&s!==void 0?s:null,S=FI((o=g.mode)!==null&&o!==void 0?o:null);ve(p&&v&&S,"argument-error"),this.apiKey=p,this.operation=S,this.code=v,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=HI(e);try{return new qg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,t){return cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=qg.parseLink(t);return ve(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends FT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Au{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Hi.credential(t,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Au{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Au{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),h=Av(s);return new vo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Av(s);return new vo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Nr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ph(e,t,s,o)}}function HT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function GI(r,e,t=!1){const s=await uu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return vo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e,t=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await uu(r,HT(s,o,e,r),t);ve(u.idToken,s,"internal-error");const h=jg(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),vo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(r,e,t=!1){if(zn(r.app))return Promise.reject(Wi(r));const s="signIn",o=await HT(r,s,e),u=await vo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function KI(r,e){return GT(xo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r){const e=xo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function YI(r,e,t){return zn(r.app)?Promise.reject(Wi(r)):KI(dt(r),Io.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QI(r),s})}function XI(r,e,t,s){return dt(r).onIdTokenChanged(e,t,s)}function WI(r,e,t){return dt(r).beforeAuthStateChanged(e,t)}function ZI(r,e,t,s){return dt(r).onAuthStateChanged(e,t,s)}function JI(r){return dt(r).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1e3,tC=10;class KT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);vI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const nC=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(t.origin,u)),g=await rC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Fg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function sC(r){wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function aC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lC(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",uC=1,Uh="firebaseLocalStorage",ZT="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rd(r,e){return r.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function cC(){const r=indexedDB.deleteDatabase(WT);return new Su(r).toPromise()}function ng(){const r=indexedDB.open(WT,uC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Uh,{keyPath:ZT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await cC(),e(await ng()))})})}async function Sv(r,e,t){const s=rd(r,!0).put({[ZT]:e,value:t});return new Su(s).toPromise()}async function hC(r,e){const t=rd(r,!1).get(e),s=await new Su(t).toPromise();return s===void 0?null:s.value}function Rv(r,e){const t=rd(r,!0).delete(e);return new Su(t).toPromise()}const dC=800,fC=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>fC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(lC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new iC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await Sv(e,Lh,"1"),await Rv(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Sv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>hC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rd(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const mC=JT;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,e){return e?ii(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pC(r){return GT(r.auth,new Hg(r),r.bypassAuthState)}function yC(r){const{auth:e,user:t}=r;return ve(t,e,"internal-error"),$I(t,new Hg(r),r.bypassAuthState)}async function _C(r){const{auth:e,user:t}=r;return ve(t,e,"internal-error"),GI(t,new Hg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:Xn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new wu(2e3,1e4);class fo extends eb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="pendingRedirect",bh=new Map;class TC extends eb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const s=await bC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bC(r,e){const t=SC(e),s=AC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function wC(r,e){bh.set(r._key(),e)}function AC(r){return ii(r._redirectPersistence)}function SC(r){return Th(EC,r.config.apiKey,r.name)}async function RC(r,e,t=!1){if(zn(r.app))return Promise.reject(Wi(r));const s=xo(r),o=gC(s,e),h=await new TC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=10*60*1e3;class IC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!tb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(br(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e={}){return hs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kC=/^https?/;async function OC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await NC(r);for(const t of e)try{if(MC(t))return}catch{}Xn(r,"unauthorized-domain")}function MC(r){const e=eg(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!kC.test(t))return!1;if(DC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new wu(3e4,6e4);function Iv(){const r=wr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function PC(r){return new Promise((e,t)=>{var s,o,u;function h(){Iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iv(),t(br(r,"network-request-failed"))},timeout:VC.get()})}if(!((o=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=wr().gapi)===null||u===void 0)&&u.load)h();else{const m=II("iframefcb");return wr()[m]=()=>{gapi.load?h():t(br(r,"network-request-failed"))},zT(`${xI()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw wh=null,e})}let wh=null;function LC(r){return wh=wh||PC(r),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new wu(5e3,15e3),jC="__/auth/iframe",zC="emulator/auth/iframe",BC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Ug(e,zC):`https://${r.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:r.name,v:ca},o=qC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${bu(s).slice(1)}`}async function HC(r){const e=await LC(r),t=wr().gapi;return ve(t,r,"internal-error"),e.open({where:document.body,url:FC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=br(r,"network-request-failed"),m=wr().setTimeout(()=>{u(h)},UC.get());function g(){wr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,KC=600,QC="_blank",YC="http://localhost";class Cv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XC(r,e,t,s=$C,o=KC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},GC),{width:s.toString(),height:o.toString(),top:u,left:h}),p=rn().toLowerCase();t&&(m=OT(p)?QC:t),DT(p)&&(e=e||YC,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[D,N])=>`${b}${D}=${N},`,"");if(_I(p)&&m!=="_self")return WC(e||"",m),new Cv(null);const S=window.open(e||"",m,v);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new Cv(S)}function WC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__/auth/handler",JC="emulator/auth/handler",e2=encodeURIComponent("fac");async function Nv(r,e,t,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ca,eventId:o};if(e instanceof FT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",UR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))h[v]=S}if(e instanceof Au){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await r._getAppCheckToken(),p=g?`#${e2}=${encodeURIComponent(g)}`:"";return`${t2(r)}?${bu(m).slice(1)}${p}`}function t2({config:r}){return r.emulator?Ug(r,JC):`https://${r.authDomain}/${ZC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=RC,this._overrideRedirectResult=wC}async _openPopup(e,t,s,o){var u;ci((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Nv(e,t,s,eg(),o);return XC(e,h,Fg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Nv(e,t,s,eg(),o);return sC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ci(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await HC(e),s=new IC(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jm,{type:jm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[jm];h!==void 0&&t(!!h),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UT()||kT()||zg()}}const r2=n2;var Dv="@firebase/auth",kv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(r){ra(new es("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(r)},p=new AI(s,o,u,g);return MI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ra(new es("auth-internal",e=>{const t=xo(e.getProvider("auth").getImmediate());return(s=>new i2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(Dv,kv,s2(r)),Tr(Dv,kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=5*60,l2=pT("authIdTokenMaxAge")||o2;let Ov=null;const u2=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>l2)return;const o=t==null?void 0:t.token;Ov!==o&&(Ov=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function c2(r=Vg()){const e=Jh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=OI(r,{popupRedirectResolver:r2,persistence:[mC,nC,YT]}),s=pT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=u2(u.toString());WI(t,h,()=>h(t.currentUser)),XI(t,m=>h(m))}}const o=fT("auth");return o&&VI(t,`http://${o}`),t}function h2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SI({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=br("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",h2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,nb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function x(){}x.prototype=R.prototype,V.D=R.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(O,P,U){for(var C=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)C[zt-2]=arguments[zt];return R.prototype[P].apply(O,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,x){x||(x=0);var O=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)O[P]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(P=0;16>P;++P)O[P]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=V.g[0],x=V.g[1],P=V.g[2];var U=V.g[3],C=R+(U^x&(P^U))+O[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=U+(P^R&(x^P))+O[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(x^U&(R^x))+O[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=x+(R^P&(U^R))+O[3]+3250441966&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(U^x&(P^U))+O[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(P^R&(x^P))+O[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(x^U&(R^x))+O[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=x+(R^P&(U^R))+O[7]+4249261313&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(U^x&(P^U))+O[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(P^R&(x^P))+O[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(x^U&(R^x))+O[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=x+(R^P&(U^R))+O[11]+2304563134&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(U^x&(P^U))+O[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(P^R&(x^P))+O[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(x^U&(R^x))+O[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=x+(R^P&(U^R))+O[15]+1236535329&4294967295,x=P+(C<<22&4294967295|C>>>10),C=R+(P^U&(x^P))+O[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^P&(R^x))+O[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(U^R))+O[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(P^U))+O[0]+3921069994&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(P^U&(x^P))+O[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^P&(R^x))+O[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(U^R))+O[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(P^U))+O[4]+3889429448&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(P^U&(x^P))+O[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^P&(R^x))+O[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(U^R))+O[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(P^U))+O[8]+1163531501&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(P^U&(x^P))+O[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^P&(R^x))+O[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^x&(U^R))+O[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(P^U))+O[12]+2368359562&4294967295,x=P+(C<<20&4294967295|C>>>12),C=R+(x^P^U)+O[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^P)+O[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^x)+O[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=x+(P^U^R)+O[14]+4259657740&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(x^P^U)+O[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^P)+O[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^x)+O[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=x+(P^U^R)+O[10]+3200236656&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(x^P^U)+O[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^P)+O[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^x)+O[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=x+(P^U^R)+O[6]+76029189&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(x^P^U)+O[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^P)+O[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^x)+O[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=x+(P^U^R)+O[2]+3299628645&4294967295,x=P+(C<<23&4294967295|C>>>9),C=R+(P^(x|~U))+O[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~P))+O[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~x))+O[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=x+(U^(P|~R))+O[5]+4237533241&4294967295,x=P+(C<<21&4294967295|C>>>11),C=R+(P^(x|~U))+O[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~P))+O[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~x))+O[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=x+(U^(P|~R))+O[1]+2240044497&4294967295,x=P+(C<<21&4294967295|C>>>11),C=R+(P^(x|~U))+O[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~P))+O[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~x))+O[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=x+(U^(P|~R))+O[13]+1309151649&4294967295,x=P+(C<<21&4294967295|C>>>11),C=R+(P^(x|~U))+O[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~P))+O[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~x))+O[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=x+(U^(P|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var x=R-this.blockSize,O=this.B,P=this.h,U=0;U<R;){if(P==0)for(;U<=x;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(O[P++]=V.charCodeAt(U++),P==this.blockSize){o(this,O),P=0;break}}else for(;U<R;)if(O[P++]=V[U++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var x=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=x&255,x/=256;for(this.u(V),V=Array(16),R=x=0;4>R;++R)for(var O=0;32>O;O+=8)V[x++]=this.g[R]>>>O&255;return V};function u(V,R){var x=m;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=R(V)}function h(V,R){this.h=R;for(var x=[],O=!0,P=V.length-1;0<=P;P--){var U=V[P]|0;O&&U==R||(x[P]=U,O=!1)}this.g=x}var m={};function g(V){return-128<=V&&128>V?u(V,function(R){return new h([R|0],0>R?-1:0)}):new h([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return z(p(-V));for(var R=[],x=1,O=0;V>=x;O++)R[O]=V/x|0,x*=4294967296;return new h(R,0)}function v(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return z(v(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),O=S,P=0;P<V.length;P+=8){var U=Math.min(8,V.length-P),C=parseInt(V.substring(P,P+U),R);8>U?(U=p(Math.pow(R,U)),O=O.j(U).add(p(C))):(O=O.j(x),O=O.add(p(C)))}return O}var S=g(0),b=g(1),D=g(16777216);r=h.prototype,r.m=function(){if($(this))return-z(this).m();for(var V=0,R=1,x=0;x<this.g.length;x++){var O=this.i(x);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if($(this))return"-"+z(this).toString(V);for(var R=p(Math.pow(V,6)),x=this,O="";;){var P=ae(x,R).g;x=K(x,P.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=P,N(x))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function $(V){return V.h==-1}r.l=function(V){return V=K(this,V),$(V)?-1:N(V)?0:1};function z(V){for(var R=V.g.length,x=[],O=0;O<R;O++)x[O]=~V.g[O];return new h(x,~V.h).add(b)}r.abs=function(){return $(this)?z(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0,P=0;P<=R;P++){var U=O+(this.i(P)&65535)+(V.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);O=C>>>16,U&=65535,C&=65535,x[P]=C<<16|U}return new h(x,x[x.length-1]&-2147483648?-1:0)};function K(V,R){return V.add(z(R))}r.j=function(V){if(N(this)||N(V))return S;if($(this))return $(V)?z(this).j(z(V)):z(z(this).j(V));if($(V))return z(this.j(z(V)));if(0>this.l(D)&&0>V.l(D))return p(this.m()*V.m());for(var R=this.g.length+V.g.length,x=[],O=0;O<2*R;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<V.g.length;P++){var U=this.i(O)>>>16,C=this.i(O)&65535,zt=V.i(P)>>>16,lt=V.i(P)&65535;x[2*O+2*P]+=C*lt,Y(x,2*O+2*P),x[2*O+2*P+1]+=U*lt,Y(x,2*O+2*P+1),x[2*O+2*P+1]+=C*zt,Y(x,2*O+2*P+1),x[2*O+2*P+2]+=U*zt,Y(x,2*O+2*P+2)}for(O=0;O<R;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=R;O<2*R;O++)x[O]=0;return new h(x,0)};function Y(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function ne(V,R){this.g=V,this.h=R}function ae(V,R){if(N(R))throw Error("division by zero");if(N(V))return new ne(S,S);if($(V))return R=ae(z(V),R),new ne(z(R.g),z(R.h));if($(R))return R=ae(V,z(R)),new ne(z(R.g),R.h);if(30<V.g.length){if($(V)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var x=b,O=R;0>=O.l(V);)x=ce(x),O=ce(O);var P=Te(x,1),U=Te(O,1);for(O=Te(O,2),x=Te(x,2);!N(O);){var C=U.add(O);0>=C.l(V)&&(P=P.add(x),U=C),O=Te(O,1),x=Te(x,1)}return R=K(V,P.j(R)),new ne(P,R)}for(P=S;0<=V.l(R);){for(x=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=p(x),C=U.j(R);$(C)||0<C.l(V);)x-=O,U=p(x),C=U.j(R);N(U)&&(U=b),P=P.add(U),V=K(V,C)}return new ne(P,V)}r.A=function(V){return ae(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0;O<R;O++)x[O]=this.i(O)&V.i(O);return new h(x,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0;O<R;O++)x[O]=this.i(O)|V.i(O);return new h(x,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),x=[],O=0;O<R;O++)x[O]=this.i(O)^V.i(O);return new h(x,this.h^V.h)};function ce(V){for(var R=V.g.length+1,x=[],O=0;O<R;O++)x[O]=V.i(O)<<1|V.i(O-1)>>>31;return new h(x,V.h)}function Te(V,R){var x=R>>5;R%=32;for(var O=V.g.length-x,P=[],U=0;U<O;U++)P[U]=0<R?V.i(U+x)>>>R|V.i(U+x+1)<<32-R:V.i(U+x);return new h(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,Zi=h}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rb,Yl,ib,Ah,rg,sb,ab,ob;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,b.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function N(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,Q){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return y.prototype[j].apply(A,se)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const j=c.length||0,Q=A.length||0;c.length=j+Q;for(let se=0;se<Q;se++)c[j+se]=A[se]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ce=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Te(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class zt{constructor(){this.h=this.g=null}add(y,_){const A=lt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ze=new zt,k=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ae(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ie);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),et=0;function er(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++et,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dr(c){this.src=c,this.g={},this.h=0}Dr.prototype.add=function(c,y,_,A,j){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=gs(c,y,A,j);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new er(y,this.src,Q,!!A,j),y.fa=_,c.push(y)),y};function ms(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(A,j,1),Q&&(fi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function gs(c,y,_,A){for(var j=0;j<c.length;++j){var Q=c[j];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==A)return j}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),Mo={};function Ou(c,y,_,A,j){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ou(c,y[Q],_,A,j);return null}return _=Mu(_),c&&c[Ot]?c.K(y,_,p(A)?!!A.capture:!1,j):xn(c,y,_,!1,A,j)}function xn(c,y,_,A,j,Q){if(!y)throw Error("Invalid event type");var se=p(j)?!!j.capture:!!j,Ve=pa(c);if(Ve||(c[ps]=Ve=new Dr(c)),_=Ve.add(y,_,A,se,Q),_.proxy)return _;if(A=Ad(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(ys(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ad(){function c(_){return y.call(c.src,c.listener,_)}const y=Sd;return c}function Vo(c,y,_,A,j){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Vo(c,y[Q],_,A,j);else A=p(A)?!!A.capture:!!A,_=Mu(_),c&&c[Ot]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=gs(Q,_,A,j),-1<_&&(fi(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gs(y,_,A,j)),(_=-1<c?y[c]:null)&&ga(_))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])ms(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ys(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=pa(y))?(ms(_,c),_.h==0&&(_.src=null,y[ps]=null)):fi(c)}}}function ys(c){return c in Mo?Mo[c]:Mo[c]="on"+c}function Sd(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ga(c),c=_.call(A,y)}return c}function pa(c){return c=c[ps],c instanceof Dr?c:null}var Po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(y){return c.handleEvent(y)}),c[Po])}function ut(){le.call(this),this.i=new Dr(this),this.M=this,this.F=null}N(ut,le),ut.prototype[Ot]=!0,ut.prototype.removeEventListener=function(c,y,_,A){Vo(this,c,y,_,A)};function He(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var j=y;y=new ie(A,c),O(y,j)}if(j=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=y.g=_[Q];j=gn(se,A,!0,y)&&j}if(se=y.g=c,j=gn(se,A,!0,y)&&j,j=gn(se,A,!1,y)&&j,_)for(Q=0;Q<_.length;Q++)se=y.g=_[Q],j=gn(se,A,!1,y)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)fi(_[A]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ut.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function gn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Q=0;Q<y.length;++Q){var se=y[Q];if(se&&!se.da&&se.capture==_){var Ve=se.listener,It=se.ha||se.src;se.fa&&ms(c.i,se),j=Ve.call(It,A)!==!1&&j}}return j&&!A.defaultPrevented}function Wt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Rd extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){le.call(this),this.h=c,this.g={}}N(_s,le);var vs=[];function Es(c){Te(c.g,function(y,_){this.g.hasOwnProperty(_)&&ga(y)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Es(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,ya=m.JSON.parse,Ts=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function Uo(c){return c.h||(c.h=c.i())}function jo(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ie.call(this,"d")}N(Or,ie);function zo(){ie.call(this,"c")}N(zo,ie);var tr={},Bo=null;function mi(){return Bo=Bo||new ut}tr.La="serverreachability";function _a(c){ie.call(this,tr.La,c)}N(_a,ie);function gi(c){const y=mi();He(y,new _a(y))}tr.STAT_EVENT="statevent";function Pu(c,y){ie.call(this,tr.STAT_EVENT,c),this.stat=y}N(Pu,ie);function rt(c){const y=mi();He(y,new Pu(y,c))}tr.Ma="timingevent";function xt(c,y){ie.call(this,tr.Ma,c),this.size=y}N(xt,ie);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function qo(c,y,_,A,j,Q){c.info(function(){if(c.g)if(Q)for(var se="",Ve=Q.split("&"),It=0;It<Ve.length;It++){var Pe=Ve[It].split("=");if(1<Pe.length){var Vt=Pe[0];Pe=Pe[1];var Ct=Vt.split("_");se=2<=Ct.length&&Ct[1]=="type"?se+(Vt+"="+Pe+"&"):se+(Vt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+se})}function xd(c,y,_,A,j,Q,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+Q+" "+se})}function pi(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bs(c,_)+(A?" "+A:"")})}function Lu(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function bs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Fn(_)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function rr(){}N(rr,Lo),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},nr=new rr;function sn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Fo={},va={};function Hn(c,y,_){c.L=1,c.v=xs(pn(y)),c.m=_,c.P=!0,Vr(c,null)}function Vr(c,y){c.F=Date.now(),ws(c),c.A=pn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Yo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new gt,c.g=Ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Rd(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(vs[0]=j.toString()),j=vs);for(var Q=0;Q<j.length;Q++){var se=Ou(_,j[Q],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),gi(),qo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&kn(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=kn(this.g);var y=this.g.Ba();const Fr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Fr?gi(3):gi(2)),_i(this);var _=this.g.Z();this.X=_;t:if(Uu(this)){var A=Gu(this.g);c="";var j=A.length,Q=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ir(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,xd(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,It=this.g;if((Ve=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)pi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,As(this,_);else{this.o=!1,this.s=3,rt(12),Bt(this),ir(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<se.length;)if(qt=ju(this,se),qt==va){Ct==4&&(this.s=4,rt(14),_=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Fo){this.s=4,rt(15),pi(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else pi(this.i,this.l,qt,null),As(this,qt);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||se.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)pi(this.i,this.l,se,"[Invalid Chunked Response]"),Bt(this),ir(this);else if(0<se.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Vs(Vt),Vt.M=!0,rt(11))}}else pi(this.i,this.l,se,null),As(this,se);Ct==4&&Bt(this),this.o&&!this.J&&(Ct==4?Xu(this.j,this):(this.o=!1,ws(this)))}else kd(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Bt(this),ir(this)}}}catch{}finally{}};function Uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ju(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?va:(_=Number(y.substring(_,A)),isNaN(_)?Fo:(A+=1,A+_>y.length?va:(y=y.slice(A,A+_),c.C=A+_,y)))}sn.prototype.cancel=function(){this.J=!0,Bt(this)};function ws(c){c.S=Date.now()+c.I,zu(c,c.I)}function zu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(b(c.ba,c),y)}function _i(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lu(this.i,this.A),this.L!=2&&(gi(),rt(17)),Bt(this),this.s=2,ir(this)):zu(this,this.S-c)};function ir(c){c.j.G==0||c.J||Xu(c.j,c)}function Bt(c){_i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function As(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ho(_.h,c))){if(!c.K&&Ho(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Da(_),Ca(_);else break e;el(_),rt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(b(_.Za,_),6e3));if(1>=Ta(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qr(_,11)}else if((c.K||_.g==c)&&Da(_),!Y(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Pe=j[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Vt=Pe[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Ct=Pe[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Fr=Pe[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(A=1.5*Fr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const qt=c.g;if(qt){const hr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var Q=A.h;Q.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ba(Q,Q.h),Q.h=null))}if(A.D){const nl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.ya=nl,Ke(A.I,A.D,nl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Zu(A,A.J?A.ia:null,A.W),se.K){an(A.h,se);var Ve=se,It=A.L;It&&(Ve.I=It),Ve.B&&(_i(Ve),ws(Ve)),A.g=se}else Qu(A);0<_.i.length&&Na(_)}else Pe[0]!="stop"&&Pe[0]!="close"||qr(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?qr(_,7):Zo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}gi(4)}catch{}}var Bu=class{constructor(c,y){this.g=c,this.map=y}};function Pr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ta(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ba(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pr.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function Id(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function wa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function $o(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=wa(c),A=Id(c),j=A.length,Q=0;Q<j;Q++)y.call(void 0,A[Q],_&&_[Q],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var Q=c[_].substring(0,A);j=c[_].substring(A+1)}else Q=c[_];y(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,_=new Ur;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Lr(this,_),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),vi(this,y[4]),this.l=Cn(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Is(y,Ko,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Is(_,_.charAt(0)=="/"?Nd:Qo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Is(_,Aa)),c.join("")};function pn(c){return new Et(c)}function Rs(c,y,_){c.j=_?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Lr(c,y,_){y instanceof Ur?(c.i=y,Fu(c.i,c.h)):(_||(y=Is(y,Dd)),c.i=new Ur(y,c.h))}function Ke(c,y,_){c.i.set(y,_)}function xs(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,qu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Qo=/[#\?:]/g,Nd=/[#\?]/g,Dd=/[#\?@]/g,Aa=/#/g;function Ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Cd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ur.prototype,r.add=function(c,y){Nn(this),this.i=null,c=sr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function jr(c,y){Nn(c),y=sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zr(c,y){return Nn(c),y=sr(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const j=c[A];for(let Q=0;Q<j.length;Q++)_.push(y[A])}return _},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")zr(this,c)&&(y=y.concat(this.g.get(sr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=sr(this,c),zr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yo(c,y,_){jr(c,y),0<_.length&&(c.i=null,c.g.set(sr(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Q=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var j=Q;se[A]!==""&&(j+="="+encodeURIComponent(String(se[A]))),c.push(j)}}return this.i=c.join("&")};function sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(jr(this,A),Yo(this,j,_))},c)),c.j=y}function Cs(c,y){const _=new In;if(m.Image){const A=new Image;A.onload=D(Dn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Dn,_,"TestLoadImage: error",!1,y,A),A.onabort=D(Dn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Dn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Gn(c,y){const _=new In,A=new AbortController,j=setTimeout(()=>{A.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(j),Q.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function Ns(){this.g=new Ts}function ar(c,y,_){const A=_||"";try{$o(c,function(j,Q){let se=j;p(j)&&(se=Fn(j)),y.push(A+Q+"="+encodeURIComponent(se))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Ei,Lo),Ei.prototype.g=function(){return new Br(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function Br(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Br,ut),r=Br.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,lr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?or(this):lr(this),this.readyState==3&&Xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,or(this))},r.Qa=function(c){this.g&&(this.response=c,or(this))},r.ga=function(){this.g&&or(this)};function or(c){c.readyState=4,c.l=null,c.j=null,c.v=null,lr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wo(c){let y="";return Te(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Wo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,y,_))}function qe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qe,ut);var Sa=/^https?$/i,Ds=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?Uo(this.o):Uo(nr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Hu(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ds,y,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Hu(this,Q)}};function Hu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ra(c),ur(c)}function Ra(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},r.bb=function(){xa(this)};function xa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)Wt(c.Ea,0,c);else if(He(c,"readystatechange"),kn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var j=String(c.D).match(Ss)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!Sa.test(j?j.toLowerCase():"")}_=A}if(_)He(c,"complete"),He(c,"success");else{c.m=6;try{var Q=2<kn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ra(c)}}finally{ur(c)}}}}function ur(c,y){if(c.g){ks(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||He(c,"ready");try{_.onreadystatechange=A}catch{}}}function ks(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ya(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kd(c){const y={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Y(c[A]))continue;var _=P(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[j]||[];y[j]=Q,Q.push(_)}V(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pr(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){rt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Zu(this,null,this.W),Na(this)};function Zo(c){if($u(c),c.G==3){var y=c.U++,_=pn(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),Ms(c,_),y=new sn(c,c.j,y),y.L=2,y.v=xs(pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ws(y)}Wu(c)}function Ca(c){c.g&&(Vs(c),c.g.cancel(),c.g=null)}function $u(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!Ea(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||k(),me||(oe(),me=!0),ze.add(y,c),c.B=0}}function Od(c,y){return Ta(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(b(c.Ga,c,y),tl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new sn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ku(this,j,y),_=pn(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Ms(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Wo(Q)))+"&"+y:this.m&&Mt(_,this.m,Q)),ba(this.h,j),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),j.T=!0,Hn(j,_,null)):Hn(j,_,y),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||Ea(this.h)||Jo(this))};function Jo(c,y){var _;y?_=y.l:_=c.U++;const A=pn(c.I);Ke(A,"SID",c.K),Ke(A,"RID",_),Ke(A,"AID",c.T),Ms(c,A),c.m&&c.o&&Mt(A,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ba(c.h,_),Hn(_,A,y)}function Ms(c,y){c.H&&Te(c.H,function(_,A){Ke(y,A,_)}),c.l&&$o({},function(_,A){Ke(y,A,_)})}function Ku(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=j[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let Ve=!0;for(let It=0;It<_;It++){let Pe=j[It].g;const Vt=j[It].map;if(Pe-=Q,0>Pe)Q=Math.max(0,j[It].g-100),Ve=!1;else try{ar(Vt,se,"req"+Pe+"_")}catch{A&&A(Vt)}}if(Ve){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||k(),me||(oe(),me=!0),ze.add(y,c),c.v=0}}function el(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(b(c.Fa,c),tl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ca(this),Yu(this))};function Vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Ms(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=xs(pn(y)),_.m=null,_.P=!0,Vr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),el(this),rt(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Xu(c,y){var _=null;if(c.g==y){Da(c),Vs(c),c.g=null;var A=2}else if(Ho(c.h,y))_=y.D,an(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=mi(),He(A,new xt(A,_)),Na(c)}else Qu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&Od(c,y)||A==2&&el(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function tl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function qr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const j=!A;A=new Et(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rs(A,"https"),xs(A),j?Cs(A.toString(),_):Gn(A.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),Wu(c),$u(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var A=_ instanceof Et?pn(_):new Et(_);if(A.g!="")y&&(A.g=y+"."+A.g),vi(A,A.s);else{var j=m.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Q=new Et(null);A&&Rs(Q,A),y&&(Q.g=y),j&&vi(Q,j),_&&(Q.l=_),A=Q}return _=c.D,y=c.ya,_&&y&&Ke(A,_,y),Ke(A,"VER",c.la),Ms(c,A),A}function Ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new Ei({eb:_})):new qe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ut.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}N(on,ut),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Zo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new Bu(y.Ya++,c)),y.G==3&&Na(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,on.aa.N.call(this)};function tc(c){Or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(tc,Or);function nc(){zo.call(this),this.status=1}N(nc,zo);function cr(c){this.g=c}N(cr,ec),cr.prototype.ua=function(){He(this.g,"a")},cr.prototype.ta=function(c){He(this.g,new tc(c))},cr.prototype.sa=function(c){He(this.g,new nc)},cr.prototype.ra=function(){He(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,ob=function(){return new ka},ab=function(){return mi()},sb=tr,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Ah=yi,Mr.COMPLETE="complete",ib=Mr,jo.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Yl=jo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,rb=qe}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const Vv="@firebase/firestore",Pv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Og("@firebase/firestore");function lo(){return sa.logLevel}function he(r,...e){if(sa.logLevel<=Oe.DEBUG){const t=e.map(Gg);sa.debug(`Firestore (${Co}): ${r}`,...t)}}function hi(r,...e){if(sa.logLevel<=Oe.ERROR){const t=e.map(Gg);sa.error(`Firestore (${Co}): ${r}`,...t)}}function ts(r,...e){if(sa.logLevel<=Oe.WARN){const t=e.map(Gg);sa.warn(`Firestore (${Co}): ${r}`,...t)}}function Gg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,lb(r,s,t)}function lb(r,e,t){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw hi(s),new Error(s)}function Fe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||lb(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class f2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m2{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new ub(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class g2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ie(r,e){return r<e?-1:r>e?1:0}function ig(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=cb(),h=v2(u.encode(Uv(r,t)),u.encode(Uv(e,t)));return h!==0?h:Ie(s,o)}}t+=s>65535?2:1}return Ie(r.length,e.length)}function Uv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function v2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ie(r[t],e[t]);return Ie(r.length,e.length)}function Eo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__name__";class vr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=vr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ie(e.length,t.length)}static compareSegments(e,t){const s=vr.isNumericId(e),o=vr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?vr.extractNumericId(e).compare(vr.extractNumericId(t)):ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class nt extends vr{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const E2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends vr{construct(e,t,s){return new Qt(e,t,s)}static isValidIdentifier(e){return E2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new Qt([jv])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function T2(r,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zv(r){if(!ge.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(ge.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function db(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ns(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=id(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ru(r,e){if(!db(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ue(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Fv=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Fv);return new Je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qv)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:St("string",Je._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Je(0,0))}static max(){return new Ae(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function b2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Je(t+1,0):new Je(t,s));return new rs(o,ge.empty(),e)}function w2(r){return new rs(r.readTime,r.key,hu)}class rs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new rs(Ae.min(),ge.empty(),hu)}static max(){return new rs(Ae.max(),ge.empty(),hu)}}function A2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==S2)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(v=>{h[p]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function x2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Do(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=-1;function ad(r){return r==null}function jh(r){return r===0&&1/r==-1/0}function I2(r){return typeof r=="number"&&Number.isInteger(r)&&!jh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="";function C2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Hv(e)),e=N2(r.get(t),e);return Hv(e)}function N2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case fb:t+="";break;default:t+=u}}return t}function Hv(r){return r+fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ds(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function mb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Kt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new An([])}unionWith(e){let t=new kt(Qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gb("Invalid base64 string: "+u):u}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const D2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=D2.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="server_timestamp",yb="__type__",_b="__previous_value__",vb="__local_write_time__";function Qg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[yb])===null||t===void 0?void 0:t.stringValue)===pb}function od(r){const e=r.mapValue.fields[_b];return Qg(e)?od(e):e}function du(r){const e=is(r.mapValue.fields[vb].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,s,o,u,h,m,g,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const zh="(default)";class fu{constructor(e,t){this.projectId=e,this.database=t||zh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",O2="__max__",oh={mapValue:{}},Tb="__vector__",Bh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qg(r)?4:V2(r)?9007199254740991:M2(r)?10:11:Ee(28295,{value:r})}function Cr(r,e){if(r===e)return!0;const t=as(r);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=is(o.timestampValue),m=is(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?jh(h)===jh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Gv(h)!==Gv(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Cr(h[g],m[g])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function mu(r,e){return(r.values||[]).find(t=>Cr(t,e))!==void 0}function To(r,e){if(r===e)return 0;const t=as(r),s=as(e);if(t!==s)return Ie(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return Kv(r.timestampValue,e.timestampValue);case 4:return Kv(du(r),du(e));case 5:return ig(r.stringValue,e.stringValue);case 6:return function(u,h){const m=ss(u),g=ss(h);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Ie(m[p],g[p]);if(v!==0)return v}return Ie(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ie(_t(u.latitude),_t(h.latitude));return m!==0?m:Ie(_t(u.longitude),_t(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Qv(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,p,v;const S=u.fields||{},b=h.fields||{},D=(m=S[Bh])===null||m===void 0?void 0:m.arrayValue,N=(g=b[Bh])===null||g===void 0?void 0:g.arrayValue,$=Ie(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:Qv(D,N)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===oh.mapValue&&h===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(h===oh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let S=0;S<g.length&&S<v.length;++S){const b=ig(g[S],v[S]);if(b!==0)return b;const D=To(m[g[S]],p[v[S]]);if(D!==0)return D}return Ie(g.length,v.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function Kv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const t=is(r),s=is(e),o=Ie(t.seconds,s.seconds);return o!==0?o:Ie(t.nanos,s.nanos)}function Qv(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=To(t[o],s[o]);if(u)return u}return Ie(t.length,s.length)}function bo(r){return sg(r)}function sg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=is(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ss(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=sg(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sg(t.fields[h])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function Sh(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=od(r);return e?16+Sh(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Sh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ds(s.fields,(u,h)=>{o+=u.length+Sh(h)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Yv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ag(r){return!!r&&"integerValue"in r}function Yg(r){return!!r&&"arrayValue"in r}function Xv(r){return!!r&&"nullValue"in r}function Wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rh(r){return!!r&&"mapValue"in r}function M2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Eb])===null||t===void 0?void 0:t.stringValue)===Tb}function nu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=nu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function V2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=Qt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ds(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(nu(this.value))}}function bb(r){const e=[];return ds(r.fields,(t,s)=>{const o=new Qt([t]);if(Rh(s)){const u=bb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Ae.min(),Ae.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Ae.min(),Ae.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.position=e,this.inclusive=t}}function Zv(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=To(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Cr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function P2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class At extends wb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new U2(e,t,s):t==="array-contains"?new B2(e,s):t==="in"?new q2(e,s):t==="not-in"?new F2(e,s):t==="array-contains-any"?new H2(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new j2(e,s):new z2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends wb{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Wn(e,t)}matches(e){return Ab(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ab(r){return r.op==="and"}function Sb(r){return L2(r)&&Ab(r)}function L2(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function og(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(Sb(r))return r.filters.map(e=>og(e)).join(",");{const e=r.filters.map(t=>og(t)).join(",");return`${r.op}(${e})`}}function Rb(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Cr(s.value,o.value)}(r,e):r instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Rb(h,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function xb(r){return r instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(r):r instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(xb).join(" ,")+"}"}(r):"Filter"}class U2 extends At{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class j2 extends At{constructor(e,t){super(e,"in",t),this.keys=Ib("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class z2 extends At{constructor(e,t){super(e,"not-in",t),this.keys=Ib("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ib(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class B2 extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yg(t)&&mu(t.arrayValue,this.value)}}class q2 extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mu(this.value.arrayValue,t)}}class F2 extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mu(this.value.arrayValue,t)}}class H2 extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>mu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function eE(r,e=null,t=[],s=[],o=null,u=null,h=null){return new G2(r,e,t,s,o,u,h)}function Xg(r){const e=Se(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>og(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>bo(s)).join(",")),e.Pe=t}return e.Pe}function Wg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!P2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Rb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jv(r.startAt,e.startAt)&&Jv(r.endAt,e.endAt)}function lg(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $2(r,e,t,s,o,u,h,m){return new ko(r,e,t,s,o,u,h,m)}function Zg(r){return new ko(r)}function tE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cb(r){return r.collectionGroup!==null}function ru(r){const e=Se(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Qt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new gu(u,s))}),t.has(Qt.keyField().canonicalString())||e.Te.push(new gu(Qt.keyField(),s))}return e.Te}function Ar(r){const e=Se(r);return e.Ie||(e.Ie=K2(e,ru(r))),e.Ie}function K2(r,e){if(r.limitType==="F")return eE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)});const t=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return eE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ug(r,e){const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function cg(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ld(r,e){return Wg(Ar(r),Ar(e))&&r.limitType===e.limitType}function Nb(r){return`${Xg(Ar(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>xb(o)).join(", ")}]`),ad(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>bo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>bo(o)).join(",")),`Target(${s})`}(Ar(r))}; limitType=${r.limitType})`}function ud(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=Zv(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,ru(s),o)||s.endAt&&!function(h,m,g){const p=Zv(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,ru(s),o))}(r,e)}function Q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Db(r){return(e,t)=>{let s=!1;for(const o of ru(r)){const u=Y2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Y2(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?To(g,p):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new ot(ge.comparator);function di(){return X2}const kb=new ot(ge.comparator);function Xl(...r){let e=kb;for(const t of r)e=e.insert(t.key,t);return e}function Ob(r){let e=kb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Js(){return iu()}function Mb(){return iu()}function iu(){return new da(r=>r.toString(),(r,e)=>r.isEqual(e))}const W2=new ot(ge.comparator),Z2=new kt(ge.comparator);function Me(...r){let e=Z2;for(const t of r)e=e.add(t);return e}const J2=new kt(Ie);function eN(){return J2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function Vb(r){return{integerValue:""+r}}function tN(r,e){return I2(e)?Vb(e):Jg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function nN(r,e,t){return r instanceof pu?function(o,u){const h={fields:{[yb]:{stringValue:pb},[vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qg(u)&&(u=od(u)),u&&(h.fields[_b]=u),{mapValue:h}}(t,e):r instanceof yu?Lb(r,e):r instanceof _u?Ub(r,e):function(o,u){const h=Pb(o,u),m=nE(h)+nE(o.Ee);return ag(h)&&ag(o.Ee)?Vb(m):Jg(o.serializer,m)}(r,e)}function rN(r,e,t){return r instanceof yu?Lb(r,e):r instanceof _u?Ub(r,e):t}function Pb(r,e){return r instanceof Fh?function(s){return ag(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class pu extends cd{}class yu extends cd{constructor(e){super(),this.elements=e}}function Lb(r,e){const t=jb(e);for(const s of r.elements)t.some(o=>Cr(o,s))||t.push(s);return{arrayValue:{values:t}}}class _u extends cd{constructor(e){super(),this.elements=e}}function Ub(r,e){let t=jb(e);for(const s of r.elements)t=t.filter(o=>!Cr(o,s));return{arrayValue:{values:t}}}class Fh extends cd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function nE(r){return _t(r.integerValue||r.doubleValue)}function jb(r){return Yg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.field=e,this.transform=t}}function sN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?Eo(s.elements,o.elements,Cr):s instanceof Fh&&o instanceof Fh?Cr(s.Ee,o.Ee):s instanceof pu&&o instanceof pu}(r.transform,e.transform)}class aN{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hd{}function zb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new qb(r.key,Sr.none()):new xu(r.key,r.data,Sr.none());{const t=r.data,s=mn.empty();let o=new kt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new fs(r.key,s,new An(o.toArray()),Sr.none())}}function oN(r,e,t){r instanceof xu?function(o,u,h){const m=o.value.clone(),g=iE(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof fs?function(o,u,h){if(!xh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=iE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Bb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function su(r,e,t,s){return r instanceof xu?function(u,h,m,g){if(!xh(u.precondition,h))return m;const p=u.value.clone(),v=sE(u.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,t,s):r instanceof fs?function(u,h,m,g){if(!xh(u.precondition,h))return m;const p=sE(u.fieldTransforms,g,h),v=h.data;return v.setAll(Bb(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,h,m){return xh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function lN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Pb(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function rE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,h)=>sN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends hd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends hd{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function iE(r,e,t){const s=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,rN(h,m,t[o]))}return s}function sE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,nN(u,h,e))}return s}class qb extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Mb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=zb(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,s)=>rE(t,s))&&Eo(this.baseMutations,e.baseMutations,(t,s)=>rE(t,s))}}class ep{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return W2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ep(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ue;function fN(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Fb(r){if(r===void 0)return hi("GRPC error has no .code"),J.UNKNOWN;switch(r){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Zi([4294967295,4294967295],0);function aE(r){const e=cb().encode(r),t=new nb;return t.update(e),new Uint8Array(t.digest())}function oE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zi([t,s],0),new Zi([o,u],0)]}class tp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Zi.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Zi.fromNumber(s)));return o.compare(mN)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=aE(e),[s,o]=oE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=aE(e),[s,o]=oE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new dd(Ae.min(),o,new ot(Ie),di(),Me())}}class Iu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Iu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Hb{constructor(e,t){this.targetId=e,this.De=t}}class Gb{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class lE{constructor(){this.ve=0,this.Ce=uE(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),t=Me(),s=Me();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Iu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=uE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gN{constructor(e){this.We=e,this.Ge=new Map,this.ze=di(),this.je=lh(),this.Je=lh(),this.He=new ot(Ie)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(lg(u))if(s===0){const h=new ge(u.path);this.Xe(t,h,nn.newNoDocument(h,Ae.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ss(s).toUint8Array()}catch(g){if(g instanceof gb)return ts("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tp(h,o,u)}catch(g){return ts(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&lg(m.target)){const g=new ge(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,nn.newNoDocument(g,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=Me();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new dd(e,t,this.He,this.ze,s);return this.ze=di(),this.je=lh(),this.Je=lh(),this.He=new ot(Ie),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new lE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new kt(Ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new kt(Ie),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new lE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function lh(){return new ot(ge.comparator)}function uE(){return new ot(ge.comparator)}const pN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class vN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hg(r,e){return r.useProto3Json||ad(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $b(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EN(r,e){return Hh(r,e.toTimestamp())}function Rr(r){return Fe(!!r,49232),Ae.fromTimestamp(function(t){const s=is(t);return new Je(s.seconds,s.nanos)}(r))}function np(r,e){return dg(r,e).canonicalString()}function dg(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Kb(r){const e=nt.fromString(r);return Fe(Zb(e),10190,{key:e.toString()}),e}function fg(r,e){return np(r.databaseId,e.path)}function zm(r,e){const t=Kb(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(Yb(t))}function Qb(r,e){return np(r.databaseId,e)}function TN(r){const e=Kb(r);return e.length===4?nt.emptyPath():Yb(e)}function mg(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Yb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cE(r,e,t){return{name:fg(r,e),fields:t.value.mapValue.fields}}function bN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,v){return p.useProto3Json?(Fe(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Fe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const v=p.code===void 0?J.UNKNOWN:Fb(p.code);return new ue(v,p.message||"")}(h);t=new Gb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(r,s.document.name),u=Rr(s.document.updateTime),h=s.document.createTime?Rr(s.document.createTime):Ae.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],v=s.removedTargetIds||[];t=new Ih(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(r,s.document),u=s.readTime?Rr(s.readTime):Ae.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Ih([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(r,s.document),u=s.removedTargetIds||[];t=new Ih([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new dN(o,u),m=s.targetId;t=new Hb(m,h)}}return t}function wN(r,e){let t;if(e instanceof xu)t={update:cE(r,e.key,e.value)};else if(e instanceof qb)t={delete:fg(r,e.key)};else if(e instanceof fs)t={update:cE(r,e.key,e.data),updateMask:kN(e.fieldMask)};else{if(!(e instanceof uN))return Ee(16599,{Rt:e.type});t={verify:fg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:EN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),t}function AN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?Rr(o.updateTime):Rr(u);return h.isEqual(Ae.min())&&(h=Rr(u)),new aN(h,o.transformResults||[])}(t,e))):[]}function SN(r,e){return{documents:[Qb(r,e.path)]}}function RN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Qb(r,o);const u=function(p){if(p.length!==0)return Wb(Wn.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:co(b.field),direction:CN(b.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=hg(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:o}}function xN(r){let e=TN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(S){const b=Xb(S);return b instanceof Wn&&Sb(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(b=>function(N){return new gu(ho(N.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,ad(b)?null:b}(t.limit));let g=null;t.startAt&&(g=function(S){const b=!!S.before,D=S.values||[];return new qh(D,b)}(t.startAt));let p=null;return t.endAt&&(p=function(S){const b=!S.before,D=S.values||[];return new qh(D,b)}(t.endAt)),$2(e,o,h,u,m,"F",g,p)}function IN(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ho(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return At.create(ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(s=>Xb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function CN(r){return pN[r]}function NN(r){return yN[r]}function DN(r){return _N[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return Qt.fromServerFormat(r.fieldPath)}function Wb(r){return r instanceof At?function(t){if(t.op==="=="){if(Wv(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NAN"}};if(Xv(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wv(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NAN"}};if(Xv(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(t.field),op:NN(t.op),value:t.value}}}(r):r instanceof Wn?function(t){const s=t.getFilters().map(o=>Wb(o));return s.length===1?s[0]:{compositeFilter:{op:DN(t.op),filters:s}}}(r):Ee(54877,{filter:r})}function kN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.gt=e}}function MN(r){const e=xN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Dn=new PN}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(rs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class PN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Jb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new wo(0)}static ur(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",LN=1048576;function fE([r,e],[t,s]){const o=Ie(r,t);return o===0?Ie(e,s):o}class UN{constructor(e){this.Tr=e,this.buffer=new kt(fE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();fE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(dE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Do(t)?he(dE,"Ignoring IndexedDB error during garbage collection: ",t):await No(t)}await this.Rr(3e5)})}}class zN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(sd.ue);const s=new UN(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(hE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(p=Date.now(),lo()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function BN(r,e){return new zN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.changes=new da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&su(s.mutation,o,An.empty(),Je.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const o=Js();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Xl();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Js();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=di();const h=iu(),m=function(){return iu()}();return t.forEach((g,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof fs)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),su(v.mutation,p,v.mutation.getFieldMask(),Je.now())):h.set(p.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,v)=>h.set(p,v)),t.forEach((p,v)=>{var S;return m.set(p,new FN(v,(S=h.get(p))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=iu();let o=new ot((h,m)=>h-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=s.get(g)||An.empty();v=m.applyToLocalView(p,v),s.set(g,v);const S=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,S=Mb();v.forEach(b=>{if(!u.has(b)){const D=zb(t.get(b),s.get(b));D!==null&&S.set(b,D),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,S))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Js());let m=hu,g=u;return h.next(p=>te.forEach(p,(v,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Me())).next(v=>({batchId:m,changes:Ob(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,g=>{const p=function(S,b){return new ko(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(v=>{v.forEach((S,b)=>{h=h.insert(S,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,nn.newInvalidDocument(v)))});let m=Xl();return h.forEach((g,p)=>{const v=u.get(g);v!==void 0&&su(v.mutation,p,An.empty(),Je.now()),ud(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:MN(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.overlays=new ot(ge.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Js();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Js(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((p,v)=>p-v);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=u.get(p.largestBatchId);v===null&&(v=Js(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>m.set(p,v)),!(m.size()>=o)););return te.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new hN(t,s));let u=this.kr.get(t);u===void 0&&(u=Me(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this.qr=new kt(jt.Qr),this.$r=new kt(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new jt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new nt([])),s=new jt(t,e),o=new jt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new nt([])),s=new jt(t,e),o=new jt(t,e+1);let u=Me();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new jt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ie(e.Hr,t.Hr)}static Ur(e,t){return Ie(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new kt(jt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Kg:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Ie);return t.forEach(o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new jt(new ge(u),0);let m=new kt(Ie);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)},h),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(t.mutations,o=>{const u=new jt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new jt(t,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.ni=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=di();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=di();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||A2(w2(v),s)<=0||(o.has(v.key)||ud(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new XN(this)}getSize(e){return te.resolve(this.size)}}class XN extends qN{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.ii=new da(t=>Xg(t),Wg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new rp,this.targetCount=0,this._i=wo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.ai={},this.overlays={},this.ui=new sd(0),this.ci=!1,this.ci=!0,this.li=new KN,this.referenceDelegate=e(this),this.hi=new WN(this),this.indexManager=new VN,this.remoteDocumentCache=function(o){return new YN(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new ON(t),this.Ti=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $N,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new QN(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new ZN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class ZN extends R2{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Ai=new rp,this.Ri=null}static Vi(e){return new ip(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Gh{constructor(e,t){this.persistence=e,this.gi=new da(s=>C2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=BN(this,t)}static Vi(e,t){return new Gh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}Sr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return kR()?8:x2(rn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new JN;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(lo()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(lo()<=Oe.DEBUG&&he("QueryEngine","Query:",uo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(lo()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):te.resolve())}ps(e,t){if(tE(t))return te.resolve(null);let s=Ar(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cg(t,null,"F"),s=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.bs(t,m);return this.Ds(t,p,h,g.readTime)?this.ps(e,cg(t,null,"F")):this.vs(e,p,t,g)}))})))}ys(e,t,s,o){return tE(t)||o.isEqual(Ae.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?te.resolve(null):(lo()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(t)),this.vs(e,h,t,b2(o,hu)).next(m=>m))})}bs(e,t){let s=new kt(Db(e));return t.forEach((o,u)=>{ud(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return lo()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",uo(t)),this.gs.getDocumentsMatchingQuery(e,t,rs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",tD=3e8;class nD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ot(Ie),this.Ms=new da(u=>Xg(u),Wg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function rD(r,e,t,s){return new nD(r,e,t,s)}async function tw(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Me();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Bs:p,removedBatchIds:h,addedBatchIds:m}))})})}function iD(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,v){const S=p.batch,b=S.keys();let D=te.resolve();return b.forEach(N=>{D=D.next(()=>v.getEntry(g,N)).next($=>{const z=p.docVersions.get(N);Fe(z!==null,48541),$.version.compareTo(z)<0&&(S.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),v.addEntry($)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Me();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function nw(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sD(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((v,S)=>{const b=o.get(S);if(!b)return;m.push(t.hi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>t.hi.addMatchingKeys(u,v.addedDocuments,S)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Yt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,s)),o=o.insert(S,D),function($,z,K){return $.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=tD?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,D,v)&&m.push(t.hi.updateTargetData(u,D))});let g=di(),p=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(aD(u,h,e.documentUpdates).next(v=>{g=v.Ls,p=v.ks})),!s.isEqual(Ae.min())){const v=t.hi.getLastRemoteSnapshotVersion(u).next(S=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Fs=o,u))}function aD(r,e,t){let s=Me(),o=Me();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=di();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):he(ap,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function oD(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lD(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new Qi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function gg(r,e,t){const s=Se(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Do(h))throw h;he(ap,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function mE(r,e,t){const s=Se(r);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,v){const S=Se(g),b=S.Ms.get(v);return b!==void 0?te.resolve(S.Fs.get(b)):S.hi.getTargetData(p,v)}(s,h,Ar(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Me())).next(m=>(uD(s,Q2(e),m),{documents:m,qs:u})))}function uD(r,e,t){let s=r.xs.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class gE{constructor(){this.activeTargetIds=eN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.Fo=new gE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class yE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(pE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(pE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function pg(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===zh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=pg(),m=this.Go(e,t.toUriEncodedString());he(Bm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(m),v=cs(p);return this.jo(e,m,g,s,v).then(S=>(he(Bm,`Received RPC '${e}' ${h}: `,S),S),S=>{throw ts(Bm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=dD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class gD extends fD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=pg();return new Promise((m,g)=>{const p=new rb;p.setWithCredentials(!0),p.listenOnce(ib.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ah.NO_ERROR:const S=p.getResponseJson();he(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case Ah.TIMEOUT:he(en,`RPC '${e}' ${h} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const b=p.getStatus();if(he(en,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D==null?void 0:D.error;if(N&&N.status&&N.message){const $=function(K){const Y=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Y)>=0?Y:J.UNKNOWN}(N.status);g(new ue($,N.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:h,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{he(en,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);he(en,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",v,s,15)})}P_(e,t,s){const o=pg(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ob(),m=ab(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const v=u.join("");he(en,`Creating RPC '${e}' stream ${o}: ${v}`,g);const S=h.createWebChannel(v,g);this.T_(S);let b=!1,D=!1;const N=new mD({Ho:z=>{D?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(b||(he(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),he(en,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Yo:()=>S.close()}),$=(z,K,Y)=>{z.listen(K,ne=>{try{Y(ne)}catch(ae){setTimeout(()=>{throw ae},0)}})};return $(S,Yl.EventType.OPEN,()=>{D||(he(en,`RPC '${e}' stream ${o} transport opened.`),N.s_())}),$(S,Yl.EventType.CLOSE,()=>{D||(D=!0,he(en,`RPC '${e}' stream ${o} transport closed`),N.__(),this.I_(S))}),$(S,Yl.EventType.ERROR,z=>{D||(D=!0,ts(en,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),N.__(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),$(S,Yl.EventType.MESSAGE,z=>{var K;if(!D){const Y=z.data[0];Fe(!!Y,16349);const ne=Y,ae=(ne==null?void 0:ne.error)||((K=ne[0])===null||K===void 0?void 0:K.error);if(ae){he(en,`RPC '${e}' stream ${o} received error:`,ae);const ce=ae.status;let Te=function(x){const O=wt[x];if(O!==void 0)return Fb(O)}(ce),V=ae.message;Te===void 0&&(Te=J.INTERNAL,V="Unknown error status: "+ce+" with message "+ae.message),D=!0,N.__(new ue(Te,V)),S.close()}else he(en,`RPC '${e}' stream ${o} received:`,Y),N.a_(Y)}}),$(m,sb.STAT_EVENT,z=>{z.stat===rg.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===rg.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(r){return new vN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class iw{constructor(e,t,s,o,u,h,m,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return he(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(he(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pD extends iw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=bN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Rr(h.readTime):Ae.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=mg(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=lg(g)?{documents:SN(u,g)}:{query:RN(u,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=$b(u,h.resumeToken);const p=hg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Hh(u,h.snapshotVersion.toTimestamp());const p=hg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=IN(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=mg(this.serializer),t.removeTarget=e,this.k_(t)}}class yD extends iw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=AN(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=mg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>wN(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class vD extends _D{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,dg(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,dg(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class ED{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hi(t),this._a=!1):he("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class TD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{fa(this)&&(he(aa,"Restarting streams for network reachability change."),await async function(g){const p=Se(g);p.Ia.add(4),await Cu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await md(p)}(this))})}),this.Aa=new ED(s,o)}}async function md(r){if(fa(r))for(const e of r.da)await e(!0)}async function Cu(r){for(const e of r.da)await e(!1)}function sw(r,e){const t=Se(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),cp(t)?up(t):Oo(t).x_()&&lp(t,e))}function op(r,e){const t=Se(r),s=Oo(t);t.Ta.delete(e),s.x_()&&aw(t,e),t.Ta.size===0&&(s.x_()?s.B_():fa(t)&&t.Aa.set("Unknown"))}function lp(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(r).H_(e)}function aw(r,e){r.Ra.$e(e),Oo(r).Y_(e)}function up(r){r.Ra=new gN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Aa.aa()}function cp(r){return fa(r)&&!Oo(r).M_()&&r.Ta.size>0}function fa(r){return Se(r).Ia.size===0}function ow(r){r.Ra=void 0}async function bD(r){r.Aa.set("Online")}async function wD(r){r.Ta.forEach((e,t)=>{lp(r,e)})}async function AD(r,e){ow(r),cp(r)?(r.Aa.la(e),up(r)):r.Aa.set("Unknown")}async function SD(r,e,t){if(r.Aa.set("Online"),e instanceof Gb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){he(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $h(r,s)}else if(e instanceof Ih?r.Ra.Ye(e):e instanceof Hb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ae.min()))try{const s=await nw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ta.get(p);v&&u.Ta.set(p,v.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const v=u.Ta.get(g);if(!v)return;u.Ta.set(g,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),aw(u,g);const S=new Qi(v.target,g,p,v.sequenceNumber);lp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){he(aa,"Failed to raise snapshot:",s),await $h(r,s)}}async function $h(r,e,t){if(!Do(e))throw e;r.Ia.add(1),await Cu(r),r.Aa.set("Offline"),t||(t=()=>nw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(aa,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await md(r)})}function lw(r,e){return e().catch(t=>$h(r,t,e))}async function gd(r){const e=Se(r),t=os(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kg;for(;RD(e);)try{const o=await oD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,xD(e,o)}catch(o){await $h(e,o)}uw(e)&&cw(e)}function RD(r){return fa(r)&&r.Pa.length<10}function xD(r,e){r.Pa.push(e);const t=os(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function uw(r){return fa(r)&&!os(r).M_()&&r.Pa.length>0}function cw(r){os(r).start()}async function ID(r){os(r).na()}async function CD(r){const e=os(r);for(const t of r.Pa)e.X_(t.mutations)}async function ND(r,e,t){const s=r.Pa.shift(),o=ep.from(s,e,t);await lw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await gd(r)}async function DD(r,e){e&&os(r).Z_&&await async function(s,o){if(function(h){return fN(h)&&h!==J.ABORTED}(o.code)){const u=s.Pa.shift();os(s).N_(),await lw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await gd(s)}}(r,e),uw(r)&&cw(r)}async function vE(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),he(aa,"RemoteStore received new credentials");const s=fa(t);t.Ia.add(3),await Cu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await md(t)}async function kD(r,e){const t=Se(r);e?(t.Ia.delete(2),await md(t)):e||(t.Ia.add(2),await Cu(t),t.Aa.set("Unknown"))}function Oo(r){return r.Va||(r.Va=function(t,s,o){const u=Se(t);return u.ia(),new pD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:bD.bind(null,r),e_:wD.bind(null,r),n_:AD.bind(null,r),J_:SD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),cp(r)?up(r):r.Aa.set("Unknown")):(await r.Va.stop(),ow(r))})),r.Va}function os(r){return r.ma||(r.ma=function(t,s,o){const u=Se(t);return u.ia(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:ID.bind(null,r),n_:DD.bind(null,r),ea:CD.bind(null,r),ta:ND.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await gd(r)):(await r.ma.stop(),r.Pa.length>0&&(he(aa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new hp(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(r,e){if(hi("AsyncQueue",`${e}: ${r}`),Do(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.fa=new ot(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ao{constructor(e,t,s,o,u,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ao(e,t,yo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class MD{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=TE(),u.forEach((h,m)=>{for(const g of m.wa)g.onError(s)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function TE(){return new da(r=>Nb(r),ld)}async function hw(r,e){const t=Se(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new OD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=dp(h,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&fp(t)}async function dw(r,e){const t=Se(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function VD(r,e){const t=Se(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&fp(t)}function PD(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function fp(r){r.Da.forEach(e=>{e.next()})}var yg,bE;(bE=yg||(yg={})).Fa="default",bE.Cache="cache";class fw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.key=e}}class gw{constructor(e){this.key=e}}class LD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=Db(e),this.eu=new yo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new EE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const b=o.get(v),D=ud(this.query,S)?S:null,N=!!b&&this.mutatedKeys.has(b.key),$=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;b&&D?b.data.isEqual(D.data)?N!==$&&(s.track({type:3,doc:D}),z=!0):this.iu(b,D)||(s.track({type:2,doc:D}),z=!0,(g&&this.Xa(D,g)>0||p&&this.Xa(D,p)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),z=!0):b&&!D&&(s.track({type:1,doc:b}),z=!0,(g||p)&&(m=!0)),z&&(D?(h=h.add(D),u=$?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((v,S)=>function(D,N){const $=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:z})}};return $(D)-$(N)}(v.type,S.type)||this.Xa(v.doc,S.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,h.length!==0||p?{snapshot:new Ao(this.query,e.eu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new EE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new gw(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new mw(s))}),t}uu(e){this.Ha=e.qs,this.Za=Me();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ao.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mp="SyncEngine";class UD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class jD{constructor(e){this.key=e,this.lu=!1}}class zD{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new da(m=>Nb(m),ld),this.Tu=new Map,this.Iu=new Set,this.du=new ot(ge.comparator),this.Eu=new Map,this.Au=new rp,this.Ru={},this.Vu=new Map,this.mu=wo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function BD(r,e,t=!0){const s=Tw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await pw(s,e,t,!0),o}async function qD(r,e){const t=Tw(r);await pw(t,e,!0,!1)}async function pw(r,e,t,s){const o=await lD(r.localStore,Ar(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await FD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&sw(r.remoteStore,o),m}async function FD(r,e,t,s,o){r.gu=(S,b,D)=>async function($,z,K,Y){let ne=z.view.nu(K);ne.Ds&&(ne=await mE($.localStore,z.query,!1).then(({documents:V})=>z.view.nu(V,ne)));const ae=Y&&Y.targetChanges.get(z.targetId),ce=Y&&Y.targetMismatches.get(z.targetId)!=null,Te=z.view.applyChanges(ne,$.isPrimaryClient,ae,ce);return AE($,z.targetId,Te._u),Te.snapshot}(r,S,b,D);const u=await mE(r.localStore,e,!0),h=new LD(e,u.qs),m=h.nu(u.documents),g=Iu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);AE(r,t,p._u);const v=new UD(e,t,h);return r.Pu.set(e,v),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),p.snapshot}async function HD(r,e,t){const s=Se(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!ld(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&op(s.remoteStore,o.targetId),_g(s,o.targetId)}).catch(No)):(_g(s,o.targetId),await gg(s.localStore,o.targetId,!0))}async function GD(r,e){const t=Se(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),op(t.remoteStore,s.targetId))}async function $D(r,e,t){const s=JD(r);try{const o=await function(h,m){const g=Se(h),p=Je.now(),v=m.reduce((D,N)=>D.add(N.key),Me());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=di(),$=Me();return g.Os.getEntries(D,v).next(z=>{N=z,N.forEach((K,Y)=>{Y.isValidDocument()||($=$.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,N)).next(z=>{S=z;const K=[];for(const Y of m){const ne=lN(Y,S.get(Y.key).overlayedDocument);ne!=null&&K.push(new fs(Y.key,ne,bb(ne.value.mapValue),Sr.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,K,m)}).next(z=>{b=z;const K=z.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(D,z.batchId,K)})}).then(()=>({batchId:b.batchId,changes:Ob(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.Ru[h.currentUser.toKey()];p||(p=new ot(Ie)),p=p.insert(m,g),h.Ru[h.currentUser.toKey()]=p}(s,o.batchId,t),await Nu(s,o.changes),await gd(s.remoteStore)}catch(o){const u=dp(o,"Failed to persist write");t.reject(u)}}async function yw(r,e){const t=Se(r);try{const s=await sD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Fe(h.lu,14607):o.removedDocuments.size>0&&(Fe(h.lu,42227),h.lu=!1))}),await Nu(t,s,e)}catch(s){await No(s)}}function wE(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Se(h);g.onlineState=m;let p=!1;g.queries.forEach((v,S)=>{for(const b of S.wa)b.va(m)&&(p=!0)}),p&&fp(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KD(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ot(ge.comparator);h=h.insert(u,nn.newNoDocument(u,Ae.min()));const m=Me().add(u),g=new dd(Ae.min(),new Map,new ot(Ie),h,m);await yw(s,g),s.du=s.du.remove(u),s.Eu.delete(e),gp(s)}else await gg(s.localStore,e,!1).then(()=>_g(s,e,t)).catch(No)}async function QD(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await iD(t.localStore,e);vw(t,s,null),_w(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(t,o)}catch(o){await No(o)}}async function YD(r,e,t){const s=Se(r);try{const o=await function(h,m){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next(S=>(Fe(S!==null,37113),v=S.keys(),g.mutationQueue.removeMutationBatch(p,S))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(s.localStore,e);vw(s,e,t),_w(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Nu(s,o)}catch(o){await No(o)}}function _w(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function vw(r,e,t){const s=Se(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function _g(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||Ew(r,s)})}function Ew(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(op(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),gp(r))}function AE(r,e,t){for(const s of t)s instanceof mw?(r.Au.addReference(s.key,e),XD(r,s)):s instanceof gw?(he(mp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Ew(r,s.key)):Ee(19791,{yu:s})}function XD(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(he(mp,"New document in limbo: "+t),r.Iu.add(s),gp(r))}function gp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(nt.fromString(e)),s=r.mu.next();r.Eu.set(s,new jD(t)),r.du=r.du.insert(t,s),sw(r.remoteStore,new Qi(Ar(Zg(t.path)),s,"TargetPurposeLimboResolution",sd.ue))}}async function Nu(r,e,t){const s=Se(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,g)=>{h.push(s.gu(g,e,t).then(p=>{var v;if((p||t)&&s.isPrimaryClient){const S=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(p){o.push(p);const S=sp.Es(g.targetId,p);u.push(S)}}))}),await Promise.all(h),s.hu.J_(o),await async function(g,p){const v=Se(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>te.forEach(p,b=>te.forEach(b.Is,D=>v.persistence.referenceDelegate.addReference(S,b.targetId,D)).next(()=>te.forEach(b.ds,D=>v.persistence.referenceDelegate.removeReference(S,b.targetId,D)))))}catch(S){if(!Do(S))throw S;he(ap,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const D=v.Fs.get(b),N=D.snapshotVersion,$=D.withLastLimboFreeSnapshotVersion(N);v.Fs=v.Fs.insert(b,$)}}}(s.localStore,u))}async function WD(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){he(mp,"User change. New user:",e.toKey());const s=await tw(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new ue(J.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(t,s.Bs)}}function ZD(r,e){const t=Se(r),s=t.Eu.get(e);if(s&&s.lu)return Me().add(s.key);{let o=Me();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function Tw(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KD.bind(null,e),e.hu.J_=VD.bind(null,e.eventManager),e.hu.pu=PD.bind(null,e.eventManager),e}function JD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YD.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return rD(this.persistence,new eD,e.initialUser,this.serializer)}Du(e){return new ew(ip.Vi,this.serializer)}bu(e){return new cD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class ek extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jN(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ew(s=>Gh.Vi(s,t),this.serializer)}}class vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MD}()}createDatastore(e){const t=fd(e.databaseInfo.databaseId),s=function(u){return new gD(u)}(e.databaseInfo);return function(u,h,m,g){return new vD(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new TD(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>wE(this.syncEngine,t,0),function(){return yE.C()?new yE:new hD}())}createSyncEngine(e,t){return function(o,u,h,m,g,p,v){const S=new zD(o,u,h,m,g,p);return v&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);he(aa,"RemoteStore shutting down."),u.Ia.add(5),await Cu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class tk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=dp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ls,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ts("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ts("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function SE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await nk(r);he(ls,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>vE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>vE(e.remoteStore,o)),r._onlineComponents=e}async function nk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ls,"Using user provided OfflineComponentProvider");try{await Fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ts("Error using user provided cache. Falling back to memory cache: "+t),await Fm(r,new Kh)}}else he(ls,"Using default OfflineComponentProvider"),await Fm(r,new ek(void 0));return r._offlineComponents}async function ww(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ls,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(he(ls,"Using default OnlineComponentProvider"),await SE(r,new vg))),r._onlineComponents}function rk(r){return ww(r).then(e=>e.syncEngine)}async function Aw(r){const e=await ww(r),t=e.eventManager;return t.onListen=BD.bind(null,e.syncEngine),t.onUnlisten=HD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GD.bind(null,e.syncEngine),t}function ik(r,e,t={}){const s=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const v=new bw({next:b=>{v.Ou(),h.enqueueAndForget(()=>dw(u,S));const D=b.docs.has(m);!D&&b.fromCache?p.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&g&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new fw(Zg(m.path),v,{includeMetadataChanges:!0,ka:!0});return hw(u,S)}(await Aw(r),r.asyncQueue,e,t,s)),s.promise}function sk(r,e,t={}){const s=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const v=new bw({next:b=>{v.Ou(),h.enqueueAndForget(()=>dw(u,S)),b.fromCache&&g.source==="server"?p.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new fw(m,v,{includeMetadataChanges:!0,ka:!0});return hw(u,S)}(await Aw(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firestore.googleapis.com",xE=!0;class IE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rw,this.ssl=xE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new d2;switch(s.type){case"firstParty":return new p2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=RE.get(t);s&&(he("ComponentProvider","Removing Datastore"),RE.delete(t),s.terminate())}(this),Promise.resolve()}}function ak(r,e,t,s={}){var o;r=ns(r,pd);const u=cs(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;u&&(Dg(`https://${g}`),kg("Firestore",!0)),h.host!==Rw&&h.host!==g&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!na(p,m)&&(r._setSettings(p),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=tn.MOCK_USER;else{v=yT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new tn(b)}r._authCredentials=new f2(new ub(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Rt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ru(t,Rt._jsonSchema))return new Rt(e,s||null,new ge(nt.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:St("string",Rt._jsonSchemaVersion),referencePath:St("string")};class Ji extends ma{constructor(e,t,s){super(e,t,Zg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ge(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function oo(r,e,...t){if(r=dt(r),hb("collection","path",e),r instanceof pd){const s=nt.fromString(e,...t);return Bv(s),new Ji(r,null,s)}{if(!(r instanceof Rt||r instanceof Ji))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return Bv(s),new Ji(r.firestore,null,s)}}function Zl(r,e,...t){if(r=dt(r),arguments.length===1&&(e=$g.newId()),hb("doc","path",e),r instanceof pd){const s=nt.fromString(e,...t);return zv(s),new Rt(r,null,new ge(s))}{if(!(r instanceof Rt||r instanceof Ji))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return zv(s),new Rt(r.firestore,r instanceof Ji?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rw(this,"async_queue_retry"),this.oc=()=>{const s=qm();s&&he(CE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ai;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Do(e))throw e;he(CE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,hi("INTERNAL UNHANDLED ERROR: ",DE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=hp.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:DE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function DE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Du extends pd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new NE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function ok(r,e){const t=typeof r=="object"?r:Vg(),s=typeof r=="string"?r:zh,o=Jh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mT("firestore");u&&ak(o,...u)}return o}function pp(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lk(r),r._firestoreClient}function lk(r){var e,t,s;const o=r._freezeSettings(),u=function(m,g,p,v){return new k2(m,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Sw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new tk(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Yt.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:St("string",Bn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:St("string",xr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ir(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:St("string",Ir._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^__.*__$/;class ck{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class xw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class yp{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Qh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Iw(this.Ec)&&uk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class hk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||fd(e)}Dc(e,t,s,o=!1){return new yp({Ec:e,methodName:t,bc:s,path:Qt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(r){const e=r._freezeSettings(),t=fd(r._databaseId);return new hk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function dk(r,e,t,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);Ep("Data must be an object, but it was:",h,s);const m=Cw(s,h);let g,p;if(u.merge)g=new An(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const b=Eg(e,S,t);if(!h.contains(b))throw new ue(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Dw(v,b)||v.push(b)}g=new An(v),p=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,p=h.fieldTransforms;return new ck(new mn(m),g,p)}class vd extends _d{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vd}}class vp extends _d{_toFieldTransform(e){return new iN(e.path,new pu)}isEqual(e){return e instanceof vp}}function fk(r,e,t,s){const o=r.Dc(1,e,t);Ep("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();ds(s,(g,p)=>{const v=Tp(e,g,t);p=dt(p);const S=o.gc(v);if(p instanceof vd)u.push(v);else{const b=ku(p,S);b!=null&&(u.push(v),h.set(v,b))}});const m=new An(u);return new xw(h,m,o.fieldTransforms)}function mk(r,e,t,s,o,u){const h=r.Dc(1,e,t),m=[Eg(e,s,t)],g=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Eg(e,u[b])),g.push(u[b+1]);const p=[],v=mn.empty();for(let b=m.length-1;b>=0;--b)if(!Dw(p,m[b])){const D=m[b];let N=g[b];N=dt(N);const $=h.gc(D);if(N instanceof vd)p.push(D);else{const z=ku(N,$);z!=null&&(p.push(D),v.set(D,z))}}const S=new An(p);return new xw(v,S,h.fieldTransforms)}function gk(r,e,t,s=!1){return ku(t,r.Dc(s?4:3,e))}function ku(r,e){if(Nw(r=dt(r)))return Ep("Unsupported field value:",e,r),Cw(r,e);if(r instanceof _d)return function(s,o){if(!Iw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let g=ku(m,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof xr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:$b(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ir)return function(h,m){return{mapValue:{fields:{[Eb]:{stringValue:Tb},[Bh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return Jg(m.serializer,p)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${id(s)}`)}(r,e)}function Cw(r,e){const t={};return mb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,(s,o)=>{const u=ku(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Nw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Je||r instanceof xr||r instanceof Bn||r instanceof Rt||r instanceof _d||r instanceof Ir)}function Ep(r,e,t){if(!Nw(t)||!db(t)){const s=id(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Eg(r,e,t){if((e=dt(e))instanceof yd)return e._internalPath;if(typeof e=="string")return Tp(r,e);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function Tp(r,e,t){if(e.search(pk)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,m+r+g)}function Dw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ed("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yk extends kw{data(){return super.data()}}function Ed(r,e){return typeof e=="string"?Tp(r,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class Ow extends bp{}function ch(r,e,...t){let s=[];e instanceof bp&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof wp).length,m=u.filter(g=>g instanceof Td).length;if(h>1||h>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Td extends Ow{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Td(e,t,s)}_apply(e){const t=this._parse(e);return Mw(e._query,t),new ma(e.firestore,e.converter,ug(e._query,t))}_parse(e){const t=_p(e.firestore);return function(u,h,m,g,p,v,S){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){OE(S,v);const N=[];for(const $ of S)N.push(kE(g,u,$));b={arrayValue:{values:N}}}else b=kE(g,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||OE(S,v),b=gk(m,h,S,v==="in"||v==="not-in");return At.create(p,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function hh(r,e,t){const s=e,o=Ed("where",r);return Td._create(o,s,t)}class wp extends bp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)Mw(h,g),h=ug(h,g)}(e._query,t),new ma(e.firestore,e.converter,ug(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ap extends Ow{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ap(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,h)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function vk(r,e="asc"){const t=e,s=Ed("orderBy",r);return Ap._create(s,t)}function kE(r,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cb(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yv(r,new ge(s))}if(t instanceof Rt)return Yv(r,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${id(t)}.`)}function OE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mw(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ek{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ds(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Bh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Ir(u)}convertGeoPoint(e){return new xr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=od(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=is(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Fe(Zb(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||hi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends kw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ed("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:St("string",ea._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Ch extends ea{data(e={}){return super.data(e)}}class _o{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ch(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:bk(m.type),doc:g,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){r=ns(r,Rt);const e=ns(r.firestore,Du);return ik(pp(e),r._key).then(t=>wk(e,r,t))}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:St("string",_o._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Vw extends Ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function fh(r){r=ns(r,ma);const e=ns(r.firestore,Du),t=pp(e),s=new Vw(e);return _k(r._query),sk(t,r._query).then(o=>new _o(e,s,r,o))}function ME(r,e,t,...s){r=ns(r,Rt);const o=ns(r.firestore,Du),u=_p(o);let h;return h=typeof(e=dt(e))=="string"||e instanceof yd?mk(u,"updateDoc",r._key,e,t,s):fk(u,"updateDoc",r._key,e),Pw(o,[h.toMutation(r._key,Sr.exists(!0))])}function VE(r,e){const t=ns(r.firestore,Du),s=Zl(r),o=Tk(r.converter,e);return Pw(t,[dk(_p(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Sr.exists(!1))]).then(()=>s)}function Pw(r,e){return function(s,o){const u=new ai;return s.asyncQueue.enqueueAndForget(async()=>$D(await rk(s),o,u)),u.promise}(pp(r),e)}function wk(r,e,t){const s=t.docs.get(e._key),o=new Vw(r);return new ea(r,o,e._key,s,new Jl(t.hasPendingWrites,t.fromCache),e.converter)}function PE(){return new vp("serverTimestamp")}(function(e,t=!0){(function(o){Co=o})(ca),ra(new es("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Du(new m2(s.getProvider("auth-internal")),new y2(h,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(p.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Tr(Vv,Pv,e),Tr(Vv,Pv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebasestorage.googleapis.com",Uw="storageBucket",Ak=2*60*1e3,Sk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Nr{constructor(e,t,s=0){super(Hm(e),`Firebase Storage: ${t} (${Hm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Hm(r){return"storage/"+r}function Sp(){const r="An unknown error occurred, please check the error payload for server response.";return new mt(ft.UNKNOWN,r)}function Rk(r){return new mt(ft.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function xk(r){return new mt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ik(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ft.UNAUTHENTICATED,r)}function Ck(){return new mt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nk(r){return new mt(ft.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Dk(){return new mt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kk(){return new mt(ft.CANCELED,"User canceled the upload/download.")}function Ok(r){return new mt(ft.INVALID_URL,"Invalid URL '"+r+"'.")}function Mk(r){return new mt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Vk(){return new mt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Uw+"' property when initializing the app?")}function Pk(){return new mt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Lk(){return new mt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Uk(r){return new mt(ft.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tg(r){return new mt(ft.INVALID_ARGUMENT,r)}function jw(){return new mt(ft.APP_DELETED,"The Firebase app was deleted.")}function jk(r){return new mt(ft.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(r,e){return new mt(ft.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function $l(r){throw new mt(ft.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Sn.makeFromUrl(e,t)}catch{return new Sn(e,"")}if(s.path==="")return s;throw Mk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(ae){ae.path_=decodeURIComponent(ae.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${S}/${v}/b/${o}/o${b}`,"i"),N={bucket:1,path:3},$=t===Lw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",K=new RegExp(`^https?://${$}/${o}/${z}`,"i"),ne=[{regex:m,indices:g,postModify:u},{regex:D,indices:N,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let ae=0;ae<ne.length;ae++){const ce=ne[ae],Te=ce.regex.exec(e);if(Te){const V=Te[ce.indices.bucket];let R=Te[ce.indices.path];R||(R=""),s=new Sn(V,R),ce.postModify(s);break}}if(s==null)throw Ok(e);return s}}class zk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(r,e,t){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function v(...z){p||(p=!0,e.apply(null,z))}function S(z){o=setTimeout(()=>{o=null,r(D,g())},z)}function b(){u&&clearTimeout(u)}function D(z,...K){if(p){b();return}if(z){b(),v.call(null,z,...K);return}if(g()||h){b(),v.call(null,z,...K);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,S(ne)}let N=!1;function $(z){N||(N=!0,b(),!p&&(o!==null?(z||(m=2),clearTimeout(o),S(0)):z||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function qk(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(r){return r!==void 0}function Hk(r){return typeof r=="object"&&!Array.isArray(r)}function Rp(r){return typeof r=="string"||r instanceof String}function LE(r){return xp()&&r instanceof Blob}function xp(){return typeof Blob<"u"}function UE(r,e,t,s){if(s<e)throw Tg(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Tg(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function zw(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ta;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t,s,o,u,h,m,g,p,v,S,b=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=S,this.retry=b,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,$)=>{this.resolve_=N,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new mh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ta.NO_ERROR,g=u.getStatus();if(!m||Gk(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===ta.ABORT;s(!1,new mh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new mh(p,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());Fk(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=Sp();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?jw():kk();h(g)}else{const g=Dk();h(g)}};this.canceled_?t(!1,new mh(!1,null,!0)):this.backoffId_=Bk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Kk(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Qk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Xk(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Wk(r,e,t,s,o,u,h=!0,m=!1){const g=zw(r.urlParams),p=r.url+g,v=Object.assign({},r.headers);return Yk(v,e),Kk(v,t),Qk(v,u),Xk(v,s),new $k(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jk(...r){const e=Zk();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(xp())return new Blob(r);throw new mt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eO(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(r){if(typeof atob>"u")throw Uk("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gm{constructor(e,t){this.data=e,this.contentType=t||null}}function nO(r,e){switch(r){case Er.RAW:return new Gm(Bw(e));case Er.BASE64:case Er.BASE64URL:return new Gm(qw(r,e));case Er.DATA_URL:return new Gm(iO(e),sO(e))}throw Sp()}function Bw(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function rO(r){let e;try{e=decodeURIComponent(r)}catch{throw au(Er.DATA_URL,"Malformed data URL.")}return Bw(e)}function qw(r,e){switch(r){case Er.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw au(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw au(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=tO(e)}catch(o){throw o.message.includes("polyfill")?o:au(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Fw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw au(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=aO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function iO(r){const e=new Fw(r);return e.base64?qw(Er.BASE64,e.rest):rO(e.rest)}function sO(r){return new Fw(r).contentType}function aO(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){let s=0,o="";LE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(LE(this.data_)){const s=this.data_,o=eO(s,e,t);return o===null?null:new Ki(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ki(s,!0)}}static getBlob(...e){if(xp()){const t=e.map(s=>s instanceof Ki?s.data_:s);return new Ki(Jk.apply(null,t))}else{const t=e.map(h=>Rp(h)?nO(Er.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Ki(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){let e;try{e=JSON.parse(r)}catch{return null}return Hk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function lO(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Gw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(r,e){return e}class un{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||uO}}let gh=null;function cO(r){return!Rp(r)||r.length<2?r:Gw(r)}function $w(){if(gh)return gh;const r=[];r.push(new un("bucket")),r.push(new un("generation")),r.push(new un("metageneration")),r.push(new un("name","fullPath",!0));function e(u,h){return cO(h)}const t=new un("name");t.xform=e,r.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,r.push(o),r.push(new un("timeCreated")),r.push(new un("updated")),r.push(new un("md5Hash",null,!0)),r.push(new un("cacheControl",null,!0)),r.push(new un("contentDisposition",null,!0)),r.push(new un("contentEncoding",null,!0)),r.push(new un("contentLanguage",null,!0)),r.push(new un("contentType",null,!0)),r.push(new un("metadata","customMetadata",!0)),gh=r,gh}function hO(r,e){function t(){const s=r.bucket,o=r.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function dO(r,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return hO(s,r),s}function Kw(r,e,t){const s=Hw(e);return s===null?null:dO(r,s,t)}function fO(r,e,t,s){const o=Hw(e);if(o===null||!Rp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const v=r.bucket,S=r.fullPath,b="/b/"+h(v)+"/o/"+h(S),D=Ip(b,t,s),N=zw({alt:"media",token:p});return D+N})[0]}function mO(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class Qw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){if(!r)throw Sp()}function gO(r,e){function t(s,o){const u=Kw(r,o,e);return Yw(u!==null),u}return t}function pO(r,e){function t(s,o){const u=Kw(r,o,e);return Yw(u!==null),fO(u,o,r.host,r._protocol)}return t}function Xw(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Ck():o=Ik():t.getStatus()===402?o=xk(r.bucket):t.getStatus()===403?o=Nk(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function yO(r){const e=Xw(r);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=Rk(r.path)),u.serverResponse=o.serverResponse,u}return t}function _O(r,e,t){const s=e.fullServerUrl(),o=Ip(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Qw(o,u,pO(r,t),h);return m.errorHandler=yO(e),m}function vO(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function EO(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=vO(null,e)),s}function TO(r,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let ae=0;ae<2;ae++)ne=ne+Math.random().toString().slice(2);return ne}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const p=EO(e,s,o),v=mO(p,t),S="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+g+"--",D=Ki.getBlob(S,s,b);if(D===null)throw Pk();const N={name:p.fullPath},$=Ip(u,r.host,r._protocol),z="POST",K=r.maxUploadRetryTime,Y=new Qw($,z,gO(r,t),K);return Y.urlParams=N,Y.headers=h,Y.body=D.uploadData(),Y.errorHandler=Xw(e),Y}class bO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw $l("cannot .send() more than once");if(cs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wO extends bO{initXhr(){this.xhr_.responseType="text"}}function Ww(){return new wO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t){this._service=e,t instanceof Sn?this._location=t:this._location=Sn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new oa(e,t)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gw(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const t=new Sn(this._location.bucket,e);return new oa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jk(e)}}function AO(r,e,t){r._throwIfRoot("uploadBytes");const s=TO(r.storage,r._location,$w(),new Ki(e,!0),t);return r.storage.makeRequestWithTokens(s,Ww).then(o=>({metadata:o,ref:r}))}function SO(r){r._throwIfRoot("getDownloadURL");const e=_O(r.storage,r._location,$w());return r.storage.makeRequestWithTokens(e,Ww).then(t=>{if(t===null)throw Lk();return t})}function RO(r,e){const t=lO(r._location.path,e),s=new Sn(r._location.bucket,t);return new oa(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(r){return/^[A-Za-z]+:\/\//.test(r)}function IO(r,e){return new oa(r,e)}function Zw(r,e){if(r instanceof Cp){const t=r;if(t._bucket==null)throw Vk();const s=new oa(t,t._bucket);return e!=null?Zw(s,e):s}else return e!==void 0?RO(r,e):r}function CO(r,e){if(e&&xO(e)){if(r instanceof Cp)return IO(r,e);throw Tg("To use ref(service, url), the first argument must be a Storage instance.")}else return Zw(r,e)}function jE(r,e){const t=e==null?void 0:e[Uw];return t==null?null:Sn.makeFromBucketSpec(t,r)}function NO(r,e,t,s={}){r.host=`${e}:${t}`;const o=cs(e);o&&(Dg(`https://${r.host}/b`),kg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:yT(u,r.app.options.projectId))}class Cp{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Lw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ak,this._maxUploadRetryTime=Sk,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=jE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=jE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new zk(jw());{const h=Wk(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const zE="@firebase/storage",BE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="storage";function DO(r,e,t){return r=dt(r),AO(r,e,t)}function kO(r){return r=dt(r),SO(r)}function OO(r,e){return r=dt(r),CO(r,e)}function MO(r=Vg(),e){r=dt(r);const s=Jh(r,Jw).getImmediate({identifier:e}),o=mT("storage");return o&&VO(s,...o),s}function VO(r,e,t,s={}){NO(r,e,t,s)}function PO(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Cp(t,s,o,e,ca)}function LO(){ra(new es(Jw,PO,"PUBLIC").setMultipleInstances(!0)),Tr(zE,BE,""),Tr(zE,BE,"esm2017")}LO();const UO={apiKey:"AIzaSyAOwUu8Tuho3CquNcTaMfaHDVWtsSjKTo4",authDomain:"credores-1ea6f.firebaseapp.com",projectId:"credores-1ea6f",storageBucket:"credores-1ea6f.firebasestorage.app",messagingSenderId:"996837564068",appId:"1:996837564068:web:965180de6c3aedb1959031"},Np=ET(UO),$m=c2(Np),yr=ok(Np),jO=MO(Np);let ph;const zO=new Uint8Array(16);function BO(){if(!ph&&(ph=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ph))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ph(zO)}const $t=[];for(let r=0;r<256;++r)$t.push((r+256).toString(16).slice(1));function qO(r,e=0){return $t[r[e+0]]+$t[r[e+1]]+$t[r[e+2]]+$t[r[e+3]]+"-"+$t[r[e+4]]+$t[r[e+5]]+"-"+$t[r[e+6]]+$t[r[e+7]]+"-"+$t[r[e+8]]+$t[r[e+9]]+"-"+$t[r[e+10]]+$t[r[e+11]]+$t[r[e+12]]+$t[r[e+13]]+$t[r[e+14]]+$t[r[e+15]]}const FO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qE={randomUUID:FO};function FE(r,e,t){if(qE.randomUUID&&!r)return qE.randomUUID();r=r||{};const s=r.random||(r.rng||BO)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,qO(s)}var Ze=(r=>(r.Pendente="pendente",r.EmAnalise="em_analise",r.Aprovado="aprovado",r.Reprovado="reprovado",r))(Ze||{});const yh=r=>{var t,s;const e=r.data();return{id:r.id,...e,createdAt:((t=e.createdAt)==null?void 0:t.toDate())||new Date,approvedAt:((s=e.approvedAt)==null?void 0:s.toDate())||null}};class HO{async login(e,t){const s=await YI($m,e,t);if(s.user){const o={id:s.user.uid,email:s.user.email,displayName:s.user.displayName||"",role:"user"};return localStorage.setItem("admin_user",JSON.stringify(o)),o}throw new Error("Credenciais inválidas.")}async logout(){localStorage.removeItem("admin_user"),await JI($m)}async getCurrentUser(){const e=localStorage.getItem("admin_user");return e?JSON.parse(e):new Promise(t=>{const s=ZI($m,async o=>{if(s(),o){const u={id:o.uid,email:o.email,displayName:o.displayName||"",role:"user"};localStorage.setItem("admin_user",JSON.stringify(u)),t(u)}else t(null)})})}async checkIfAdmin(e){const t=Zl(yr,"admins",e.uid),s=await dh(t);if(s.exists()&&s.data().role==="admin")return{id:s.id,...s.data()};const o=ch(oo(yr,"admins"),hh("email","==",e.email),hh("role","==","admin")),u=await fh(o);if(!u.empty){const h=u.docs[0];return{id:h.id,...h.data()}}return null}async createPreRegistration(e,t){const s=oo(yr,"suppliers"),o=ch(s,hh("cnpj","==",e));if(!(await fh(o)).empty)throw new Error("CNPJ já cadastrado.");const h=FE(),m=new Date;m.setDate(m.getDate()+1);const g=oo(yr,"pre_registrations");return await VE(g,{cnpj:e,email:t,token:h,expiresAt:Je.fromDate(m),used:!1}),console.log(`A Cloud Function should now send an email to ${t} with token: ${h}`),{token:h}}async validateRegistrationToken(e){const t=oo(yr,"pre_registrations"),s=ch(t,hh("token","==",e)),o=await fh(s);if(o.empty)return!1;const u=o.docs[0].data();return!(u.used||Je.now()>u.expiresAt)}async createSupplier(e){const t={...e,status:Ze.EmAnalise,createdAt:PE(),approvedAt:null},s=await VE(oo(yr,"suppliers"),t),o=await dh(s);return yh(o)}async getSuppliers(){const e=ch(oo(yr,"suppliers"),vk("createdAt","desc"));return(await fh(e)).docs.map(yh)}async getSupplierById(e){const t=Zl(yr,"suppliers",e),s=await dh(t);if(s.exists())return yh(s)}async updateSupplier(e,t){const s=Zl(yr,"suppliers",e);await ME(s,t)}async updateSupplierStatus(e,t,s){const o=Zl(yr,"suppliers",e),u={status:t};t===Ze.Aprovado&&(u.approvedAt=PE(),u.rejectionReason=null),t===Ze.Reprovado&&(u.rejectionReason=s||"Motivo não especificado."),await ME(o,u);const h=await dh(o);return yh(h)}async uploadFile(e,t){const s=`supplier_documents/${t}/${FE()}-${e.name}`,o=OO(jO,s),u=await DO(o,e),h=await kO(u.ref);return{docName:e.name,storagePath:s,uploadedAt:new Date,url:h}}}const Rn=new HO,eA=F.createContext(void 0),GO=({children:r})=>{const[e,t]=F.useState(null),[s,o]=F.useState(!0);F.useEffect(()=>{(async()=>{try{const g=await Rn.getCurrentUser();t(g)}catch(g){console.error("No active session",g),t(null)}finally{o(!1)}})()},[]);const u=async(m,g)=>{o(!0);try{const p=await Rn.login(m,g);t(p)}catch(p){throw t(null),p}finally{o(!1)}},h=async()=>{o(!0),await Rn.logout(),t(null),o(!1)};return w.jsx(eA.Provider,{value:{user:e,loading:s,login:u,logout:h},children:r})},bd=()=>{const r=F.useContext(eA);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),HE=r=>{const e=KO(r);return e.charAt(0).toUpperCase()+e.slice(1)},tA=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),QO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>F.createElement("svg",{ref:g,...YO,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:tA("lucide",o),...!u&&!QO(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,v])=>F.createElement(p,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(r,e)=>{const t=F.forwardRef(({className:s,...o},u)=>F.createElement(XO,{ref:u,iconNode:e,className:tA(`lucide-${$O(HE(r))}`,`lucide-${r}`,s),...o}));return t.displayName=HE(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ZO=Xt("arrow-left",WO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],e4=Xt("check",JO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bg=Xt("circle-check-big",t4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],r4=Xt("cloud-upload",n4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],s4=Xt("download",i4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nA=Xt("file-text",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l4=Xt("funnel",o4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],oi=Xt("loader",u4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],h4=Xt("lock",c4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f4=Xt("log-out",d4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],g4=Xt("mail",m4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],rA=Xt("moon",p4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_4=Xt("search",y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iA=Xt("send",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],sA=Xt("sun",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wd=Xt("triangle-alert",T4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aA=Xt("x",b4),oA=({onFilesChange:r})=>{const[e,t]=F.useState([]),[s,o]=F.useState(!1),u=F.useCallback(async p=>{if(!p||p.length===0)return;o(!0);const v=Array.from(p).map(b=>({docName:b.name,storagePath:"",uploadedAt:new Date,file:b,url:URL.createObjectURL(b)})),S=[...e,...v];t(S),r(S),setTimeout(()=>o(!1),1e3)},[e,r]),h=F.useCallback(p=>{p.preventDefault(),p.stopPropagation(),u(p.dataTransfer.files)},[u]),m=p=>{p.preventDefault(),p.stopPropagation()},g=p=>{const v=e.filter(S=>S.docName!==p);t(v),r(v)};return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",onDrop:h,onDragOver:m,onClick:()=>{var p;return(p=document.getElementById("file-input"))==null?void 0:p.click()},children:[w.jsx(r4,{className:"mx-auto h-12 w-12 text-gray-400"}),w.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[w.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Clique para enviar"})," ou arraste e solte"]}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF ou JPG (máx. 5MB por arquivo)"}),w.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",accept:".pdf,.jpg,.jpeg",onChange:p=>u(p.target.files)})]}),s&&w.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[w.jsx(oi,{className:"animate-spin h-4 w-4 mr-2"}),"Enviando arquivos..."]}),e.length>0&&w.jsxs("div",{className:"space-y-2",children:[w.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Arquivos Anexados:"}),w.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700 rounded-md border border-gray-200 dark:border-gray-700",children:e.map((p,v)=>w.jsxs("li",{className:"flex items-center justify-between p-3",children:[w.jsxs("div",{className:"flex items-center min-w-0",children:[w.jsx(nA,{className:"h-6 w-6 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),w.jsx("span",{className:"ml-3 text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:p.docName})]}),w.jsx("button",{type:"button",onClick:()=>g(p.docName),className:"ml-4 p-1 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:w.jsx(aA,{className:"h-4 w-4"})})]},v))})]})]})},w4=()=>{const[r,e]=F.useState({companyName:"",tradeName:"",cnpj:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:""},submittedBy:""}),[t,s]=F.useState([]),[o,u]=F.useState(!1),[h,m]=F.useState(!1),[g,p]=F.useState(null),[v,S]=F.useState(()=>document.body.classList.contains("dark")||document.documentElement.classList.contains("dark"));F.useEffect(()=>{document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")},[]);const b=()=>{S(K=>{const Y=!K;return Y?(document.body.classList.add("dark"),document.body.classList.remove("light"),document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),Y})},D=K=>{const{name:Y,value:ne}=K.target;e(ae=>({...ae,[Y]:ne}))},N=K=>{const{name:Y,value:ne}=K.target;e(ae=>({...ae,address:{...ae.address,[Y]:ne}}))},$=K=>{s(K)},z=async K=>{if(K.preventDefault(),t.length===0){alert("Por favor, anexe pelo menos um documento.");return}u(!0),p(null);try{const Y={...r,rejectionReason:null,uploadedDocuments:[]},ne=await Rn.createSupplier(Y),ae=t.map(Te=>Rn.uploadFile(Te.file,ne.id)),ce=await Promise.all(ae);await Rn.updateSupplier(ne.id,{uploadedDocuments:ce}),m(!0)}catch(Y){p({type:"error",text:Y.message||"Falha ao enviar cadastro. Tente novamente."})}finally{u(!1)}};return h?w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[w.jsx(bg,{className:"h-16 w-16 text-green-500"}),w.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),w.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitação foi recebida e está em análise. Entraremos em contato em breve."}),w.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Novo Cadastro"})]}):w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:[w.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[w.jsx(Wh,{to:"/admin/login",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Acesso Admin"}),w.jsx("button",{onClick:b,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:v?w.jsx(sA,{className:"h-5 w-5 text-yellow-500"}):w.jsx(rA,{className:"h-5 w-5 text-gray-700"})})]}),w.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-40 w-auto text-indigo-600 dark:text-indigo-400"}),w.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100 drop-shadow-sm text-center tracking-tight",children:"Cadastro de Fornecedor"}),w.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),w.jsxs("form",{className:"space-y-8",onSubmit:z,children:[w.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[w.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),w.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razão Social"}),w.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),w.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ"}),w.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone"}),w.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal"}),w.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato"}),w.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),w.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[w.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereço"}),w.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[w.jsxs("div",{className:"col-span-full",children:[w.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro"}),w.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade"}),w.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado"}),w.jsx("input",{type:"text",name:"state",id:"state",required:!0,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP"}),w.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos"}),w.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Anexe os documentos necessários, como Contrato Social e Certidões Negativas."}),w.jsx("div",{className:"mt-6",children:w.jsx(oA,{onFilesChange:$})})]}),w.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:w.jsxs("button",{type:"submit",disabled:o,className:"inline-flex justify-center items-center px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-400 dark:disabled:text-gray-500",children:[o?w.jsx(oi,{className:"animate-spin h-5 w-5 mr-2"}):w.jsx(iA,{className:"h-5 w-5 mr-2"}),o?"Enviando...":"Cadastro de Fornecedor"]})})]}),g&&w.jsxs("div",{className:`flex items-start p-4 rounded-md ${g.type==="success"?"bg-green-50 dark:bg-green-900/50":"bg-red-50 dark:bg-red-900/50"}`,children:[g.type==="success"?w.jsx(bg,{className:"h-5 w-5 text-green-500"}):w.jsx(wd,{className:"h-5 w-5 text-red-500"}),w.jsx("p",{className:`ml-3 text-sm font-medium ${g.type==="success"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:g.text})]})]})]})},A4=()=>{const{token:r}=tT(),e=ua(),[t,s]=F.useState(null),[o,u]=F.useState({companyName:"",tradeName:"",cnpj:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:""},submittedBy:""}),[h,m]=F.useState([]),[g,p]=F.useState(!1),[v,S]=F.useState(!1);F.useEffect(()=>{(async()=>{if(!r){s(!1);return}const K=await Rn.validateRegistrationToken(r);s(K)})()},[r]);const b=z=>{const{name:K,value:Y}=z.target;u(ne=>({...ne,[K]:Y}))},D=z=>{const{name:K,value:Y}=z.target;u(ne=>({...ne,address:{...ne.address,[K]:Y}}))},N=z=>{m(z)},$=async z=>{if(z.preventDefault(),h.length===0){alert("Por favor, anexe pelo menos um documento.");return}p(!0);try{const K={...o,rejectionReason:null,uploadedDocuments:[]},Y=await Rn.createSupplier(K),ne=h.map(ce=>Rn.uploadFile(ce.file,Y.id)),ae=await Promise.all(ne);await Rn.updateSupplier(Y.id,{uploadedDocuments:ae}),S(!0)}catch(K){console.error("Submission failed",K),alert("Falha ao enviar cadastro. Tente novamente.")}finally{p(!1)}};return t===null?w.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:w.jsx(oi,{className:"animate-spin h-16 w-16 text-indigo-600"})}):t?v?w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[w.jsx(bg,{className:"h-16 w-16 text-green-500"}),w.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),w.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitação foi recebida e está em análise. Entraremos em contato em breve."}),w.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Início"})]}):w.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:w.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[w.jsxs("div",{className:"p-8",children:[w.jsx("div",{className:"text-center mb-6",children:w.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"lucide lucide-building mx-auto h-12 w-12 text-indigo-600 dark:text-indigo-400 mb-4"})}),w.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Formulário de Cadastro"}),w.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),w.jsxs("form",{onSubmit:$,className:"p-8 pt-0 space-y-8",children:[w.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[w.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),w.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razão Social"}),w.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),w.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ"}),w.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone"}),w.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal"}),w.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-3",children:[w.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato"}),w.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),w.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[w.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereço"}),w.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[w.jsxs("div",{className:"col-span-full",children:[w.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro"}),w.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade"}),w.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado"}),w.jsx("input",{type:"text",name:"state",id:"state",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP"}),w.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos"}),w.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Anexe os documentos necessários, como Contrato Social e Certidões Negativas."}),w.jsx("div",{className:"mt-6",children:w.jsx(oA,{onFilesChange:N})})]}),w.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:w.jsxs("button",{type:"submit",disabled:g,className:"inline-flex justify-center items-center rounded-md bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-400 dark:disabled:bg-indigo-800 transition-colors",children:[g?w.jsx(oi,{className:"animate-spin h-5 w-5 mr-2"}):w.jsx(iA,{className:"h-5 w-5 mr-2"}),g?"Enviando...":"Enviar Cadastro"]})})]})]})}):w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[w.jsx(wd,{className:"h-16 w-16 text-red-500"}),w.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Link de Cadastro Inválido"}),w.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Este link é inválido ou já expirou. Por favor, solicite um novo link de cadastro."}),w.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Início"})]})},S4=()=>{const[r,e]=F.useState("seu_email@ambiental.sc"),[t,s]=F.useState("password"),[o,u]=F.useState(""),[h,m]=F.useState(!1),{login:g}=bd(),p=ua(),[v,S]=F.useState(()=>document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")),b=()=>{S(N=>{const $=!N;return $?(document.body.classList.add("dark"),document.body.classList.remove("light"),document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),$})},D=async N=>{N.preventDefault(),u(""),m(!0);try{await g(r,t),p("/admin/dashboard")}catch($){u($.message||"Falha no login. Verifique suas credenciais.")}finally{m(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4",children:[w.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[w.jsx(Wh,{to:"/",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Cadastro de Fornecedor"}),w.jsx("button",{onClick:b,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:v?w.jsx(sA,{className:"h-5 w-5 text-yellow-500"}):w.jsx(rA,{className:"h-5 w-5 text-gray-700"})})]}),w.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-20 w-auto mb-4"}),w.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100",children:"Acesso Administrativo"}),w.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Use as credenciais fornecidas para acessar o painel."})]}),w.jsxs("form",{className:"space-y-6",onSubmit:D,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"sr-only",children:"E-mail"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:w.jsx(g4,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"E-mail",value:r,onChange:N=>e(N.target.value)})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:w.jsx(h4,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Senha",value:t,onChange:N=>s(N.target.value)})]})]}),o&&w.jsxs("div",{className:"flex items-start bg-red-50 dark:bg-red-900/50 p-3 rounded-md",children:[w.jsx(wd,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),w.jsx("p",{className:"ml-2 text-sm text-red-700 dark:text-red-200",children:o})]}),w.jsx("div",{children:w.jsxs("button",{type:"submit",disabled:h,className:"inline-flex justify-center items-center w-full px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-400 dark:disabled:text-gray-500",children:[h?w.jsx(oi,{className:"animate-spin h-5 w-5 mr-2"}):null,h?"Entrando...":"Entrar"]})})]})]})]})},R4=({status:r})=>{const e={[Ze.Aprovado]:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",[Ze.Reprovado]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[Ze.EmAnalise]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",[Ze.Pendente]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},t={[Ze.Aprovado]:"Aprovado",[Ze.Reprovado]:"Reprovado",[Ze.EmAnalise]:"Em Análise",[Ze.Pendente]:"Pendente"};return w.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},x4=()=>{const[r,e]=F.useState([]),[t,s]=F.useState(!0),[o,u]=F.useState("all"),[h,m]=F.useState(""),g=ua();F.useEffect(()=>{(async()=>{s(!0);try{const S=await Rn.getSuppliers();e(S)}catch(S){console.error("Failed to fetch suppliers",S)}finally{s(!1)}})()},[]);const p=F.useMemo(()=>r.filter(v=>o==="all"||v.status===o).filter(v=>v.companyName.toLowerCase().includes(h.toLowerCase())||v.cnpj.includes(h)),[r,o,h]);return t?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx(oi,{className:"animate-spin h-8 w-8 text-indigo-500"})}):w.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Lista de Fornecedores"}),w.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Gerencie e analise os cadastros de fornecedores."})]}),w.jsxs("div",{className:"relative w-full sm:w-64",children:[w.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:w.jsx(_4,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:"text",placeholder:"Buscar por nome ou CNPJ...",value:h,onChange:v=>m(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),w.jsxs("div",{className:"mt-6 flex items-center space-x-2 overflow-x-auto pb-2",children:[w.jsx(l4,{className:"h-5 w-5 text-gray-500 mr-2 flex-shrink-0"}),["all",...Object.values(Ze)].map(v=>w.jsx("button",{onClick:()=>u(v),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${o===v?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:v==="all"?"Todos":{[Ze.Aprovado]:"Aprovados",[Ze.Reprovado]:"Reprovados",[Ze.EmAnalise]:"Em Análise",[Ze.Pendente]:"Pendentes"}[v]},v))]})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[w.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Empresa"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"CNPJ"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Data de Cadastro"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),w.jsx("th",{scope:"col",className:"relative px-6 py-3",children:w.jsx("span",{className:"sr-only",children:"Ver"})})]})}),w.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:p.length>0?p.map(v=>w.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[w.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:v.companyName}),w.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.tradeName})]}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 font-mono",children:v.cnpj}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(v.createdAt).toLocaleDateString()}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx(R4,{status:v.status})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:w.jsx("button",{onClick:()=>g(`/admin/supplier/${v.id}`),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:"Ver Detalhes"})})]},v.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"Nenhum fornecedor encontrado com os filtros atuais."})})})]})})]})},_r=({label:r,value:e})=>w.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[w.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:r}),w.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2",children:e})]}),I4=()=>{const{id:r}=tT(),e=ua(),[t,s]=F.useState(null),[o,u]=F.useState(!0),[h,m]=F.useState(!1),[g,p]=F.useState(""),[v,S]=F.useState(!1);F.useEffect(()=>{if(!r)return;(async()=>{u(!0);const N=await Rn.getSupplierById(r);N&&s(N),u(!1)})()},[r]);const b=async D=>{if(r){S(!0);try{const N=await Rn.updateSupplierStatus(r,D,g);s(N),h&&m(!1)}catch(N){console.error(`Failed to ${D} supplier`,N)}finally{S(!1)}}};return o?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx(oi,{className:"animate-spin h-8 w-8 text-indigo-500"})}):t?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg",children:[w.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[w.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[w.jsx(ZO,{className:"h-4 w-4 mr-2"}),"Voltar para a lista"]}),w.jsx("h3",{className:"text-2xl font-bold leading-6 text-gray-900 dark:text-gray-100",children:t.companyName}),w.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Detalhes do cadastro e documentos."})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("dl",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[w.jsx(_r,{label:"Status",value:w.jsx("span",{className:`px-2 py-1 text-sm font-bold rounded-md ${{[Ze.Aprovado]:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",[Ze.Reprovado]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[Ze.EmAnalise]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",[Ze.Pendente]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}[t.status]}`,children:t.status.replace("_"," ")})}),w.jsx(_r,{label:"Nome Fantasia",value:t.tradeName}),w.jsx(_r,{label:"CNPJ",value:w.jsx("span",{className:"font-mono",children:t.cnpj})}),w.jsx(_r,{label:"E-mail Principal",value:t.email}),w.jsx(_r,{label:"Telefone",value:t.phone}),w.jsx(_r,{label:"Endereço",value:`${t.address.street}, ${t.address.city}, ${t.address.state} - ${t.address.zipCode}`}),w.jsx(_r,{label:"Data de Cadastro",value:new Date(t.createdAt).toLocaleString()}),w.jsx(_r,{label:"Contato",value:t.submittedBy}),t.status===Ze.Aprovado&&t.approvedAt&&w.jsx(_r,{label:"Data de Aprovação",value:new Date(t.approvedAt).toLocaleString()}),t.status===Ze.Reprovado&&t.rejectionReason&&w.jsx(_r,{label:"Motivo da Reprovação",value:w.jsx("span",{className:"text-red-700 dark:text-red-300",children:t.rejectionReason})}),w.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[w.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Documentos Anexados"}),w.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2",children:w.jsx("ul",{role:"list",className:"border border-gray-200 dark:border-gray-600 rounded-md divide-y divide-gray-200 dark:divide-gray-600",children:t.uploadedDocuments.length>0?t.uploadedDocuments.map((D,N)=>w.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[w.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[w.jsx(nA,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),w.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:D.docName})]}),w.jsx("div",{className:"ml-4 flex-shrink-0",children:w.jsxs("a",{href:D.url,download:D.docName,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 flex items-center",children:[w.jsx(s4,{className:"h-4 w-4 mr-1"}),"Baixar"]})})]},N)):w.jsx("li",{className:"pl-3 pr-4 py-3 text-sm text-gray-500",children:"Nenhum documento anexado."})})})]})]}),(t.status===Ze.Pendente||t.status===Ze.EmAnalise)&&w.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-end gap-4",children:[w.jsxs("button",{onClick:()=>m(!0),disabled:v,className:"w-full sm:w-auto flex justify-center items-center px-4 py-2 border border-red-300 dark:border-red-600 shadow-sm text-sm font-medium rounded-md text-red-700 dark:text-red-200 bg-white dark:bg-red-900/20 hover:bg-red-50 dark:hover:bg-red-900/40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:[w.jsx(aA,{className:"h-5 w-5 mr-2"}),"Reprovar"]}),w.jsxs("button",{onClick:()=>b(Ze.Aprovado),disabled:v,className:"w-full sm:w-auto flex justify-center items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400",children:[v?w.jsx(oi,{className:"animate-spin h-5 w-5 mr-2"}):w.jsx(e4,{className:"h-5 w-5 mr-2"}),"Aprovar"]})]})]})]}),h&&w.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:w.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[w.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),w.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),w.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[w.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:w.jsxs("div",{className:"sm:flex sm:items-start",children:[w.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 sm:mx-0 sm:h-10 sm:w-10",children:w.jsx(wd,{className:"h-6 w-6 text-red-600 dark:text-red-300","aria-hidden":"true"})}),w.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[w.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"modal-title",children:"Reprovar Cadastro"}),w.jsxs("div",{className:"mt-2",children:[w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Por favor, insira o motivo da reprovação. Esta informação será enviada ao fornecedor."}),w.jsx("textarea",{rows:4,value:g,onChange:D=>p(D.target.value),className:"mt-4 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md",placeholder:"Ex: Documentação fiscal inconsistente."})]})]})]})}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[w.jsx("button",{type:"button",onClick:()=>b(Ze.Reprovado),disabled:!g||v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:bg-red-400",children:v?w.jsx(oi,{className:"animate-spin h-5 w-5 mr-2"}):"Confirmar Reprovação"}),w.jsx("button",{type:"button",onClick:()=>m(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]}):w.jsx("div",{className:"text-center py-10",children:"Fornecedor não encontrado."})},C4=()=>{const{user:r,logout:e}=bd(),t=ua(),s=async()=>{await e(),t("/admin/login")};return w.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-md",children:w.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("h1",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:"Portal de Fornecedores"}),w.jsx("span",{className:"ml-4 text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:"Painel Administrativo"})]}),w.jsx("div",{className:"flex items-center",children:r&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"text-gray-700 dark:text-gray-300 mr-4 hidden md:inline",children:r.email}),w.jsxs("button",{onClick:s,className:"flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/50 hover:bg-red-200 dark:hover:bg-red-900/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition","aria-label":"Logout",children:[w.jsx(f4,{className:"h-4 w-4 mr-2"}),"Sair"]})]})})]})})})},GE=({children:r})=>{const{user:e,loading:t}=bd();return t?w.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:w.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):e?w.jsx(w.Fragment,{children:r}):w.jsx(iT,{to:"/admin/login",replace:!0})},$E=({children:r})=>w.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[w.jsx(C4,{}),w.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:r})]}),N4=()=>{const{user:r}=bd();return w.jsxs(VS,{children:[w.jsx(Ws,{path:"/",element:w.jsx(w4,{})}),w.jsx(Ws,{path:"/register/:token",element:w.jsx(A4,{})}),w.jsx(Ws,{path:"/admin/login",element:w.jsx(S4,{})}),w.jsx(Ws,{path:"/admin/dashboard",element:w.jsx(GE,{children:w.jsx($E,{children:w.jsx(x4,{})})})}),w.jsx(Ws,{path:"/admin/supplier/:id",element:w.jsx(GE,{children:w.jsx($E,{children:w.jsx(I4,{})})})}),w.jsx(Ws,{path:"*",element:w.jsx(iT,{to:r?"/admin/dashboard":"/"})})]})},D4=()=>w.jsx(GO,{children:w.jsx(sR,{children:w.jsx(N4,{})})}),lA=document.getElementById("root");if(!lA)throw new Error("Could not find root element to mount to");const k4=H1.createRoot(lA);k4.render(w.jsx(P1.StrictMode,{children:w.jsx(D4,{})}));
