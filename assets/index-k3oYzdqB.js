(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function wE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Um={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function p1(){if(d0)return Ql;d0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var h0;function g1(){return h0||(h0=1,Um.exports=p1()),Um.exports}var y=g1(),zm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function y1(){if(f0)return Re;f0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function L(O,ae,de){this.props=O,this.context=ae,this.refs=B,this.updater=de||D}L.prototype.isReactComponent={},L.prototype.setState=function(O,ae){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ae,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=L.prototype;function Q(O,ae,de){this.props=O,this.context=ae,this.refs=B,this.updater=de||D}var ne=Q.prototype=new $;ne.constructor=Q,k(ne,L.prototype),ne.isPureReactComponent=!0;var se=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function C(O,ae,de,le,_e,Ie){return de=Ie.ref,{$$typeof:r,type:O,key:ae,ref:de!==void 0?de:null,props:Ie}}function x(O,ae){return C(O.type,ae,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var ae={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return ae[de]})}var j=/\/+/g;function M(O,ae){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ae.toString(36)}function N(){}function Ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(ae){O.status==="pending"&&(O.status="fulfilled",O.value=ae)},function(ae){O.status==="pending"&&(O.status="rejected",O.reason=ae)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function it(O,ae,de,le,_e){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case r:case e:Ae=!0;break;case v:return Ae=O._init,it(Ae(O._payload),ae,de,le,_e)}}if(Ae)return _e=_e(O),Ae=le===""?"."+M(O,0):le,se(_e)?(de="",Ae!=null&&(de=Ae.replace(j,"$&/")+"/"),it(_e,ae,de,"",function(lr){return lr})):_e!=null&&(R(_e)&&(_e=x(_e,de+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Ae)),ae.push(_e)),1;Ae=0;var Vt=le===""?".":le+":";if(se(O))for(var tt=0;tt<O.length;tt++)le=O[tt],Ie=Vt+M(le,tt),Ae+=it(le,ae,de,Ie,_e);else if(tt=T(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(le=O.next()).done;)le=le.value,Ie=Vt+M(le,tt++),Ae+=it(le,ae,de,Ie,_e);else if(Ie==="object"){if(typeof O.then=="function")return it(Ye(O),ae,de,le,_e);throw ae=String(O),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(O,ae,de){if(O==null)return O;var le=[],_e=0;return it(O,le,"","",function(Ie){return ae.call(de,Ie,_e++)}),le}function ce(O){if(O._status===-1){var ae=O._result;ae=ae(),ae.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=ae)}if(O._status===1)return O._result.default;throw O._result}var X=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function me(){}return Re.Children={map:W,forEach:function(O,ae,de){W(O,function(){ae.apply(this,arguments)},de)},count:function(O){var ae=0;return W(O,function(){ae++}),ae},toArray:function(O){return W(O,function(ae){return ae})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=L,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=a,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return oe.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ae,de){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=k({},O.props),_e=O.key,Ie=void 0;if(ae!=null)for(Ae in ae.ref!==void 0&&(Ie=void 0),ae.key!==void 0&&(_e=""+ae.key),ae)!te.call(ae,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ae.ref===void 0||(le[Ae]=ae[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=de;else if(1<Ae){for(var Vt=Array(Ae),tt=0;tt<Ae;tt++)Vt[tt]=arguments[tt+2];le.children=Vt}return C(O.type,_e,void 0,void 0,Ie,le)},Re.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ae,de){var le,_e={},Ie=null;if(ae!=null)for(le in ae.key!==void 0&&(Ie=""+ae.key),ae)te.call(ae,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=ae[le]);var Ae=arguments.length-2;if(Ae===1)_e.children=de;else if(1<Ae){for(var Vt=Array(Ae),tt=0;tt<Ae;tt++)Vt[tt]=arguments[tt+2];_e.children=Vt}if(O&&O.defaultProps)for(le in Ae=O.defaultProps,Ae)_e[le]===void 0&&(_e[le]=Ae[le]);return C(O,Ie,void 0,void 0,null,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=R,Re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ce}},Re.memo=function(O,ae){return{$$typeof:g,type:O,compare:ae===void 0?null:ae}},Re.startTransition=function(O){var ae=oe.T,de={};oe.T=de;try{var le=O(),_e=oe.S;_e!==null&&_e(de,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(me,X)}catch(Ie){X(Ie)}finally{oe.T=ae}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(O){return oe.H.use(O)},Re.useActionState=function(O,ae,de){return oe.H.useActionState(O,ae,de)},Re.useCallback=function(O,ae){return oe.H.useCallback(O,ae)},Re.useContext=function(O){return oe.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ae){return oe.H.useDeferredValue(O,ae)},Re.useEffect=function(O,ae,de){var le=oe.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(O,ae)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(O,ae,de){return oe.H.useImperativeHandle(O,ae,de)},Re.useInsertionEffect=function(O,ae){return oe.H.useInsertionEffect(O,ae)},Re.useLayoutEffect=function(O,ae){return oe.H.useLayoutEffect(O,ae)},Re.useMemo=function(O,ae){return oe.H.useMemo(O,ae)},Re.useOptimistic=function(O,ae){return oe.H.useOptimistic(O,ae)},Re.useReducer=function(O,ae,de){return oe.H.useReducer(O,ae,de)},Re.useRef=function(O){return oe.H.useRef(O)},Re.useState=function(O){return oe.H.useState(O)},Re.useSyncExternalStore=function(O,ae,de){return oe.H.useSyncExternalStore(O,ae,de)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.1.0",Re}var m0;function qp(){return m0||(m0=1,zm.exports=y1()),zm.exports}var U=qp();const AE=wE(U);var Bm={exports:{}},Xl={},qm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function _1(){return p0||(p0=1,function(r){function e(W,ce){var X=W.length;W.push(ce);e:for(;0<X;){var me=X-1>>>1,O=W[me];if(0<o(O,ce))W[me]=ce,W[X]=O,X=me;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ce=W[0],X=W.pop();if(X!==ce){W[0]=X;e:for(var me=0,O=W.length,ae=O>>>1;me<ae;){var de=2*(me+1)-1,le=W[de],_e=de+1,Ie=W[_e];if(0>o(le,X))_e<O&&0>o(Ie,le)?(W[me]=Ie,W[_e]=X,me=_e):(W[me]=le,W[de]=X,me=de);else if(_e<O&&0>o(Ie,X))W[me]=Ie,W[_e]=X,me=_e;else break e}}return ce}function o(W,ce){var X=W.sortIndex-ce.sortIndex;return X!==0?X:W.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],g=[],v=1,A=null,T=3,D=!1,k=!1,B=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ce=t(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=W)a(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function oe(W){if(B=!1,se(W),!k)if(t(p)!==null)k=!0,te||(te=!0,M());else{var ce=t(g);ce!==null&&it(oe,ce.startTime-W)}}var te=!1,C=-1,x=5,R=-1;function P(){return L?!0:!(r.unstable_now()-R<x)}function j(){if(L=!1,te){var W=r.unstable_now();R=W;var ce=!0;try{e:{k=!1,B&&(B=!1,Q(C),C=-1),D=!0;var X=T;try{t:{for(se(W),A=t(p);A!==null&&!(A.expirationTime>W&&P());){var me=A.callback;if(typeof me=="function"){A.callback=null,T=A.priorityLevel;var O=me(A.expirationTime<=W);if(W=r.unstable_now(),typeof O=="function"){A.callback=O,se(W),ce=!0;break t}A===t(p)&&a(p),se(W)}else a(p);A=t(p)}if(A!==null)ce=!0;else{var ae=t(g);ae!==null&&it(oe,ae.startTime-W),ce=!1}}break e}finally{A=null,T=X,D=!1}ce=void 0}}finally{ce?M():te=!1}}}var M;if(typeof ne=="function")M=function(){ne(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ye=N.port2;N.port1.onmessage=j,M=function(){Ye.postMessage(null)}}else M=function(){$(j,0)};function it(W,ce){C=$(function(){W(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var X=T;T=ce;try{return W()}finally{T=X}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=T;T=W;try{return ce()}finally{T=X}},r.unstable_scheduleCallback=function(W,ce,X){var me=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,W={id:v++,callback:ce,priorityLevel:W,startTime:X,expirationTime:O,sortIndex:-1},X>me?(W.sortIndex=X,e(g,W),t(p)===null&&W===t(g)&&(B?(Q(C),C=-1):B=!0,it(oe,X-me))):(W.sortIndex=O,e(p,W),k||D||(k=!0,te||(te=!0,M()))),W},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(W){var ce=T;return function(){var X=T;T=ce;try{return W.apply(this,arguments)}finally{T=X}}}}(Fm)),Fm}var g0;function v1(){return g0||(g0=1,qm.exports=_1()),qm.exports}var Hm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function b1(){if(y0)return tn;y0=1;var r=qp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=d.T,v=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=v,a.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:D}):v==="script"&&a.d.X(p,{crossOrigin:A,integrity:T,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},tn.requestFormReset=function(p){a.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return d.H.useFormState(p,g,v)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var _0;function E1(){if(_0)return Hm.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=b1(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function T1(){if(v0)return Xl;v0=1;var r=v1(),e=qp(),t=E1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(a(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),n;if(f===l)return m(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var E=!1,w=h.child;w;){if(w===s){E=!0,s=h,l=f;break}if(w===l){E=!0,l=h,s=f;break}w=w.sibling}if(!E){for(w=f.child;w;){if(w===s){E=!0,s=f,l=h;break}if(w===l){E=!0,l=f,s=h;break}w=w.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Ye(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case L:return"Profiler";case B:return"StrictMode";case oe:return"Suspense";case te:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case Q:return(n._context.displayName||"Context")+".Consumer";case se:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:Ye(n.type)||"Memo";case x:i=n._payload,n=n._init;try{return Ye(n(i))}catch{}}return null}var it=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},me=[],O=-1;function ae(n){return{current:n}}function de(n){0>O||(n.current=me[O],me[O]=null,O--)}function le(n,i){O++,me[O]=n.current,n.current=i}var _e=ae(null),Ie=ae(null),Ae=ae(null),Vt=ae(null);function tt(n,i){switch(le(Ae,i),le(Ie,n),le(_e,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Uv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Uv(i),n=zv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(_e),le(_e,n)}function lr(){de(_e),de(Ie),de(Ae)}function bi(n){n.memoizedState!==null&&le(Vt,n);var i=_e.current,s=zv(i,n.type);i!==s&&(le(Ie,n),le(_e,s))}function Pr(n){Ie.current===n&&(de(_e),de(Ie)),Vt.current===n&&(de(Vt),Hl._currentValue=X)}var Ta=Object.prototype.hasOwnProperty,wa=r.unstable_scheduleCallback,Aa=r.unstable_cancelCallback,Bo=r.unstable_shouldYield,Bu=r.unstable_requestPaint,On=r.unstable_now,Lh=r.unstable_getCurrentPriorityLevel,qo=r.unstable_ImmediatePriority,Es=r.unstable_UserBlockingPriority,Sa=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,Ts=r.unstable_IdlePriority,Fo=r.log,qu=r.unstable_setDisableYieldValue,ht=null,Ge=null;function bn(n){if(typeof Fo=="function"&&qu(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ht,n)}catch{}}var Zt=Math.clz32?Math.clz32:xa,Fu=Math.log,zh=Math.LN2;function xa(n){return n>>>=0,n===0?32:31-(Fu(n)/zh|0)|0}var Ra=256,Na=4194304;function Qn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ws(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,f=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?h=Qn(l):(E&=w,E!==0?h=Qn(E):s||(s=w&~n,s!==0&&(h=Qn(s))))):(w=l&~f,w!==0?h=Qn(w):E!==0?h=Qn(E):s||(s=l&~n,s!==0&&(h=Qn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function Ca(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ho(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=Ra;return Ra<<=1,(Ra&4194048)===0&&(Ra=256),n}function $o(){var n=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),n}function Mr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Vr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ko(n,i,s,l,h,f){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,I=n.expirationTimes,H=n.hiddenUpdates;for(s=E&~s;0<s;){var J=31-Zt(s),re=1<<J;w[J]=0,I[J]=-1;var G=H[J];if(G!==null)for(H[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}s&=~re}l!==0&&ur(n,l,0),f!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=f&~(E&~i))}function ur(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Zt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194090}function Yo(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-Zt(s),h=1<<l;h&i|n[l]&i&&(n[l]|=i),s&=~h}}function Ei(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function As(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ti(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:a0(n.type))}function Hu(n,i){var s=ce.p;try{return ce.p=n,i()}finally{ce.p=s}}var st=Math.random().toString(36).slice(2),It="__reactFiber$"+st,Tt="__reactProps$"+st,Pn="__reactContainer$"+st,Qo="__reactEvents$"+st,Bh="__reactListeners$"+st,wi="__reactHandles$"+st,Gu="__reactResources$"+st,Ia="__reactMarker$"+st;function Ai(n){delete n[It],delete n[Tt],delete n[Qo],delete n[Bh],delete n[wi]}function jr(n){var i=n[It];if(i)return i;for(var s=n.parentNode;s;){if(i=s[Pn]||s[It]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Hv(n);n!==null;){if(s=n[It])return s;n=Hv(n)}return i}n=s,s=n.parentNode}return null}function cr(n){if(n=n[It]||n[Pn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function dr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function on(n){var i=n[Gu];return i||(i=n[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(n){n[Ia]=!0}var Xo=new Set,Ss={};function Xn(n,i){Lr(n,i),Lr(n+"Capture",i)}function Lr(n,i){for(Ss[n]=i,n=0;n<i.length;n++)Xo.add(i[n])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},ka={};function Yu(n){return Ta.call(ka,n)?!0:Ta.call(Ku,n)?!1:$u.test(n)?ka[n]=!0:(Ku[n]=!0,!1)}function Si(n,i,s){if(Yu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function hr(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Ht(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}var Da,Qu;function Ur(n){if(Da===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Da=i&&i[1]||"",Qu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+n+Qu}var xs=!1;function Rs(n,i){if(!n||xs)return"";xs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(K){var G=K}Reflect.construct(n,[],re)}else{try{re.call()}catch(K){G=K}n.call(re.prototype)}}else{try{throw Error()}catch(K){G=K}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],w=f[1];if(E&&w){var I=E.split(`
`),H=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var J=`
`+I[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Ur(s):""}function Wo(n){switch(n.tag){case 26:case 27:case 5:return Ur(n.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return Ur("Activity");default:return""}}function Ns(n){try{var i="";do i+=Wo(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qh(n){var i=Jo(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Cs(n){n._valueTracker||(n._valueTracker=qh(n))}function Zo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=Jo(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Oa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Fh=/[\n"\\]/g;function wt(n){return n.replace(Fh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function En(n,i,s,l,h,f,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+ln(i)):n.value!==""+ln(i)&&(n.value=""+ln(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?xi(n,E,ln(i)):s!=null?xi(n,E,ln(s)):l!=null&&n.removeAttribute("value"),h==null&&f!=null&&(n.defaultChecked=!!f),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+ln(w):n.removeAttribute("name")}function Pa(n,i,s,l,h,f,E,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+ln(s):"",i=i!=null?""+ln(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function xi(n,i,s){i==="number"&&Oa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function zr(n,i,s,l){if(n=n.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=i.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&l&&(n[s].defaultSelected=!0)}else{for(s=""+ln(s),i=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Qe(n,i,s){if(i!=null&&(i=""+ln(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+ln(s):""}function Ma(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(it(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=ln(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function Mn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||Va.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function el(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Xu(n,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Xu(n,f,i[f])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(n){return Gh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Br=null;function Vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qr=null,Fr=null;function nl(n){var i=cr(n);if(i&&(n=i.stateNode)){var s=n[Tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(En(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(a(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&Zo(l)}break e;case"textarea":Qe(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&zr(n,!!s.multiple,i,!1)}}}var fr=!1;function Wu(n,i,s){if(fr)return n(i,s);fr=!0;try{var l=n(i);return l}finally{if(fr=!1,(qr!==null||Fr!==null)&&(Hc(),qr&&(i=qr,n=Fr,Fr=qr=null,nl(i),n)))for(i=0;i<n.length;i++)nl(n[i])}}function ja(n,i){var s=n.stateNode;if(s===null)return null;var l=s[Tt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Wn)try{var La={};Object.defineProperty(La,"passive",{get:function(){jn=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{jn=!1}var mr=null,Ri=null,Hr=null;function rl(){if(Hr)return Hr;var n,i=Ri,s=i.length,l,h="value"in mr?mr.value:mr.textContent,f=h.length;for(n=0;n<s&&i[n]===h[n];n++);var E=s-n;for(l=1;l<=E&&i[s-l]===h[f-l];l++);return Hr=h.slice(n,1<l?1-l:void 0)}function pr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function gr(){return!0}function il(){return!1}function jt(n){function i(s,l,h,f,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gr:il,this.isPropagationStopped=il,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=jt(Fe),Ua=v({},Fe,{view:0,detail:0}),Ju=jt(Ua),Ds,Os,yr,za=v({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yr&&(yr&&n.type==="mousemove"?(Ds=n.screenX-yr.screenX,Os=n.screenY-yr.screenY):Os=Ds=0,yr=n),Ds)},movementY:function(n){return"movementY"in n?n.movementY:Os}}),Ln=jt(za),Zu=v({},za,{dataTransfer:0}),$h=jt(Zu),Ba=v({},Ua,{relatedTarget:0}),Ps=jt(Ba),al=v({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=jt(al),ec=v({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vs=jt(ec),Kh=v({},Fe,{data:0}),sl=jt(Kh),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=nc[n])?!!i[n]:!1}function Fa(){return ol}var rc=v({},Ua,{key:function(n){if(n.key){var i=qa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(n){return n.type==="keypress"?pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),js=jt(rc),ic=v({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=jt(ic),Gr=v({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),ac=jt(Gr),sc=v({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=jt(sc),lc=v({},za,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=jt(lc),un=v({},Fe,{newState:0,oldState:0}),uc=jt(un),cc=[9,13,27,32],_r=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var _=Wn&&"TextEvent"in window&&!c,b=Wn&&(!_r||c&&8<c&&11>=c),S=" ",q=!1;function Y(n,i){switch(n){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function kt(n,i){switch(n){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(q=!0,S);case"textInput":return n=i.data,n===S&&q?null:n;default:return null}}function je(n,i){if(Ve)return n==="compositionend"||!_r&&Y(n,i)?(n=rl(),Hr=Ri=mr=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Lt[n.type]:i==="textarea"}function $r(n,i,s,l){qr?Fr?Fr.push(l):Fr=[l]:qr=l,i=Xc(i,"onChange"),0<i.length&&(s=new ks("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var Gt=null,vr=null;function ul(n){Pv(n,0)}function dc(n){var i=dr(n);if(Zo(i))return n}function ty(n,i){if(n==="change")return i}var ny=!1;if(Wn){var Yh;if(Wn){var Qh="oninput"in document;if(!Qh){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Qh=typeof ry.oninput=="function"}Yh=Qh}else Yh=!1;ny=Yh&&(!document.documentMode||9<document.documentMode)}function iy(){Gt&&(Gt.detachEvent("onpropertychange",ay),vr=Gt=null)}function ay(n){if(n.propertyName==="value"&&dc(vr)){var i=[];$r(i,vr,n,Vn(n)),Wu(ul,i)}}function GA(n,i,s){n==="focusin"?(iy(),Gt=i,vr=s,Gt.attachEvent("onpropertychange",ay)):n==="focusout"&&iy()}function $A(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dc(vr)}function KA(n,i){if(n==="click")return dc(i)}function YA(n,i){if(n==="input"||n==="change")return dc(i)}function QA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Tn=typeof Object.is=="function"?Object.is:QA;function cl(n,i){if(Tn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ta.call(i,h)||!Tn(n[h],i[h]))return!1}return!0}function sy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oy(n,i){var s=sy(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sy(s)}}function ly(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ly(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function uy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Oa(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Oa(n.document)}return i}function Xh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var XA=Wn&&"documentMode"in document&&11>=document.documentMode,Us=null,Wh=null,dl=null,Jh=!1;function cy(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||Us==null||Us!==Oa(l)||(l=Us,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&cl(dl,l)||(dl=l,l=Xc(Wh,"onSelect"),0<l.length&&(i=new ks("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=Us)))}function Ha(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var zs={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Zh={},dy={};Wn&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ga(n){if(Zh[n])return Zh[n];if(!zs[n])return n;var i=zs[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in dy)return Zh[n]=i[s];return n}var hy=Ga("animationend"),fy=Ga("animationiteration"),my=Ga("animationstart"),WA=Ga("transitionrun"),JA=Ga("transitionstart"),ZA=Ga("transitioncancel"),py=Ga("transitionend"),gy=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Jn(n,i){gy.set(n,i),Xn(i,[n])}var yy=new WeakMap;function Un(n,i){if(typeof n=="object"&&n!==null){var s=yy.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Ns(i)},yy.set(n,i),i)}return{value:n,source:i,stack:Ns(i)}}var zn=[],Bs=0,tf=0;function hc(){for(var n=Bs,i=tf=Bs=0;i<n;){var s=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var f=zn[i];if(zn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&_y(s,h,f)}}function fc(n,i,s,l){zn[Bs++]=n,zn[Bs++]=i,zn[Bs++]=s,zn[Bs++]=l,tf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nf(n,i,s,l){return fc(n,i,s,l),mc(n)}function qs(n,i){return fc(n,null,null,i),mc(n)}function _y(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=n.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(h=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,h&&i!==null&&(h=31-Zt(s),n=f.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function mc(n){if(50<Vl)throw Vl=0,um=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Fs={};function eS(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,i,s,l){return new eS(n,i,s,l)}function rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kr(n,i){var s=n.alternate;return s===null?(s=wn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function vy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function pc(n,i,s,l,h,f){var E=0;if(l=n,typeof n=="function")rf(n)&&(E=1);else if(typeof n=="string")E=n1(n,s,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=wn(31,s,i,h),n.elementType=R,n.lanes=f,n;case k:return $a(s.children,h,f,i);case B:E=8,h|=24;break;case L:return n=wn(12,s,i,h|2),n.elementType=L,n.lanes=f,n;case oe:return n=wn(13,s,i,h),n.elementType=oe,n.lanes=f,n;case te:return n=wn(19,s,i,h),n.elementType=te,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:case ne:E=10;break e;case Q:E=9;break e;case se:E=11;break e;case C:E=14;break e;case x:E=16,l=null;break e}E=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=wn(E,s,i,h),i.elementType=n,i.type=l,i.lanes=f,i}function $a(n,i,s,l){return n=wn(7,n,l,i),n.lanes=s,n}function af(n,i,s){return n=wn(6,n,null,i),n.lanes=s,n}function sf(n,i,s){return i=wn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Hs=[],Gs=0,gc=null,yc=0,Bn=[],qn=0,Ka=null,Yr=1,Qr="";function Ya(n,i){Hs[Gs++]=yc,Hs[Gs++]=gc,gc=n,yc=i}function by(n,i,s){Bn[qn++]=Yr,Bn[qn++]=Qr,Bn[qn++]=Ka,Ka=n;var l=Yr;n=Qr;var h=32-Zt(l)-1;l&=~(1<<h),s+=1;var f=32-Zt(i)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Yr=1<<32-Zt(i)+h|s<<h|l,Qr=f+n}else Yr=1<<f|s<<h|l,Qr=n}function of(n){n.return!==null&&(Ya(n,1),by(n,1,0))}function lf(n){for(;n===gc;)gc=Hs[--Gs],Hs[Gs]=null,yc=Hs[--Gs],Hs[Gs]=null;for(;n===Ka;)Ka=Bn[--qn],Bn[qn]=null,Qr=Bn[--qn],Bn[qn]=null,Yr=Bn[--qn],Bn[qn]=null}var cn=null,ft=null,Be=!1,Qa=null,br=!1,uf=Error(a(519));function Xa(n){var i=Error(a(418,""));throw ml(Un(i,n)),uf}function Ey(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[It]=n,i[Tt]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Oe(Ll[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Pa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Cs(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ma(i,l.value,l.defaultValue,l.children),Cs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Lv(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||Xa(n)}function Ty(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:cn=cn.return}}function hl(n){if(n!==cn)return!1;if(!Be)return Ty(n),Be=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Sm(n.type,n.memoizedProps)),s=!s),s&&ft&&Xa(n),Ty(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){ft=er(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}ft=null}}else i===27?(i=ft,Fi(n.type)?(n=Cm,Cm=null,ft=n):ft=i):ft=cn?er(n.stateNode.nextSibling):null;return!0}function fl(){ft=cn=null,Be=!1}function wy(){var n=Qa;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Qa=null),n}function ml(n){Qa===null?Qa=[n]:Qa.push(n)}var cf=ae(null),Wa=null,Xr=null;function Ni(n,i,s){le(cf,i._currentValue),i._currentValue=s}function Wr(n){n._currentValue=cf.current,de(cf)}function df(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function hf(n,i,s,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var I=0;I<i.length;I++)if(w.context===i[I]){f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),df(f.return,s,n),l||(E=null);break e}f=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),df(E,s,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function pl(n,i,s,l){n=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=h.type;Tn(h.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(h===Vt.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}h=h.return}n!==null&&hf(i,n,s,l),i.flags|=262144}function _c(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ja(n){Wa=n,Xr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return Ay(Wa,n)}function vc(n,i){return Wa===null&&Ja(n),Ay(n,i)}function Ay(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Xr===null){if(n===null)throw Error(a(308));Xr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Xr=Xr.next=i;return s}var tS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},nS=r.unstable_scheduleCallback,rS=r.unstable_NormalPriority,Ot={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new tS,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&nS(rS,function(){n.controller.abort()})}var yl=null,mf=0,$s=0,Ks=null;function iS(n,i){if(yl===null){var s=yl=[];mf=0,$s=gm(),Ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mf++,i.then(Sy,Sy),i}function Sy(){if(--mf===0&&yl!==null){Ks!==null&&(Ks.status="fulfilled");var n=yl;yl=null,$s=0,Ks=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function aS(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var xy=W.S;W.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iS(n,i),xy!==null&&xy(n,i)};var Za=ae(null);function pf(){var n=Za.current;return n!==null?n:nt.pooledCache}function bc(n,i){i===null?le(Za,Za.current):le(Za,i.pool)}function Ry(){var n=pf();return n===null?null:{parent:Ot._currentValue,pool:n}}var _l=Error(a(460)),Ny=Error(a(474)),Ec=Error(a(542)),gf={then:function(){}};function Cy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function Iy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Tc,Tc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Dy(n),n;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Dy(n),n}throw vl=i,_l}}var vl=null;function ky(){if(vl===null)throw Error(a(459));var n=vl;return vl=null,n}function Dy(n){if(n===_l||n===Ec)throw Error(a(483))}var Ci=!1;function yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ii(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ki(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=mc(n),_y(n,null,s),i}return fc(n,l,i,s),mc(n)}function bl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Yo(n,s)}}function vf(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var bf=!1;function El(){if(bf){var n=Ks;if(n!==null)throw n}}function Tl(n,i,s,l){bf=!1;var h=n.updateQueue;Ci=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,H=I.next;I.next=null,E===null?f=H:E.next=H,E=I;var J=n.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=H:w.next=H,J.lastBaseUpdate=I))}if(f!==null){var re=h.baseState;E=0,J=H=I=null,w=f;do{var G=w.lane&-536870913,K=G!==w.lane;if(K?(Le&G)===G:(l&G)===G){G!==0&&G===$s&&(bf=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=n,ve=w;G=i;var Je=s;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){re=we.call(Je,re,G);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,G=typeof we=="function"?we.call(Je,re,G):we,G==null)break e;re=v({},re,G);break e;case 2:Ci=!0}}G=w.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(H=J=K,I=re):J=J.next=K,E|=G;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;K=w,w=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(I=re),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Ui|=E,n.lanes=E,n.memoizedState=re}}function Oy(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Py(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Oy(s[n],i)}var Ys=ae(null),wc=ae(0);function My(n,i){n=ii,le(wc,n),le(Ys,i),ii=n|i.baseLanes}function Ef(){le(wc,ii),le(Ys,Ys.current)}function Tf(){ii=wc.current,de(Ys),de(wc)}var Di=0,Ne=null,Xe=null,At=null,Ac=!1,Qs=!1,es=!1,Sc=0,wl=0,Xs=null,sS=0;function _t(){throw Error(a(321))}function wf(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Tn(n[s],i[s]))return!1;return!0}function Af(n,i,s,l,h,f){return Di=f,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=n===null||n.memoizedState===null?__:v_,es=!1,f=s(l,h),es=!1,Qs&&(f=jy(i,s,l,h)),Vy(n),f}function Vy(n){W.H=kc;var i=Xe!==null&&Xe.next!==null;if(Di=0,At=Xe=Ne=null,Ac=!1,wl=0,Xs=null,i)throw Error(a(300));n===null||Ut||(n=n.dependencies,n!==null&&_c(n)&&(Ut=!0))}function jy(n,i,s,l){Ne=n;var h=0;do{if(Qs&&(Xs=null),wl=0,Qs=!1,25<=h)throw Error(a(301));if(h+=1,At=Xe=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}W.H=fS,f=i(s,l)}while(Qs);return f}function oS(){var n=W.H,i=n.useState()[0];return i=typeof i.then=="function"?Al(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ne.flags|=1024),i}function Sf(){var n=Sc!==0;return Sc=0,n}function xf(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Rf(n){if(Ac){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ac=!1}Di=0,At=Xe=Ne=null,Qs=!1,wl=Sc=0,Xs=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ne.memoizedState=At=n:At=At.next=n,At}function St(){if(Xe===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=At===null?Ne.memoizedState:At.next;if(i!==null)At=i,Xe=n;else{if(n===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?Ne.memoizedState=At=n:At=At.next=n}return At}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(n){var i=wl;return wl+=1,Xs===null&&(Xs=[]),n=Iy(Xs,n,i),i=Ne,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?__:v_),n}function xc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===ne)return en(n)}throw Error(a(438,String(n)))}function Cf(n){var i=null,s=Ne.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Nf(),Ne.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=P;return i.index++,s}function Jr(n,i){return typeof i=="function"?i(n):i}function Rc(n){var i=St();return If(i,Xe,n)}function If(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=n.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}i.baseQueue=h=f,l.pending=null}if(f=n.baseState,h===null)n.memoizedState=f;else{i=h.next;var w=E=null,I=null,H=i,J=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(Le&re)===re:(Di&re)===re){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===$s&&(J=!0);else if((Di&G)===G){H=H.next,G===$s&&(J=!0);continue}else re={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(w=I=re,E=f):I=I.next=re,Ne.lanes|=G,Ui|=G;re=H.action,es&&s(f,re),f=H.hasEagerState?H.eagerState:s(f,re)}else G={lane:re,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(w=I=G,E=f):I=I.next=G,Ne.lanes|=re,Ui|=re;H=H.next}while(H!==null&&H!==i);if(I===null?E=f:I.next=w,!Tn(f,n.memoizedState)&&(Ut=!0,J&&(s=Ks,s!==null)))throw s;n.memoizedState=f,n.baseState=E,n.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kf(n){var i=St(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do f=n(f,E.action),E=E.next;while(E!==h);Tn(f,i.memoizedState)||(Ut=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function Ly(n,i,s){var l=Ne,h=St(),f=Be;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Tn((Xe||h).memoizedState,s);E&&(h.memoizedState=s,Ut=!0),h=h.queue;var w=By.bind(null,l,h,n);if(Sl(2048,8,w,[n]),h.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ws(9,Nc(),zy.bind(null,l,h,s,i),null),nt===null)throw Error(a(349));f||(Di&124)!==0||Uy(l,i,s)}return s}function Uy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ne.updateQueue,i===null?(i=Nf(),Ne.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function zy(n,i,s,l){i.value=s,i.getSnapshot=l,qy(i)&&Fy(n)}function By(n,i,s){return s(function(){qy(i)&&Fy(n)})}function qy(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Tn(n,s)}catch{return!0}}function Fy(n){var i=qs(n,2);i!==null&&Nn(i,n,2)}function Df(n){var i=fn();if(typeof n=="function"){var s=n;if(n=s(),es){bn(!0);try{s()}finally{bn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:n},i}function Hy(n,i,s,l){return n.baseState=s,If(n,Xe,typeof l=="function"?l:Jr)}function lS(n,i,s,l,h){if(Ic(n))throw Error(a(485));if(n=i.action,n!==null){var f={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};W.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,Gy(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Gy(n,i){var s=i.action,l=i.payload,h=n.state;if(i.isTransition){var f=W.T,E={};W.T=E;try{var w=s(h,l),I=W.S;I!==null&&I(E,w),$y(n,i,w)}catch(H){Of(n,i,H)}finally{W.T=f}}else try{f=s(h,l),$y(n,i,f)}catch(H){Of(n,i,H)}}function $y(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ky(n,i,l)},function(l){return Of(n,i,l)}):Ky(n,i,s)}function Ky(n,i,s){i.status="fulfilled",i.value=s,Yy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Gy(n,s)))}function Of(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Yy(i),i=i.next;while(i!==l)}n.action=null}function Yy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Qy(n,i){return i}function Xy(n,i){if(Be){var s=nt.formState;if(s!==null){e:{var l=Ne;if(Be){if(ft){t:{for(var h=ft,f=br;h.nodeType!==8;){if(!f){h=null;break t}if(h=er(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=er(h.nextSibling),l=h.data==="F!";break e}}Xa(l)}l=!1}l&&(i=s[0])}}return s=fn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:i},s.queue=l,s=p_.bind(null,Ne,l),l.dispatch=s,l=Df(!1),f=Lf.bind(null,Ne,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,s=lS.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=n,[i,s,!1]}function Wy(n){var i=St();return Jy(i,Xe,n)}function Jy(n,i,s){if(i=If(n,i,Qy)[0],n=Rc(Jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(E){throw E===_l?Ec:E}else l=i;i=St();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Ne.flags|=2048,Ws(9,Nc(),uS.bind(null,h,s),null)),[l,f,n]}function uS(n,i){n.action=i}function Zy(n){var i=St(),s=Xe;if(s!==null)return Jy(i,s,n);St(),i=i.memoizedState,s=St();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function Ws(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Nf(),Ne.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Nc(){return{destroy:void 0,resource:void 0}}function e_(){return St().memoizedState}function Cc(n,i,s,l){var h=fn();l=l===void 0?null:l,Ne.flags|=n,h.memoizedState=Ws(1|i,Nc(),s,l)}function Sl(n,i,s,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;Xe!==null&&l!==null&&wf(l,Xe.memoizedState.deps)?h.memoizedState=Ws(i,f,s,l):(Ne.flags|=n,h.memoizedState=Ws(1|i,f,s,l))}function t_(n,i){Cc(8390656,8,n,i)}function n_(n,i){Sl(2048,8,n,i)}function r_(n,i){return Sl(4,2,n,i)}function i_(n,i){return Sl(4,4,n,i)}function a_(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function s_(n,i,s){s=s!=null?s.concat([n]):null,Sl(4,4,a_.bind(null,i,n),s)}function Pf(){}function o_(n,i){var s=St();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&wf(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function l_(n,i){var s=St();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&wf(i,l[1]))return l[0];if(l=n(),es){bn(!0);try{n()}finally{bn(!1)}}return s.memoizedState=[l,i],l}function Mf(n,i,s){return s===void 0||(Di&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=dv(),Ne.lanes|=n,Ui|=n,s)}function u_(n,i,s,l){return Tn(s,i)?s:Ys.current!==null?(n=Mf(n,s,l),Tn(n,i)||(Ut=!0),n):(Di&42)===0?(Ut=!0,n.memoizedState=s):(n=dv(),Ne.lanes|=n,Ui|=n,i)}function c_(n,i,s,l,h){var f=ce.p;ce.p=f!==0&&8>f?f:8;var E=W.T,w={};W.T=w,Lf(n,!1,i,s);try{var I=h(),H=W.S;if(H!==null&&H(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=aS(I,l);xl(n,i,J,Rn(n))}else xl(n,i,l,Rn(n))}catch(re){xl(n,i,{then:function(){},status:"rejected",reason:re},Rn())}finally{ce.p=f,W.T=E}}function cS(){}function Vf(n,i,s,l){if(n.tag!==5)throw Error(a(476));var h=d_(n).queue;c_(n,h,i,X,s===null?cS:function(){return h_(n),s(l)})}function d_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:X},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function h_(n){var i=d_(n).next.queue;xl(n,i,{},Rn())}function jf(){return en(Hl)}function f_(){return St().memoizedState}function m_(){return St().memoizedState}function dS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Rn();n=Ii(s);var l=ki(i,n,s);l!==null&&(Nn(l,i,s),bl(l,i,s)),i={cache:ff()},n.payload=i;return}i=i.return}}function hS(n,i,s){var l=Rn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ic(n)?g_(i,s):(s=nf(n,i,s,l),s!==null&&(Nn(s,n,l),y_(s,i,l)))}function p_(n,i,s){var l=Rn();xl(n,i,s,l)}function xl(n,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))g_(i,h);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,w=f(E,s);if(h.hasEagerState=!0,h.eagerState=w,Tn(w,E))return fc(n,i,h,0),nt===null&&hc(),!1}catch{}finally{}if(s=nf(n,i,h,l),s!==null)return Nn(s,n,l),y_(s,i,l),!0}return!1}function Lf(n,i,s,l){if(l={lane:2,revertLane:gm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ic(n)){if(i)throw Error(a(479))}else i=nf(n,s,l,2),i!==null&&Nn(i,n,2)}function Ic(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function g_(n,i){Qs=Ac=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function y_(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Yo(n,s)}}var kc={readContext:en,use:xc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},__={readContext:en,use:xc,useCallback:function(n,i){return fn().memoizedState=[n,i===void 0?null:i],n},useContext:en,useEffect:t_,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Cc(4194308,4,a_.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Cc(4194308,4,n,i)},useInsertionEffect:function(n,i){Cc(4,2,n,i)},useMemo:function(n,i){var s=fn();i=i===void 0?null:i;var l=n();if(es){bn(!0);try{n()}finally{bn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=fn();if(s!==void 0){var h=s(i);if(es){bn(!0);try{s(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=hS.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=fn();return n={current:n},i.memoizedState=n},useState:function(n){n=Df(n);var i=n.queue,s=p_.bind(null,Ne,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Pf,useDeferredValue:function(n,i){var s=fn();return Mf(s,n,i)},useTransition:function(){var n=Df(!1);return n=c_.bind(null,Ne,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=Ne,h=fn();if(Be){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),nt===null)throw Error(a(349));(Le&124)!==0||Uy(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,t_(By.bind(null,l,f,n),[n]),l.flags|=2048,Ws(9,Nc(),zy.bind(null,l,f,s,i),null),s},useId:function(){var n=fn(),i=nt.identifierPrefix;if(Be){var s=Qr,l=Yr;s=(l&~(1<<32-Zt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Sc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=sS++,i="«"+i+"r"+s.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:jf,useFormState:Xy,useActionState:Xy,useOptimistic:function(n){var i=fn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Lf.bind(null,Ne,!0,s),s.dispatch=i,[n,i]},useMemoCache:Cf,useCacheRefresh:function(){return fn().memoizedState=dS.bind(null,Ne)}},v_={readContext:en,use:xc,useCallback:o_,useContext:en,useEffect:n_,useImperativeHandle:s_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:Rc,useRef:e_,useState:function(){return Rc(Jr)},useDebugValue:Pf,useDeferredValue:function(n,i){var s=St();return u_(s,Xe.memoizedState,n,i)},useTransition:function(){var n=Rc(Jr)[0],i=St().memoizedState;return[typeof n=="boolean"?n:Al(n),i]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:jf,useFormState:Wy,useActionState:Wy,useOptimistic:function(n,i){var s=St();return Hy(s,Xe,n,i)},useMemoCache:Cf,useCacheRefresh:m_},fS={readContext:en,use:xc,useCallback:o_,useContext:en,useEffect:n_,useImperativeHandle:s_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:kf,useRef:e_,useState:function(){return kf(Jr)},useDebugValue:Pf,useDeferredValue:function(n,i){var s=St();return Xe===null?Mf(s,n,i):u_(s,Xe.memoizedState,n,i)},useTransition:function(){var n=kf(Jr)[0],i=St().memoizedState;return[typeof n=="boolean"?n:Al(n),i]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:jf,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,i){var s=St();return Xe!==null?Hy(s,Xe,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:m_},Js=null,Rl=0;function Dc(n){var i=Rl;return Rl+=1,Js===null&&(Js=[]),Iy(Js,n,i)}function Nl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Oc(n,i){throw i.$$typeof===A?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function b_(n){var i=n._init;return i(n._payload)}function E_(n){function i(z,V){if(n){var F=z.deletions;F===null?(z.deletions=[V],z.flags|=16):F.push(V)}}function s(z,V){if(!n)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Kr(z,V),z.index=0,z.sibling=null,z}function f(z,V,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<V?(z.flags|=67108866,V):F):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,V,F,Z){return V===null||V.tag!==6?(V=af(F,z.mode,Z),V.return=z,V):(V=h(V,F),V.return=z,V)}function I(z,V,F,Z){var pe=F.type;return pe===k?J(z,V,F.props.children,Z,F.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&b_(pe)===V.type)?(V=h(V,F.props),Nl(V,F),V.return=z,V):(V=pc(F.type,F.key,F.props,null,z.mode,Z),Nl(V,F),V.return=z,V)}function H(z,V,F,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=sf(F,z.mode,Z),V.return=z,V):(V=h(V,F.children||[]),V.return=z,V)}function J(z,V,F,Z,pe){return V===null||V.tag!==7?(V=$a(F,z.mode,Z,pe),V.return=z,V):(V=h(V,F),V.return=z,V)}function re(z,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=af(""+V,z.mode,F),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return F=pc(V.type,V.key,V.props,null,z.mode,F),Nl(F,V),F.return=z,F;case D:return V=sf(V,z.mode,F),V.return=z,V;case x:var Z=V._init;return V=Z(V._payload),re(z,V,F)}if(it(V)||M(V))return V=$a(V,z.mode,F,null),V.return=z,V;if(typeof V.then=="function")return re(z,Dc(V),F);if(V.$$typeof===ne)return re(z,vc(z,V),F);Oc(z,V)}return null}function G(z,V,F,Z){var pe=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:w(z,V,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===pe?I(z,V,F,Z):null;case D:return F.key===pe?H(z,V,F,Z):null;case x:return pe=F._init,F=pe(F._payload),G(z,V,F,Z)}if(it(F)||M(F))return pe!==null?null:J(z,V,F,Z,null);if(typeof F.then=="function")return G(z,V,Dc(F),Z);if(F.$$typeof===ne)return G(z,V,vc(z,F),Z);Oc(z,F)}return null}function K(z,V,F,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(F)||null,w(V,z,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return z=z.get(Z.key===null?F:Z.key)||null,I(V,z,Z,pe);case D:return z=z.get(Z.key===null?F:Z.key)||null,H(V,z,Z,pe);case x:var ke=Z._init;return Z=ke(Z._payload),K(z,V,F,Z,pe)}if(it(Z)||M(Z))return z=z.get(F)||null,J(V,z,Z,pe,null);if(typeof Z.then=="function")return K(z,V,F,Dc(Z),pe);if(Z.$$typeof===ne)return K(z,V,F,vc(V,Z),pe);Oc(V,Z)}return null}function we(z,V,F,Z){for(var pe=null,ke=null,ge=V,be=V=0,Bt=null;ge!==null&&be<F.length;be++){ge.index>be?(Bt=ge,ge=null):Bt=ge.sibling;var ze=G(z,ge,F[be],Z);if(ze===null){ge===null&&(ge=Bt);break}n&&ge&&ze.alternate===null&&i(z,ge),V=f(ze,V,be),ke===null?pe=ze:ke.sibling=ze,ke=ze,ge=Bt}if(be===F.length)return s(z,ge),Be&&Ya(z,be),pe;if(ge===null){for(;be<F.length;be++)ge=re(z,F[be],Z),ge!==null&&(V=f(ge,V,be),ke===null?pe=ge:ke.sibling=ge,ke=ge);return Be&&Ya(z,be),pe}for(ge=l(ge);be<F.length;be++)Bt=K(ge,z,be,F[be],Z),Bt!==null&&(n&&Bt.alternate!==null&&ge.delete(Bt.key===null?be:Bt.key),V=f(Bt,V,be),ke===null?pe=Bt:ke.sibling=Bt,ke=Bt);return n&&ge.forEach(function(Yi){return i(z,Yi)}),Be&&Ya(z,be),pe}function ve(z,V,F,Z){if(F==null)throw Error(a(151));for(var pe=null,ke=null,ge=V,be=V=0,Bt=null,ze=F.next();ge!==null&&!ze.done;be++,ze=F.next()){ge.index>be?(Bt=ge,ge=null):Bt=ge.sibling;var Yi=G(z,ge,ze.value,Z);if(Yi===null){ge===null&&(ge=Bt);break}n&&ge&&Yi.alternate===null&&i(z,ge),V=f(Yi,V,be),ke===null?pe=Yi:ke.sibling=Yi,ke=Yi,ge=Bt}if(ze.done)return s(z,ge),Be&&Ya(z,be),pe;if(ge===null){for(;!ze.done;be++,ze=F.next())ze=re(z,ze.value,Z),ze!==null&&(V=f(ze,V,be),ke===null?pe=ze:ke.sibling=ze,ke=ze);return Be&&Ya(z,be),pe}for(ge=l(ge);!ze.done;be++,ze=F.next())ze=K(ge,z,be,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&ge.delete(ze.key===null?be:ze.key),V=f(ze,V,be),ke===null?pe=ze:ke.sibling=ze,ke=ze);return n&&ge.forEach(function(m1){return i(z,m1)}),Be&&Ya(z,be),pe}function Je(z,V,F,Z){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var pe=F.key;V!==null;){if(V.key===pe){if(pe=F.type,pe===k){if(V.tag===7){s(z,V.sibling),Z=h(V,F.props.children),Z.return=z,z=Z;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&b_(pe)===V.type){s(z,V.sibling),Z=h(V,F.props),Nl(Z,F),Z.return=z,z=Z;break e}s(z,V);break}else i(z,V);V=V.sibling}F.type===k?(Z=$a(F.props.children,z.mode,Z,F.key),Z.return=z,z=Z):(Z=pc(F.type,F.key,F.props,null,z.mode,Z),Nl(Z,F),Z.return=z,z=Z)}return E(z);case D:e:{for(pe=F.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){s(z,V.sibling),Z=h(V,F.children||[]),Z.return=z,z=Z;break e}else{s(z,V);break}else i(z,V);V=V.sibling}Z=sf(F,z.mode,Z),Z.return=z,z=Z}return E(z);case x:return pe=F._init,F=pe(F._payload),Je(z,V,F,Z)}if(it(F))return we(z,V,F,Z);if(M(F)){if(pe=M(F),typeof pe!="function")throw Error(a(150));return F=pe.call(F),ve(z,V,F,Z)}if(typeof F.then=="function")return Je(z,V,Dc(F),Z);if(F.$$typeof===ne)return Je(z,V,vc(z,F),Z);Oc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(s(z,V.sibling),Z=h(V,F),Z.return=z,z=Z):(s(z,V),Z=af(F,z.mode,Z),Z.return=z,z=Z),E(z)):s(z,V)}return function(z,V,F,Z){try{Rl=0;var pe=Je(z,V,F,Z);return Js=null,pe}catch(ge){if(ge===_l||ge===Ec)throw ge;var ke=wn(29,ge,null,z.mode);return ke.lanes=Z,ke.return=z,ke}finally{}}}var Zs=E_(!0),T_=E_(!1),Fn=ae(null),Er=null;function Oi(n){var i=n.alternate;le(Pt,Pt.current&1),le(Fn,n),Er===null&&(i===null||Ys.current!==null||i.memoizedState!==null)&&(Er=n)}function w_(n){if(n.tag===22){if(le(Pt,Pt.current),le(Fn,n),Er===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Er=n)}}else Pi()}function Pi(){le(Pt,Pt.current),le(Fn,Fn.current)}function Zr(n){de(Fn),Er===n&&(Er=null),de(Pt)}var Pt=ae(0);function Pc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Nm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Uf(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var zf={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Rn(),h=Ii(l);h.payload=i,s!=null&&(h.callback=s),i=ki(n,h,l),i!==null&&(Nn(i,n,l),bl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Rn(),h=Ii(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ki(n,h,l),i!==null&&(Nn(i,n,l),bl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Rn(),l=Ii(s);l.tag=2,i!=null&&(l.callback=i),i=ki(n,l,s),i!==null&&(Nn(i,n,s),bl(i,n,s))}};function A_(n,i,s,l,h,f,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!cl(s,l)||!cl(h,f):!0}function S_(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&zf.enqueueReplaceState(i,i.state,null)}function ts(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=v({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var Mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function x_(n){Mc(n)}function R_(n){console.error(n)}function N_(n){Mc(n)}function Vc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function C_(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(n,i,s){return s=Ii(s),s.tag=3,s.payload={element:null},s.callback=function(){Vc(n,i)},s}function I_(n){return n=Ii(n),n.tag=3,n}function k_(n,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;n.payload=function(){return h(f)},n.callback=function(){C_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){C_(i,s,l),typeof h!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function mS(n,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&pl(i,s,h,!0),s=Fn.current,s!==null){switch(s.tag){case 13:return Er===null?dm():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===gf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),fm(n,l,h)),!1;case 22:return s.flags|=65536,l===gf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),fm(n,l,h)),!1}throw Error(a(435,s.tag))}return fm(n,l,h),dm(),!1}if(Be)return i=Fn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==uf&&(n=Error(a(422),{cause:l}),ml(Un(n,s)))):(l!==uf&&(i=Error(a(423),{cause:l}),ml(Un(i,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Un(l,s),h=Bf(n.stateNode,l,h),vf(n,h),mt!==4&&(mt=2)),!1;var f=Error(a(520),{cause:l});if(f=Un(f,s),Ml===null?Ml=[f]:Ml.push(f),mt!==4&&(mt=2),i===null)return!0;l=Un(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=Bf(s.stateNode,l,n),vf(s,n),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zi===null||!zi.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=I_(h),k_(h,n,s,l),vf(s,h),!1}s=s.return}while(s!==null);return!1}var D_=Error(a(461)),Ut=!1;function $t(n,i,s,l){i.child=n===null?T_(i,null,s,l):Zs(i,n.child,s,l)}function O_(n,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ja(i),l=Af(n,i,s,E,f,h),w=Sf(),n!==null&&!Ut?(xf(n,i,h),ei(n,i,h)):(Be&&w&&of(i),i.flags|=1,$t(n,i,l,h),i.child)}function P_(n,i,s,l,h){if(n===null){var f=s.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,M_(n,i,f,l,h)):(n=pc(s.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,!Qf(n,h)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:cl,s(E,l)&&n.ref===i.ref)return ei(n,i,h)}return i.flags|=1,n=Kr(f,l),n.ref=i.ref,n.return=i,i.child=n}function M_(n,i,s,l,h){if(n!==null){var f=n.memoizedProps;if(cl(f,l)&&n.ref===i.ref)if(Ut=!1,i.pendingProps=l=f,Qf(n,h))(n.flags&131072)!==0&&(Ut=!0);else return i.lanes=n.lanes,ei(n,i,h)}return qf(n,i,s,l,h)}function V_(n,i,s){var l=i.pendingProps,h=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,n!==null){for(h=i.child=n.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return j_(n,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&bc(i,f!==null?f.cachePool:null),f!==null?My(i,f):Ef(),w_(i);else return i.lanes=i.childLanes=536870912,j_(n,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(bc(i,f.cachePool),My(i,f),Pi(),i.memoizedState=null):(n!==null&&bc(i,null),Ef(),Pi());return $t(n,i,h,s),i.child}function j_(n,i,s,l){var h=pf();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},n!==null&&bc(i,null),Ef(),w_(i),n!==null&&pl(n,i,l,!0),null}function jc(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function qf(n,i,s,l,h){return Ja(i),s=Af(n,i,s,l,void 0,h),l=Sf(),n!==null&&!Ut?(xf(n,i,h),ei(n,i,h)):(Be&&l&&of(i),i.flags|=1,$t(n,i,s,h),i.child)}function L_(n,i,s,l,h,f){return Ja(i),i.updateQueue=null,s=jy(i,l,s,h),Vy(n),l=Sf(),n!==null&&!Ut?(xf(n,i,f),ei(n,i,f)):(Be&&l&&of(i),i.flags|=1,$t(n,i,s,f),i.child)}function U_(n,i,s,l,h){if(Ja(i),i.stateNode===null){var f=Fs,E=s.contextType;typeof E=="object"&&E!==null&&(f=en(E)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},yf(i),E=s.contextType,f.context=typeof E=="object"&&E!==null?en(E):Fs,f.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Uf(i,s,E,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&zf.enqueueReplaceState(f,f.state,null),Tl(i,l,f,h),El(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){f=i.stateNode;var w=i.memoizedProps,I=ts(s,w);f.props=I;var H=f.context,J=s.contextType;E=Fs,typeof J=="object"&&J!==null&&(E=en(J));var re=s.getDerivedStateFromProps;J=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||H!==E)&&S_(i,f,l,E),Ci=!1;var G=i.memoizedState;f.state=G,Tl(i,l,f,h),El(),H=i.memoizedState,w||G!==H||Ci?(typeof re=="function"&&(Uf(i,s,re,l),H=i.memoizedState),(I=Ci||A_(i,s,I,l,G,H,E))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=E,l=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,_f(n,i),E=i.memoizedProps,J=ts(s,E),f.props=J,re=i.pendingProps,G=f.context,H=s.contextType,I=Fs,typeof H=="object"&&H!==null&&(I=en(H)),w=s.getDerivedStateFromProps,(H=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==re||G!==I)&&S_(i,f,l,I),Ci=!1,G=i.memoizedState,f.state=G,Tl(i,l,f,h),El();var K=i.memoizedState;E!==re||G!==K||Ci||n!==null&&n.dependencies!==null&&_c(n.dependencies)?(typeof w=="function"&&(Uf(i,s,w,l),K=i.memoizedState),(J=Ci||A_(i,s,J,l,G,K,I)||n!==null&&n.dependencies!==null&&_c(n.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),f.props=l,f.state=K,f.context=I,l=J):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return f=l,jc(n,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,n!==null&&l?(i.child=Zs(i,n.child,null,h),i.child=Zs(i,null,s,h)):$t(n,i,s,h),i.memoizedState=f.state,n=i.child):n=ei(n,i,h),n}function z_(n,i,s,l){return fl(),i.flags|=256,$t(n,i,s,l),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(n){return{baseLanes:n,cachePool:Ry()}}function Gf(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Hn),n}function B_(n,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Be){if(h?Oi(i):Pi(),Be){var w=ft,I;if(I=w){e:{for(I=w,w=br;I.nodeType!==8;){if(!w){w=null;break e}if(I=er(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:Ka!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},I=wn(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,cn=i,ft=null,I=!0):I=!1}I||Xa(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Nm(w)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return w=l.children,l=l.fallback,h?(Pi(),h=i.mode,w=Lc({mode:"hidden",children:w},h),l=$a(l,h,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Hf(s),h.childLanes=Gf(n,E,s),i.memoizedState=Ff,l):(Oi(i),$f(i,w))}if(I=n.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(f)i.flags&256?(Oi(i),i.flags&=-257,i=Kf(n,i,s)):i.memoizedState!==null?(Pi(),i.child=n.child,i.flags|=128,i=null):(Pi(),h=l.fallback,w=i.mode,l=Lc({mode:"visible",children:l.children},w),h=$a(h,w,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Zs(i,n.child,null,s),l=i.child,l.memoizedState=Hf(s),l.childLanes=Gf(n,E,s),i.memoizedState=Ff,i=h);else if(Oi(i),Nm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(a(419)),l.stack="",l.digest=E,ml({value:l,source:null,stack:null}),i=Kf(n,i,s)}else if(Ut||pl(n,i,s,!1),E=(s&n.childLanes)!==0,Ut||E){if(E=nt,E!==null&&(l=s&-s,l=(l&42)!==0?1:Ei(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,qs(n,l),Nn(E,n,l),D_;w.data==="$?"||dm(),i=Kf(n,i,s)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ft=er(w.nextSibling),cn=i,Be=!0,Qa=null,br=!1,n!==null&&(Bn[qn++]=Yr,Bn[qn++]=Qr,Bn[qn++]=Ka,Yr=n.id,Qr=n.overflow,Ka=i),i=$f(i,l.children),i.flags|=4096);return i}return h?(Pi(),h=l.fallback,w=i.mode,I=n.child,H=I.sibling,l=Kr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Kr(H,h):(h=$a(h,w,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=n.child.memoizedState,w===null?w=Hf(s):(I=w.cachePool,I!==null?(H=Ot._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Ry(),w={baseLanes:w.baseLanes|s,cachePool:I}),h.memoizedState=w,h.childLanes=Gf(n,E,s),i.memoizedState=Ff,l):(Oi(i),s=n.child,n=s.sibling,s=Kr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function $f(n,i){return i=Lc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lc(n,i){return n=wn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Kf(n,i,s){return Zs(i,n.child,null,s),n=$f(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function q_(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),df(n.return,i,s)}function Yf(n,i,s,l,h){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function F_(n,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if($t(n,i,l.children,s),l=Pt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q_(n,s,i);else if(n.tag===19)q_(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(le(Pt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)n=s.alternate,n!==null&&Pc(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Yf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Pc(n)===null){i.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Yf(i,!0,s,null,f);break;case"together":Yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ei(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Ui|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(pl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=Kr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Kr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function Qf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&_c(n)))}function pS(n,i,s){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),Ni(i,Ot,n.memoizedState.cache),fl();break;case 27:case 5:bi(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:Ni(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?B_(n,i,s):(Oi(i),n=ei(n,i,s),n!==null?n.sibling:null);Oi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(pl(n,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return F_(n,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Pt,Pt.current),l)break;return null;case 22:case 23:return i.lanes=0,V_(n,i,s);case 24:Ni(i,Ot,n.memoizedState.cache)}return ei(n,i,s)}function H_(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Qf(n,s)&&(i.flags&128)===0)return Ut=!1,pS(n,i,s);Ut=(n.flags&131072)!==0}else Ut=!1,Be&&(i.flags&1048576)!==0&&by(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")rf(l)?(n=ts(l,n),i.tag=1,i=U_(null,i,l,n,s)):(i.tag=0,i=qf(null,i,l,n,s));else{if(l!=null){if(h=l.$$typeof,h===se){i.tag=11,i=O_(null,i,l,n,s);break e}else if(h===C){i.tag=14,i=P_(null,i,l,n,s);break e}}throw i=Ye(l)||l,Error(a(306,i,""))}}return i;case 0:return qf(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ts(l,i.pendingProps),U_(n,i,l,h,s);case 3:e:{if(tt(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,_f(n,i),Tl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Ni(i,Ot,l),l!==f.cache&&hf(i,[Ot],s,!0),El(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=z_(n,i,l,s);break e}else if(l!==h){h=Un(Error(a(424)),i),ml(h),i=z_(n,i,l,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=er(n.firstChild),cn=i,Be=!0,Qa=null,br=!0,s=T_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fl(),l===h){i=ei(n,i,s);break e}$t(n,i,l,s)}i=i.child}return i;case 26:return jc(n,i),n===null?(s=Yv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Be||(s=i.type,n=i.pendingProps,l=Jc(Ae.current).createElement(s),l[It]=i,l[Tt]=n,Yt(l,s,n),yt(l),i.stateNode=l):i.memoizedState=Yv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return bi(i),n===null&&Be&&(l=i.stateNode=Gv(i.type,i.pendingProps,Ae.current),cn=i,br=!0,h=ft,Fi(i.type)?(Cm=h,ft=er(l.firstChild)):ft=h),$t(n,i,i.pendingProps.children,s),jc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Be&&((h=l=ft)&&(l=FS(l,i.type,i.pendingProps,br),l!==null?(i.stateNode=l,cn=i,ft=er(l.firstChild),br=!1,h=!0):h=!1),h||Xa(i)),bi(i),h=i.type,f=i.pendingProps,E=n!==null?n.memoizedProps:null,l=f.children,Sm(h,f)?l=null:E!==null&&Sm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(n,i,oS,null,null,s),Hl._currentValue=h),jc(n,i),$t(n,i,l,s),i.child;case 6:return n===null&&Be&&((n=s=ft)&&(s=HS(s,i.pendingProps,br),s!==null?(i.stateNode=s,cn=i,ft=null,n=!0):n=!1),n||Xa(i)),null;case 13:return B_(n,i,s);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Zs(i,null,l,s):$t(n,i,l,s),i.child;case 11:return O_(n,i,i.type,i.pendingProps,s);case 7:return $t(n,i,i.pendingProps,s),i.child;case 8:return $t(n,i,i.pendingProps.children,s),i.child;case 12:return $t(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ni(i,i.type,l.value),$t(n,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ja(i),h=en(h),l=l(h),i.flags|=1,$t(n,i,l,s),i.child;case 14:return P_(n,i,i.type,i.pendingProps,s);case 15:return M_(n,i,i.type,i.pendingProps,s);case 19:return F_(n,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},n===null?(s=Lc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Kr(n.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return V_(n,i,s);case 24:return Ja(i),l=en(Ot),n===null?(h=pf(),h===null&&(h=nt,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},yf(i),Ni(i,Ot,h)):((n.lanes&s)!==0&&(_f(n,i),Tl(i,null,null,s),El()),h=n.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ni(i,Ot,l)):(l=f.cache,Ni(i,Ot,l),l!==h.cache&&hf(i,[Ot],s,!0))),$t(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ti(n){n.flags|=4}function G_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Zv(i)){if(i=Fn.current,i!==null&&((Le&4194048)===Le?Er!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==Er))throw vl=gf,Ny;n.flags|=8192}}function Uc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?$o():536870912,n.lanes|=i,ro|=i)}function Cl(n,i){if(!Be)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function gS(n,i,s){var l=i.pendingProps;switch(lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wr(Ot),lr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(hl(i)?ti(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wy())),ut(i),null;case 26:return s=i.memoizedState,n===null?(ti(i),s!==null?(ut(i),G_(i,s)):(ut(i),i.flags&=-16777217)):s?s!==n.memoizedState?(ti(i),ut(i),G_(i,s)):(ut(i),i.flags&=-16777217):(n.memoizedProps!==l&&ti(i),ut(i),i.flags&=-16777217),null;case 27:Pr(i),s=Ae.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ut(i),null}n=_e.current,hl(i)?Ey(i):(n=Gv(h,l,s),i.stateNode=n,ti(i))}return ut(i),null;case 5:if(Pr(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ut(i),null}if(n=_e.current,hl(i))Ey(i);else{switch(h=Jc(Ae.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}n[It]=i,n[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Yt(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ti(i)}}return ut(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ti(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=Ae.current,hl(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[It]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Lv(n.nodeValue,s)),n||Xa(i)}else n=Jc(n).createTextNode(l),n[It]=i,i.stateNode=n}return ut(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=hl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=wy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Uc(i,i.updateQueue),ut(i),null;case 4:return lr(),n===null&&bm(i.stateNode.containerInfo),ut(i),null;case 10:return Wr(i.type),ut(i),null;case 19:if(de(Pt),h=i.memoizedState,h===null)return ut(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)Cl(h,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(f=Pc(n),f!==null){for(i.flags|=128,Cl(h,!1),n=f.updateQueue,i.updateQueue=n,Uc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)vy(s,n),s=s.sibling;return le(Pt,Pt.current&1|2),i.child}n=n.sibling}h.tail!==null&&On()>qc&&(i.flags|=128,l=!0,Cl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Pc(f),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Uc(i,n),Cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Be)return ut(i),null}else 2*On()-h.renderingStartTime>qc&&s!==536870912&&(i.flags|=128,l=!0,Cl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(n=h.last,n!==null?n.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,n=Pt.current,le(Pt,l?n&1|2:n&1),i):(ut(i),null);case 22:case 23:return Zr(i),Tf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),s=i.updateQueue,s!==null&&Uc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&de(Za),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Wr(Ot),ut(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function yS(n,i){switch(lf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Wr(Ot),lr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Pr(i),null;case 13:if(Zr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));fl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return de(Pt),null;case 4:return lr(),null;case 10:return Wr(i.type),null;case 22:case 23:return Zr(i),Tf(),n!==null&&de(Za),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Wr(Ot),null;case 25:return null;default:return null}}function $_(n,i){switch(lf(i),i.tag){case 3:Wr(Ot),lr();break;case 26:case 27:case 5:Pr(i);break;case 4:lr();break;case 13:Zr(i);break;case 19:de(Pt);break;case 10:Wr(i.type);break;case 22:case 23:Zr(i),Tf(),n!==null&&de(Za);break;case 24:Wr(Ot)}}function Il(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&n)===n){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==h)}}catch(w){Ze(i,i.return,w)}}function Mi(n,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var I=s,H=w;try{H()}catch(J){Ze(h,I,J)}}}l=l.next}while(l!==f)}}catch(J){Ze(i,i.return,J)}}function K_(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Py(i,s)}catch(l){Ze(n,n.return,l)}}}function Y_(n,i,s){s.props=ts(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(n,i,l)}}function kl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(h){Ze(n,i,h)}}function Tr(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(n,i,h)}else s.current=null}function Q_(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(n,n.return,h)}}function Xf(n,i,s){try{var l=n.stateNode;LS(l,n.type,s,i),l[Tt]=i}catch(h){Ze(n,n.return,h)}}function X_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fi(n.type)||n.tag===4}function Wf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||X_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jf(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Wc));else if(l!==4&&(l===27&&Fi(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Jf(n,i,s),n=n.sibling;n!==null;)Jf(n,i,s),n=n.sibling}function zc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&Fi(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(zc(n,i,s),n=n.sibling;n!==null;)zc(n,i,s),n=n.sibling}function W_(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,s),i[It]=n,i[Tt]=s}catch(f){Ze(n,n.return,f)}}var ni=!1,vt=!1,Zf=!1,J_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function _S(n,i){if(n=n.containerInfo,wm=id,n=uy(n),Xh(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var E=0,w=-1,I=-1,H=0,J=0,re=n,G=null;t:for(;;){for(var K;re!==s||h!==0&&re.nodeType!==3||(w=E+h),re!==f||l!==0&&re.nodeType!==3||(I=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(K=re.firstChild)!==null;)G=re,re=K;for(;;){if(re===n)break t;if(G===s&&++H===h&&(w=E),G===f&&++J===l&&(I=E),(K=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=K}s=w===-1||I===-1?null:{start:w,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Am={focusedElem:n,selectionRange:s},id=!1,zt=i;zt!==null;)if(i=zt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,zt=n;else for(;zt!==null;){switch(i=zt,f=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var we=ts(s.type,h,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ze(s,s.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Rm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,zt=n;break}zt=i.return}}function Z_(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(n,s),l&4&&Il(5,s);break;case 1:if(Vi(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){Ze(s,s.return,E)}else{var h=ts(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(s,s.return,E)}}l&64&&K_(s),l&512&&kl(s,s.return);break;case 3:if(Vi(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Py(n,i)}catch(E){Ze(s,s.return,E)}}break;case 27:i===null&&l&4&&W_(s);case 26:case 5:Vi(n,s),i===null&&l&4&&Q_(s),l&512&&kl(s,s.return);break;case 12:Vi(n,s);break;case 13:Vi(n,s),l&4&&nv(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=RS.bind(null,s),GS(n,s))));break;case 22:if(l=s.memoizedState!==null||ni,!l){i=i!==null&&i.memoizedState!==null||vt,h=ni;var f=vt;ni=l,(vt=i)&&!f?ji(n,s,(s.subtreeFlags&8772)!==0):Vi(n,s),ni=h,vt=f}break;case 30:break;default:Vi(n,s)}}function ev(n){var i=n.alternate;i!==null&&(n.alternate=null,ev(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ai(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,mn=!1;function ri(n,i,s){for(s=s.child;s!==null;)tv(n,i,s),s=s.sibling}function tv(n,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ht,s)}catch{}switch(s.tag){case 26:vt||Tr(s,i),ri(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||Tr(s,i);var l=ot,h=mn;Fi(s.type)&&(ot=s.stateNode,mn=!1),ri(n,i,s),zl(s.stateNode),ot=l,mn=h;break;case 5:vt||Tr(s,i);case 6:if(l=ot,h=mn,ot=null,ri(n,i,s),ot=l,mn=h,ot!==null)if(mn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(f){Ze(s,i,f)}else try{ot.removeChild(s.stateNode)}catch(f){Ze(s,i,f)}break;case 18:ot!==null&&(mn?(n=ot,Fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Yl(n)):Fv(ot,s.stateNode));break;case 4:l=ot,h=mn,ot=s.stateNode.containerInfo,mn=!0,ri(n,i,s),ot=l,mn=h;break;case 0:case 11:case 14:case 15:vt||Mi(2,s,i),vt||Mi(4,s,i),ri(n,i,s);break;case 1:vt||(Tr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Y_(s,i,l)),ri(n,i,s);break;case 21:ri(n,i,s);break;case 22:vt=(l=vt)||s.memoizedState!==null,ri(n,i,s),vt=l;break;default:ri(n,i,s)}}function nv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(s){Ze(i,i.return,s)}}function vS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new J_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new J_),i;default:throw Error(a(435,n.tag))}}function em(n,i){var s=vS(n);i.forEach(function(l){var h=NS.bind(null,n,l);s.has(l)||(s.add(l),l.then(h,h))})}function An(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Fi(w.type)){ot=w.stateNode,mn=!1;break e}break;case 5:ot=w.stateNode,mn=!1;break e;case 3:case 4:ot=w.stateNode.containerInfo,mn=!0;break e}w=w.return}if(ot===null)throw Error(a(160));tv(f,E,h),ot=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rv(i,n),i=i.sibling}var Zn=null;function rv(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(i,n),Sn(n),l&4&&(Mi(3,n,n.return),Il(3,n),Mi(5,n,n.return));break;case 1:An(i,n),Sn(n),l&512&&(vt||s===null||Tr(s,s.return)),l&64&&ni&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Zn;if(An(i,n),Sn(n),l&512&&(vt||s===null||Tr(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ia]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,l,s),f[It]=n,yt(f),l=f;break e;case"link":var E=Wv("link","href",h).get(l+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(f=E[w],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break t}}f=h.createElement(l),Yt(f,l,s),h.head.appendChild(f);break;case"meta":if(E=Wv("meta","content",h).get(l+(s.content||""))){for(w=0;w<E.length;w++)if(f=E[w],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break t}}f=h.createElement(l),Yt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[It]=n,yt(f),l=f}n.stateNode=l}else Jv(h,n.type,n.stateNode);else n.stateNode=Xv(h,l,n.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Jv(h,n.type,n.stateNode):Xv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Xf(n,n.memoizedProps,s.memoizedProps)}break;case 27:An(i,n),Sn(n),l&512&&(vt||s===null||Tr(s,s.return)),s!==null&&l&4&&Xf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(An(i,n),Sn(n),l&512&&(vt||s===null||Tr(s,s.return)),n.flags&32){h=n.stateNode;try{Mn(h,"")}catch(K){Ze(n,n.return,K)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Xf(n,h,s!==null?s.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(An(i,n),Sn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(K){Ze(n,n.return,K)}}break;case 3:if(td=null,h=Zn,Zn=Zc(i.containerInfo),An(i,n),Zn=h,Sn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Yl(i.containerInfo)}catch(K){Ze(n,n.return,K)}Zf&&(Zf=!1,iv(n));break;case 4:l=Zn,Zn=Zc(n.stateNode.containerInfo),An(i,n),Sn(n),Zn=l;break;case 12:An(i,n),Sn(n);break;case 13:An(i,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sm=On()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,em(n,l)));break;case 22:h=n.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,H=ni,J=vt;if(ni=H||h,vt=J||I,An(i,n),vt=J,ni=H,Sn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||ni||vt||ns(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(f=I.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=I.stateNode;var re=I.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){Ze(I,I.return,K)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){Ze(I,I.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,em(n,s))));break;case 19:An(i,n),Sn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,em(n,l)));break;case 30:break;case 21:break;default:An(i,n),Sn(n)}}function Sn(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(X_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Wf(n);zc(n,f,h);break;case 5:var E=s.stateNode;s.flags&32&&(Mn(E,""),s.flags&=-33);var w=Wf(n);zc(n,w,E);break;case 3:case 4:var I=s.stateNode.containerInfo,H=Wf(n);Jf(n,H,I);break;default:throw Error(a(161))}}catch(J){Ze(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function iv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Vi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Z_(n,i.alternate,i),i=i.sibling}function ns(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Mi(4,i,i.return),ns(i);break;case 1:Tr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Y_(i,i.return,s),ns(i);break;case 27:zl(i.stateNode);case 26:case 5:Tr(i,i.return),ns(i);break;case 22:i.memoizedState===null&&ns(i);break;case 30:ns(i);break;default:ns(i)}n=n.sibling}}function ji(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:ji(h,f,s),Il(4,f);break;case 1:if(ji(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Oy(I[h],w)}catch(H){Ze(l,l.return,H)}}s&&E&64&&K_(f),kl(f,f.return);break;case 27:W_(f);case 26:case 5:ji(h,f,s),s&&l===null&&E&4&&Q_(f),kl(f,f.return);break;case 12:ji(h,f,s);break;case 13:ji(h,f,s),s&&E&4&&nv(h,f);break;case 22:f.memoizedState===null&&ji(h,f,s),kl(f,f.return);break;case 30:break;default:ji(h,f,s)}i=i.sibling}}function tm(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&gl(s))}function nm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gl(n))}function wr(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(n,i,s,l),i=i.sibling}function av(n,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:wr(n,i,s,l),h&2048&&Il(9,i);break;case 1:wr(n,i,s,l);break;case 3:wr(n,i,s,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gl(n)));break;case 12:if(h&2048){wr(n,i,s,l),n=i.stateNode;try{var f=i.memoizedProps,E=f.id,w=f.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else wr(n,i,s,l);break;case 13:wr(n,i,s,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?wr(n,i,s,l):Dl(n,i):f._visibility&2?wr(n,i,s,l):(f._visibility|=2,eo(n,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&tm(E,i);break;case 24:wr(n,i,s,l),h&2048&&nm(i.alternate,i);break;default:wr(n,i,s,l)}}function eo(n,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=n,E=i,w=s,I=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:eo(f,E,w,I,h),Il(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?eo(f,E,w,I,h):Dl(f,E):(J._visibility|=2,eo(f,E,w,I,h)),h&&H&2048&&tm(E.alternate,E);break;case 24:eo(f,E,w,I,h),h&&H&2048&&nm(E.alternate,E);break;default:eo(f,E,w,I,h)}i=i.sibling}}function Dl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,h=l.flags;switch(l.tag){case 22:Dl(s,l),h&2048&&tm(l.alternate,l);break;case 24:Dl(s,l),h&2048&&nm(l.alternate,l);break;default:Dl(s,l)}i=i.sibling}}var Ol=8192;function to(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)sv(n),n=n.sibling}function sv(n){switch(n.tag){case 26:to(n),n.flags&Ol&&n.memoizedState!==null&&i1(Zn,n.memoizedState,n.memoizedProps);break;case 5:to(n);break;case 3:case 4:var i=Zn;Zn=Zc(n.stateNode.containerInfo),to(n),Zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,to(n),Ol=i):to(n));break;default:to(n)}}function ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];zt=l,uv(l,n)}ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Mi(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Bc(n)):Pl(n);break;default:Pl(n)}}function Bc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];zt=l,uv(l,n)}ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Mi(8,i,i.return),Bc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Bc(i));break;default:Bc(i)}n=n.sibling}}function uv(n,i){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Mi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,zt=l;else e:for(s=n;zt!==null;){l=zt;var h=l.sibling,f=l.return;if(ev(l),l===s){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var bS={getCacheForType:function(n){var i=en(Ot),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},ES=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,De=null,Le=0,Ke=0,xn=null,Li=!1,no=!1,rm=!1,ii=0,mt=0,Ui=0,rs=0,im=0,Hn=0,ro=0,Ml=null,pn=null,am=!1,sm=0,qc=1/0,Fc=null,zi=null,Kt=0,Bi=null,io=null,ao=0,om=0,lm=null,cv=null,Vl=0,um=null;function Rn(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(W.T!==null){var n=$s;return n!==0?n:gm()}return Ti()}function dv(){Hn===0&&(Hn=(Le&536870912)===0||Be?Go():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),Hn}function Nn(n,i,s){(n===nt&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(so(n,0),qi(n,Le,Hn,!1)),Vr(n,s),(($e&2)===0||n!==nt)&&(n===nt&&(($e&2)===0&&(rs|=s),mt===4&&qi(n,Le,Hn,!1)),Ar(n))}function hv(n,i,s){if(($e&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Ca(n,i),h=l?AS(n,i):hm(n,i,!0),f=l;do{if(h===0){no&&!l&&qi(n,i,0,!1);break}else{if(s=n.current.alternate,f&&!TS(s)){h=hm(n,i,!1),f=!1;continue}if(h===2){if(f=i,n.errorRecoveryDisabledLanes&f)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;h=Ml;var I=w.current.memoizedState.isDehydrated;if(I&&(so(w,E).flags|=256),E=hm(w,E,!1),E!==2){if(rm&&!I){w.errorRecoveryDisabledLanes|=f,rs|=f,h=4;break e}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){so(n,0),qi(n,i,0,!0);break}e:{switch(l=n,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:qi(l,i,Hn,!Li);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=sm+300-On(),10<h)){if(qi(l,i,Hn,!Li),ws(l,0,!0)!==0)break e;l.timeoutHandle=Bv(fv.bind(null,l,s,pn,Fc,am,i,Hn,rs,ro,Li,f,2,-0,0),h);break e}fv(l,s,pn,Fc,am,i,Hn,rs,ro,Li,f,0,-0,0)}}break}while(!0);Ar(n)}function fv(n,i,s,l,h,f,E,w,I,H,J,re,G,K){if(n.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:r1},sv(i),re=a1(),re!==null)){n.cancelPendingCommit=re(bv.bind(null,n,i,f,s,l,h,E,w,I,J,1,G,K)),qi(n,f,E,!H);return}bv(n,i,f,s,l,h,E,w,I)}function TS(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qi(n,i,s,l){i&=~im,i&=~rs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var f=31-Zt(h),E=1<<f;l[f]=-1,h&=~E}s!==0&&ur(n,s,i)}function Hc(){return($e&6)===0?(jl(0),!1):!0}function cm(){if(De!==null){if(Ke===0)var n=De.return;else n=De,Xr=Wa=null,Rf(n),Js=null,Rl=0,n=De;for(;n!==null;)$_(n.alternate,n),n=n.return;De=null}}function so(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,zS(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),cm(),nt=n,De=s=Kr(n.current,null),Le=i,Ke=0,xn=null,Li=!1,no=Ca(n,i),rm=!1,ro=Hn=im=rs=Ui=mt=0,pn=Ml=null,am=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Zt(l),f=1<<h;i|=n[h],l&=~f}return ii=i,hc(),s}function mv(n,i){Ne=null,W.H=kc,i===_l||i===Ec?(i=ky(),Ke=3):i===Ny?(i=ky(),Ke=4):Ke=i===D_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,De===null&&(mt=1,Vc(n,Un(i,n.current)))}function pv(){var n=W.H;return W.H=kc,n===null?kc:n}function gv(){var n=W.A;return W.A=bS,n}function dm(){mt=4,Li||(Le&4194048)!==Le&&Fn.current!==null||(no=!0),(Ui&134217727)===0&&(rs&134217727)===0||nt===null||qi(nt,Le,Hn,!1)}function hm(n,i,s){var l=$e;$e|=2;var h=pv(),f=gv();(nt!==n||Le!==i)&&(Fc=null,so(n,i)),i=!1;var E=mt;e:do try{if(Ke!==0&&De!==null){var w=De,I=xn;switch(Ke){case 8:cm(),E=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(i=!0);var H=Ke;if(Ke=0,xn=null,oo(n,w,I,H),s&&no){E=0;break e}break;default:H=Ke,Ke=0,xn=null,oo(n,w,I,H)}}wS(),E=mt;break}catch(J){mv(n,J)}while(!0);return i&&n.shellSuspendCounter++,Xr=Wa=null,$e=l,W.H=h,W.A=f,De===null&&(nt=null,Le=0,hc()),E}function wS(){for(;De!==null;)yv(De)}function AS(n,i){var s=$e;$e|=2;var l=pv(),h=gv();nt!==n||Le!==i?(Fc=null,qc=On()+500,so(n,i)):no=Ca(n,i);e:do try{if(Ke!==0&&De!==null){i=De;var f=xn;t:switch(Ke){case 1:Ke=0,xn=null,oo(n,i,f,1);break;case 2:case 9:if(Cy(f)){Ke=0,xn=null,_v(i);break}i=function(){Ke!==2&&Ke!==9||nt!==n||(Ke=7),Ar(n)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Cy(f)?(Ke=0,xn=null,_v(i)):(Ke=0,xn=null,oo(n,i,f,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||Zv(E)){Ke=0,xn=null;var I=w.sibling;if(I!==null)De=I;else{var H=w.return;H!==null?(De=H,Gc(H)):De=null}break t}}Ke=0,xn=null,oo(n,i,f,5);break;case 6:Ke=0,xn=null,oo(n,i,f,6);break;case 8:cm(),mt=6;break e;default:throw Error(a(462))}}SS();break}catch(J){mv(n,J)}while(!0);return Xr=Wa=null,W.H=l,W.A=h,$e=s,De!==null?0:(nt=null,Le=0,hc(),mt)}function SS(){for(;De!==null&&!Bo();)yv(De)}function yv(n){var i=H_(n.alternate,n,ii);n.memoizedProps=n.pendingProps,i===null?Gc(n):De=i}function _v(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=L_(s,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=L_(s,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Rf(i);default:$_(s,i),i=De=vy(i,ii),i=H_(s,i,ii)}n.memoizedProps=n.pendingProps,i===null?Gc(n):De=i}function oo(n,i,s,l){Xr=Wa=null,Rf(i),Js=null,Rl=0;var h=i.return;try{if(mS(n,h,i,s,Le)){mt=1,Vc(n,Un(s,n.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;mt=1,Vc(n,Un(s,n.current)),De=null;return}i.flags&32768?(Be||l===1?n=!0:no||(Le&536870912)!==0?n=!1:(Li=n=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(i,n)):Gc(i)}function Gc(n){var i=n;do{if((i.flags&32768)!==0){vv(i,Li);return}n=i.return;var s=gS(i.alternate,i,ii);if(s!==null){De=s;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);mt===0&&(mt=5)}function vv(n,i){do{var s=yS(n.alternate,n);if(s!==null){s.flags&=32767,De=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=s}while(n!==null);mt=6,De=null}function bv(n,i,s,l,h,f,E,w,I){n.cancelPendingCommit=null;do $c();while(Kt!==0);if(($e&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=tf,Ko(n,s,f,E,w,I),n===nt&&(De=nt=null,Le=0),io=i,Bi=n,ao=s,om=f,lm=h,cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,CS(Sa,function(){return Sv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ce.p,ce.p=2,E=$e,$e|=4;try{_S(n,i,s)}finally{$e=E,ce.p=h,W.T=l}}Kt=1,Ev(),Tv(),wv()}}function Ev(){if(Kt===1){Kt=0;var n=Bi,i=io,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var l=ce.p;ce.p=2;var h=$e;$e|=4;try{rv(i,n);var f=Am,E=uy(n.containerInfo),w=f.focusedElem,I=f.selectionRange;if(E!==w&&w&&w.ownerDocument&&ly(w.ownerDocument.documentElement,w)){if(I!==null&&Xh(w)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(J,w.value.length);else{var re=w.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var K=G.getSelection(),we=w.textContent.length,ve=Math.min(I.start,we),Je=I.end===void 0?ve:Math.min(I.end,we);!K.extend&&ve>Je&&(E=Je,Je=ve,ve=E);var z=oy(w,ve),V=oy(w,Je);if(z&&V&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var F=re.createRange();F.setStart(z.node,z.offset),K.removeAllRanges(),ve>Je?(K.addRange(F),K.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),K.addRange(F))}}}}for(re=[],K=w;K=K.parentNode;)K.nodeType===1&&re.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var Z=re[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}id=!!wm,Am=wm=null}finally{$e=h,ce.p=l,W.T=s}}n.current=i,Kt=2}}function Tv(){if(Kt===2){Kt=0;var n=Bi,i=io,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var l=ce.p;ce.p=2;var h=$e;$e|=4;try{Z_(n,i.alternate,i)}finally{$e=h,ce.p=l,W.T=s}}Kt=3}}function wv(){if(Kt===4||Kt===3){Kt=0,Bu();var n=Bi,i=io,s=ao,l=cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,io=Bi=null,Av(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(zi=null),As(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=ce.p,ce.p=2,W.T=null;try{for(var f=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];f(w.value,{componentStack:w.stack})}}finally{W.T=i,ce.p=h}}(ao&3)!==0&&$c(),Ar(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===um?Vl++:(Vl=0,um=n):Vl=0,jl(0)}}function Av(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,gl(i)))}function $c(n){return Ev(),Tv(),wv(),Sv()}function Sv(){if(Kt!==5)return!1;var n=Bi,i=om;om=0;var s=As(ao),l=W.T,h=ce.p;try{ce.p=32>s?32:s,W.T=null,s=lm,lm=null;var f=Bi,E=ao;if(Kt=0,io=Bi=null,ao=0,($e&6)!==0)throw Error(a(331));var w=$e;if($e|=4,lv(f.current),av(f,f.current,E,s),$e=w,jl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{ce.p=h,W.T=l,Av(n,i)}}function xv(n,i,s){i=Un(s,i),i=Bf(n.stateNode,i,2),n=ki(n,i,2),n!==null&&(Vr(n,2),Ar(n))}function Ze(n,i,s){if(n.tag===3)xv(n,n,s);else for(;i!==null;){if(i.tag===3){xv(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zi===null||!zi.has(l))){n=Un(s,n),s=I_(2),l=ki(i,s,2),l!==null&&(k_(s,l,i,n),Vr(l,2),Ar(l));break}}i=i.return}}function fm(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new ES;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(rm=!0,h.add(s),n=xS.bind(null,n,i,s),i.then(n,n))}function xS(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,nt===n&&(Le&s)===s&&(mt===4||mt===3&&(Le&62914560)===Le&&300>On()-sm?($e&2)===0&&so(n,0):im|=s,ro===Le&&(ro=0)),Ar(n)}function Rv(n,i){i===0&&(i=$o()),n=qs(n,i),n!==null&&(Vr(n,i),Ar(n))}function RS(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Rv(n,s)}function NS(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Rv(n,s)}function CS(n,i){return wa(n,i)}var Kc=null,lo=null,mm=!1,Yc=!1,pm=!1,is=0;function Ar(n){n!==lo&&n.next===null&&(lo===null?Kc=lo=n:lo=lo.next=n),Yc=!0,mm||(mm=!0,kS())}function jl(n,i){if(!pm&&Yc){pm=!0;do for(var s=!1,l=Kc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Zt(42|n)+1)-1,f&=h&~(E&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,kv(l,f))}else f=Le,f=ws(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ca(l,f)||(s=!0,kv(l,f));l=l.next}while(s);pm=!1}}function IS(){Nv()}function Nv(){Yc=mm=!1;var n=0;is!==0&&(US()&&(n=is),is=0);for(var i=On(),s=null,l=Kc;l!==null;){var h=l.next,f=Cv(l,i);f===0?(l.next=null,s===null?Kc=h:s.next=h,h===null&&(lo=s)):(s=l,(n!==0||(f&3)!==0)&&(Yc=!0)),l=h}jl(n)}function Cv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var E=31-Zt(f),w=1<<E,I=h[E];I===-1?((w&s)===0||(w&l)!==0)&&(h[E]=Ho(w,i)):I<=i&&(n.expiredLanes|=w),f&=~w}if(i=nt,s=Le,s=ws(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Aa(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ca(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&Aa(l),As(s)){case 2:case 8:s=Es;break;case 32:s=Sa;break;case 268435456:s=Ts;break;default:s=Sa}return l=Iv.bind(null,n),s=wa(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&Aa(l),n.callbackPriority=2,n.callbackNode=null,2}function Iv(n,i){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if($c()&&n.callbackNode!==s)return null;var l=Le;return l=ws(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(hv(n,l,i),Cv(n,On()),n.callbackNode!=null&&n.callbackNode===s?Iv.bind(null,n):null)}function kv(n,i){if($c())return null;hv(n,i,!0)}function kS(){BS(function(){($e&6)!==0?wa(qo,IS):Nv()})}function gm(){return is===0&&(is=Go()),is}function Dv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Is(""+n)}function Ov(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function DS(n,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Dv((h[Tt]||null).action),E=l.submitter;E&&(i=(i=E[Tt]||null)?Dv(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var w=new ks("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var I=E?Ov(h,E):new FormData(h);Vf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(w.preventDefault(),I=E?Ov(h,E):new FormData(h),Vf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ym=0;ym<ef.length;ym++){var _m=ef[ym],OS=_m.toLowerCase(),PS=_m[0].toUpperCase()+_m.slice(1);Jn(OS,"on"+PS)}Jn(hy,"onAnimationEnd"),Jn(fy,"onAnimationIteration"),Jn(my,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(WA,"onTransitionRun"),Jn(JA,"onTransitionStart"),Jn(ZA,"onTransitionCancel"),Jn(py,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Pv(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,H=w.currentTarget;if(w=w.listener,I!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=H;try{f(h)}catch(J){Mc(J)}h.currentTarget=null,f=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,H=w.currentTarget,w=w.listener,I!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=H;try{f(h)}catch(J){Mc(J)}h.currentTarget=null,f=I}}}}function Oe(n,i){var s=i[Qo];s===void 0&&(s=i[Qo]=new Set);var l=n+"__bubble";s.has(l)||(Mv(i,n,2,!1),s.add(l))}function vm(n,i,s){var l=0;i&&(l|=4),Mv(s,n,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function bm(n){if(!n[Qc]){n[Qc]=!0,Xo.forEach(function(s){s!=="selectionchange"&&(MS.has(s)||vm(s,!1,n),vm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,vm("selectionchange",!1,i))}}function Mv(n,i,s,l){switch(a0(i)){case 2:var h=l1;break;case 8:h=u1;break;default:h=Pm}s=h.bind(null,i,s,n),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,s,{capture:!0,passive:h}):n.addEventListener(i,s,!0):h!==void 0?n.addEventListener(i,s,{passive:h}):n.addEventListener(i,s,!1)}function Em(n,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=jr(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=f=E;continue e}w=w.parentNode}}l=l.return}Wu(function(){var H=f,J=Vn(s),re=[];e:{var G=gy.get(n);if(G!==void 0){var K=ks,we=n;switch(n){case"keypress":if(pr(s)===0)break e;case"keydown":case"keyup":K=js;break;case"focusin":we="focus",K=Ps;break;case"focusout":we="blur",K=Ps;break;case"beforeblur":case"afterblur":K=Ps;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ac;break;case hy:case fy:case my:K=Ms;break;case py:K=oc;break;case"scroll":case"scrollend":K=Ju;break;case"wheel":K=Ls;break;case"copy":case"cut":case"paste":K=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ll;break;case"toggle":case"beforetoggle":K=uc}var ve=(i&4)!==0,Je=!ve&&(n==="scroll"||n==="scrollend"),z=ve?G!==null?G+"Capture":null:G;ve=[];for(var V=H,F;V!==null;){var Z=V;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||z===null||(Z=ja(V,z),Z!=null&&ve.push(Ul(V,Z,F))),Je)break;V=V.return}0<ve.length&&(G=new K(G,we,null,s,J),re.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&s!==Br&&(we=s.relatedTarget||s.fromElement)&&(jr(we)||we[Pn]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(we=s.relatedTarget||s.toElement,K=H,we=we?jr(we):null,we!==null&&(Je=u(we),ve=we.tag,we!==Je||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(K=null,we=H),K!==we)){if(ve=Ln,Z="onMouseLeave",z="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(ve=ll,Z="onPointerLeave",z="onPointerEnter",V="pointer"),Je=K==null?G:dr(K),F=we==null?G:dr(we),G=new ve(Z,V+"leave",K,s,J),G.target=Je,G.relatedTarget=F,Z=null,jr(J)===H&&(ve=new ve(z,V+"enter",we,s,J),ve.target=F,ve.relatedTarget=Je,Z=ve),Je=Z,K&&we)t:{for(ve=K,z=we,V=0,F=ve;F;F=uo(F))V++;for(F=0,Z=z;Z;Z=uo(Z))F++;for(;0<V-F;)ve=uo(ve),V--;for(;0<F-V;)z=uo(z),F--;for(;V--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=uo(ve),z=uo(z)}ve=null}else ve=null;K!==null&&Vv(re,G,K,ve,!1),we!==null&&Je!==null&&Vv(re,Je,we,ve,!0)}}e:{if(G=H?dr(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var pe=ty;else if(Dt(G))if(ny)pe=YA;else{pe=$A;var ke=GA}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&tl(H.elementType)&&(pe=ty):pe=KA;if(pe&&(pe=pe(n,H))){$r(re,pe,s,J);break e}ke&&ke(n,G,H),n==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&xi(G,"number",G.value)}switch(ke=H?dr(H):window,n){case"focusin":(Dt(ke)||ke.contentEditable==="true")&&(Us=ke,Wh=H,dl=null);break;case"focusout":dl=Wh=Us=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,cy(re,s,J);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":cy(re,s,J)}var ge;if(_r)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ve?Y(n,s)&&(be="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(b&&s.locale!=="ko"&&(Ve||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ve&&(ge=rl()):(mr=J,Ri="value"in mr?mr.value:mr.textContent,Ve=!0)),ke=Xc(H,be),0<ke.length&&(be=new sl(be,n,null,s,J),re.push({event:be,listeners:ke}),ge?be.data=ge:(ge=ue(s),ge!==null&&(be.data=ge)))),(ge=_?kt(n,s):je(n,s))&&(be=Xc(H,"onBeforeInput"),0<be.length&&(ke=new sl("onBeforeInput","beforeinput",null,s,J),re.push({event:ke,listeners:be}),ke.data=ge)),DS(re,n,H,s,J)}Pv(re,i)})}function Ul(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Xc(n,i){for(var s=i+"Capture",l=[];n!==null;){var h=n,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ja(n,s),h!=null&&l.unshift(Ul(n,h,f)),h=ja(n,i),h!=null&&l.push(Ul(n,h,f))),n.tag===3)return l;n=n.return}return[]}function uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Vv(n,i,s,l,h){for(var f=i._reactName,E=[];s!==null&&s!==l;){var w=s,I=w.alternate,H=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||H===null||(I=H,h?(H=ja(s,f),H!=null&&E.unshift(Ul(s,H,I))):h||(H=ja(s,f),H!=null&&E.push(Ul(s,H,I)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var VS=/\r\n?/g,jS=/\u0000|\uFFFD/g;function jv(n){return(typeof n=="string"?n:""+n).replace(VS,`
`).replace(jS,"")}function Lv(n,i){return i=jv(i),jv(n)===i}function Wc(){}function We(n,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Mn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Mn(n,""+l);break;case"className":hr(n,"class",l);break;case"tabIndex":hr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(n,s,l);break;case"style":el(n,l,f);break;case"data":if(i!=="object"){hr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Is(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&We(n,i,"name",h.name,h,null),We(n,i,"formEncType",h.formEncType,h,null),We(n,i,"formMethod",h.formMethod,h,null),We(n,i,"formTarget",h.formTarget,h,null)):(We(n,i,"encType",h.encType,h,null),We(n,i,"method",h.method,h,null),We(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Is(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=Is(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Si(n,"popover",l);break;case"xlinkActuate":Ht(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hh.get(s)||s,Si(n,s,l))}}function Tm(n,i,s,l,h,f){switch(s){case"style":el(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Mn(n,l):(typeof l=="number"||typeof l=="bigint")&&Mn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=n[Tt]||null,f=f!=null?f[s]:null,typeof f=="function"&&n.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,h);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Si(n,s,l)}}}function Yt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(n,i,f,E,s,null)}}h&&We(n,i,"srcSet",s.srcSet,s,null),l&&We(n,i,"src",s.src,s,null);return;case"input":Oe("invalid",n);var w=f=E=h=null,I=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:We(n,i,l,J,s,null)}}Pa(n,f,w,I,H,E,h,!1),Cs(n);return;case"select":Oe("invalid",n),l=E=f=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(n,i,h,w,s,null)}i=f,s=E,n.multiple=!!l,i!=null?zr(n,!!l,i,!1):s!=null&&zr(n,!!l,s,!0);return;case"textarea":Oe("invalid",n),f=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:We(n,i,E,w,s,null)}Ma(n,l,h,f),Cs(n);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,I,l,s,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Oe(Ll[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(n,i,H,l,s,null)}return;default:if(tl(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Tm(n,i,J,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&We(n,i,w,l,s,null))}function LS(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,w=null,I=null,H=null,J=null;for(K in s){var re=s[K];if(s.hasOwnProperty(K)&&re!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=re;default:l.hasOwnProperty(K)||We(n,i,K,null,l,re)}}for(var G in l){var K=l[G];if(re=s[G],l.hasOwnProperty(G)&&(K!=null||re!=null))switch(G){case"type":f=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==re&&We(n,i,G,K,l,re)}}En(n,E,w,I,H,J,f,h);return;case"select":K=E=w=G=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(f)||We(n,i,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":G=f;break;case"defaultValue":w=f;break;case"multiple":E=f;default:f!==I&&We(n,i,h,f,l,I)}i=w,s=E,l=K,G!=null?zr(n,!!s,G,!1):!!l!=!!s&&(i!=null?zr(n,!!s,i,!0):zr(n,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,i,w,null,l,h)}for(E in l)if(h=l[E],f=s[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(n,i,E,h,l,f)}Qe(n,G,K);return;case"option":for(var we in s)if(G=s[we],s.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:We(n,i,we,null,l,G)}for(I in l)if(G=l[I],K=s[I],l.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,i,I,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)G=s[ve],s.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(n,i,ve,null,l,G);for(H in l)if(G=l[H],K=s[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:We(n,i,H,G,l,K)}return;default:if(tl(i)){for(var Je in s)G=s[Je],s.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&Tm(n,i,Je,void 0,l,G);for(J in l)G=l[J],K=s[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Tm(n,i,J,G,l,K);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&We(n,i,z,null,l,G);for(re in l)G=l[re],K=s[re],!l.hasOwnProperty(re)||G===K||G==null&&K==null||We(n,i,re,G,l,K)}var wm=null,Am=null;function Jc(n){return n.nodeType===9?n:n.ownerDocument}function Uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Sm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xm=null;function US(){var n=window.event;return n&&n.type==="popstate"?n===xm?!1:(xm=n,!0):(xm=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(n){return qv.resolve(null).then(n).catch(qS)}:Bv;function qS(n){setTimeout(function(){throw n})}function Fi(n){return n==="head"}function Fv(n,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var E=n.ownerDocument;if(s&1&&zl(E.documentElement),s&2&&zl(E.body),s&4)for(s=E.head,zl(s),E=s.firstChild;E;){var w=E.nextSibling,I=E.nodeName;E[Ia]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(h===0){n.removeChild(f),Yl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Yl(i)}function Rm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rm(s),Ai(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function FS(n,i,s,l){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ia])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=er(n.nextSibling),n===null)break}return null}function HS(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=er(n.nextSibling),n===null))return null;return n}function Nm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function GS(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function er(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Cm=null;function Hv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Gv(n,i,s){switch(i=Jc(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function zl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ai(n)}var Gn=new Map,$v=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ai=ce.d;ce.d={f:$S,r:KS,D:YS,C:QS,L:XS,m:WS,X:ZS,S:JS,M:e1};function $S(){var n=ai.f(),i=Hc();return n||i}function KS(n){var i=cr(n);i!==null&&i.tag===5&&i.type==="form"?h_(i):ai.r(n)}var co=typeof document>"u"?null:document;function Kv(n,i,s){var l=co;if(l&&typeof i=="string"&&i){var h=wt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$v.has(h)||($v.add(h),n={rel:n,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",n),yt(i),l.head.appendChild(i)))}}function YS(n){ai.D(n),Kv("dns-prefetch",n,null)}function QS(n,i){ai.C(n,i),Kv("preconnect",n,i)}function XS(n,i,s){ai.L(n,i,s);var l=co;if(l&&n&&i){var h='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wt(s.imageSizes)+'"]')):h+='[href="'+wt(n)+'"]';var f=h;switch(i){case"style":f=ho(n);break;case"script":f=fo(n)}Gn.has(f)||(n=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Gn.set(f,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Bl(f))||i==="script"&&l.querySelector(ql(f))||(i=l.createElement("link"),Yt(i,"link",n),yt(i),l.head.appendChild(i)))}}function WS(n,i){ai.m(n,i);var s=co;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(n)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fo(n)}if(!Gn.has(f)&&(n=v({rel:"modulepreload",href:n},i),Gn.set(f,n),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ql(f)))return}l=s.createElement("link"),Yt(l,"link",n),yt(l),s.head.appendChild(l)}}}function JS(n,i,s){ai.S(n,i,s);var l=co;if(l&&n){var h=on(l).hoistableStyles,f=ho(n);i=i||"default";var E=h.get(f);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Bl(f)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Gn.get(f))&&Im(n,s);var I=E=l.createElement("link");yt(I),Yt(I,"link",n),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ed(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(f,E)}}}function ZS(n,i){ai.X(n,i);var s=co;if(s&&n){var l=on(s).hoistableScripts,h=fo(n),f=l.get(h);f||(f=s.querySelector(ql(h)),f||(n=v({src:n,async:!0},i),(i=Gn.get(h))&&km(n,i),f=s.createElement("script"),yt(f),Yt(f,"link",n),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function e1(n,i){ai.M(n,i);var s=co;if(s&&n){var l=on(s).hoistableScripts,h=fo(n),f=l.get(h);f||(f=s.querySelector(ql(h)),f||(n=v({src:n,async:!0,type:"module"},i),(i=Gn.get(h))&&km(n,i),f=s.createElement("script"),yt(f),Yt(f,"link",n),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Yv(n,i,s,l){var h=(h=Ae.current)?Zc(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ho(s.href),s=on(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ho(s.href);var f=on(h).hoistableStyles,E=f.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,E),(f=h.querySelector(Bl(n)))&&!f._p&&(E.instance=f,E.state.loading=5),Gn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(n,s),f||t1(h,n,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(s),s=on(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ho(n){return'href="'+wt(n)+'"'}function Bl(n){return'link[rel="stylesheet"]['+n+"]"}function Qv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function t1(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",s),yt(i),n.head.appendChild(i))}function fo(n){return'[src="'+wt(n)+'"]'}function ql(n){return"script[async]"+n}function Xv(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+wt(s.href)+'"]');if(l)return i.instance=l,yt(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),yt(l),Yt(l,"style",h),ed(l,s.precedence,n),i.instance=l;case"stylesheet":h=ho(s.href);var f=n.querySelector(Bl(h));if(f)return i.state.loading|=4,i.instance=f,yt(f),f;l=Qv(s),(h=Gn.get(h))&&Im(l,h),f=(n.ownerDocument||n).createElement("link"),yt(f);var E=f;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Yt(f,"link",l),i.state.loading|=4,ed(f,s.precedence,n),i.instance=f;case"script":return f=fo(s.src),(h=n.querySelector(ql(f)))?(i.instance=h,yt(h),h):(l=s,(h=Gn.get(f))&&(l=v({},s),km(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),yt(h),Yt(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ed(l,s.precedence,n));return i.instance}function ed(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(n,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Im(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function km(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var td=null;function Wv(n,i,s){if(td===null){var l=new Map,h=td=new Map;h.set(s,l)}else h=td,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var f=s[h];if(!(f[Ia]||f[It]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(f):l.set(E,[f])}}return l}function Jv(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function n1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Fl=null;function r1(){}function i1(n,i,s){if(Fl===null)throw Error(a(475));var l=Fl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ho(s.href),f=n.querySelector(Bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=nd.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=f,yt(f);return}f=n.ownerDocument||n,s=Qv(s),(h=Gn.get(h))&&Im(s,h),f=f.createElement("link"),yt(f);var E=f;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Yt(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nd.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function a1(){if(Fl===null)throw Error(a(475));var n=Fl;return n.stylesheets&&n.count===0&&Dm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Dm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function nd(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rd=null;function Dm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rd=new Map,i.forEach(s1,n),rd=null,nd.call(n))}function s1(n,i){if(!(i.state.loading&4)){var s=rd.get(n);if(s)var l=s.get(null);else{s=new Map,rd.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,h),s.set(E,h),this.count++,l=nd.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Hl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function o1(n,i,s,l,h,f,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function e0(n,i,s,l,h,f,E,w,I,H,J,re){return n=new o1(n,i,s,E,w,I,H,re),i=1,f===!0&&(i|=24),f=wn(3,null,null,i),n.current=f,f.stateNode=n,i=ff(),i.refCount++,n.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},yf(f),n}function t0(n){return n?(n=Fs,n):Fs}function n0(n,i,s,l,h,f){h=t0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ii(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ki(n,l,i),s!==null&&(Nn(s,n,i),bl(s,n,i))}function r0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Om(n,i){r0(n,i),(n=n.alternate)&&r0(n,i)}function i0(n){if(n.tag===13){var i=qs(n,67108864);i!==null&&Nn(i,n,67108864),Om(n,67108864)}}var id=!0;function l1(n,i,s,l){var h=W.T;W.T=null;var f=ce.p;try{ce.p=2,Pm(n,i,s,l)}finally{ce.p=f,W.T=h}}function u1(n,i,s,l){var h=W.T;W.T=null;var f=ce.p;try{ce.p=8,Pm(n,i,s,l)}finally{ce.p=f,W.T=h}}function Pm(n,i,s,l){if(id){var h=Mm(l);if(h===null)Em(n,i,l,ad,s),s0(n,l);else if(d1(h,n,i,s,l))l.stopPropagation();else if(s0(n,l),i&4&&-1<c1.indexOf(n)){for(;h!==null;){var f=cr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Qn(f.pendingLanes);if(E!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-Zt(E);w.entanglements[1]|=I,E&=~I}Ar(f),($e&6)===0&&(qc=On()+500,jl(0))}}break;case 13:w=qs(f,2),w!==null&&Nn(w,f,2),Hc(),Om(f,2)}if(f=Mm(l),f===null&&Em(n,i,l,ad,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Em(n,i,l,null,s)}}function Mm(n){return n=Vn(n),Vm(n)}var ad=null;function Vm(n){if(ad=null,n=jr(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ad=n,null}function a0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lh()){case qo:return 2;case Es:return 8;case Sa:case Uh:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var jm=!1,Hi=null,Gi=null,$i=null,Gl=new Map,$l=new Map,Ki=[],c1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(n,i){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Kl(n,i,s,l,h,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=cr(i),i!==null&&i0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function d1(n,i,s,l,h){switch(i){case"focusin":return Hi=Kl(Hi,n,i,s,l,h),!0;case"dragenter":return Gi=Kl(Gi,n,i,s,l,h),!0;case"mouseover":return $i=Kl($i,n,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Gl.set(f,Kl(Gl.get(f)||null,n,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Kl($l.get(f)||null,n,i,s,l,h)),!0}return!1}function o0(n){var i=jr(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){n.blockedOn=i,Hu(n.priority,function(){if(s.tag===13){var l=Rn();l=Ei(l);var h=qs(s,l);h!==null&&Nn(h,s,l),Om(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Mm(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Br=l,s.target.dispatchEvent(l),Br=null}else return i=cr(s),i!==null&&i0(i),n.blockedOn=s,!1;i.shift()}return!0}function l0(n,i,s){sd(n)&&s.delete(i)}function h1(){jm=!1,Hi!==null&&sd(Hi)&&(Hi=null),Gi!==null&&sd(Gi)&&(Gi=null),$i!==null&&sd($i)&&($i=null),Gl.forEach(l0),$l.forEach(l0)}function od(n,i){n.blockedOn===i&&(n.blockedOn=null,jm||(jm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,h1)))}var ld=null;function u0(n){ld!==n&&(ld=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ld===n&&(ld=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Vm(l||s)===null)continue;break}var f=cr(s);f!==null&&(n.splice(i,3),i-=3,Vf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Yl(n){function i(I){return od(I,n)}Hi!==null&&od(Hi,n),Gi!==null&&od(Gi,n),$i!==null&&od($i,n),Gl.forEach(i),$l.forEach(i);for(var s=0;s<Ki.length;s++){var l=Ki[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ki.length&&(s=Ki[0],s.blockedOn===null);)o0(s),s.blockedOn===null&&Ki.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],E=h[Tt]||null;if(typeof f=="function")E||u0(s);else if(E){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[Tt]||null)w=E.formAction;else if(Vm(h)!==null)continue}else w=E.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),u0(s)}}}function Lm(n){this._internalRoot=n}ud.prototype.render=Lm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Rn();n0(s,l,n,i,null,null)},ud.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n0(n.current,2,null,n,null,null),Hc(),i[Pn]=null}};function ud(n){this._internalRoot=n}ud.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ti();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Ki.length&&i!==0&&i<Ki[s].priority;s++);Ki.splice(s,0,n),s===0&&o0(n)}};var c0=e.version;if(c0!=="19.1.0")throw Error(a(527,c0,"19.1.0"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var f1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{ht=cd.inject(f1),Ge=cd}catch{}}return Xl.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",h=x_,f=R_,E=N_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=e0(n,1,!1,null,null,s,l,h,f,E,w,null),n[Pn]=i.current,bm(n),new Lm(i)},Xl.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,h="",f=x_,E=R_,w=N_,I=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),i=e0(n,1,!0,i,s??null,l,h,f,E,w,I,H),i.context=t0(null),s=i.current,l=Rn(),l=Ei(l),h=Ii(l),h.callback=null,ki(s,h,l),s=l,i.current.lanes=s,Vr(i,s),Ar(i),n[Pn]=i.current,bm(n),new ud(i)},Xl.version="19.1.0",Xl}var b0;function w1(){if(b0)return Bm.exports;b0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bm.exports=T1(),Bm.exports}var A1=w1();const S1=wE(A1);var Wl={},E0;function x1(){if(E0)return Wl;E0=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.parse=d,Wl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function d(T,D){const k=new u,B=T.length;if(B<2)return k;const L=(D==null?void 0:D.decode)||v;let $=0;do{const Q=T.indexOf("=",$);if(Q===-1)break;const ne=T.indexOf(";",$),se=ne===-1?B:ne;if(Q>se){$=T.lastIndexOf(";",Q-1)+1;continue}const oe=m(T,$,Q),te=p(T,Q,oe),C=T.slice(oe,te);if(k[C]===void 0){let x=m(T,Q+1,se),R=p(T,se,x);const P=L(T.slice(x,R));k[C]=P}$=se+1}while($<B);return k}function m(T,D,k){do{const B=T.charCodeAt(D);if(B!==32&&B!==9)return D}while(++D<k);return k}function p(T,D,k){for(;D>k;){const B=T.charCodeAt(--D);if(B!==32&&B!==9)return D+1}return k}function g(T,D,k){const B=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=B(D);if(!e.test(L))throw new TypeError(`argument val is invalid: ${D}`);let $=T+"="+L;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function A(T){return o.call(T)==="[object Date]"}return Wl}x1();var T0="popstate";function R1(r={}){function e(o,u){let{pathname:d="/",search:m="",hash:p=""}=ps(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),dp("",{pathname:d,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:pu(u))}function a(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return C1(e,t,a,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N1(){return Math.random().toString(36).substring(2,10)}function w0(r,e){return{usr:r.state,key:r.key,idx:e}}function dp(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ps(e):e,state:t,key:e&&e.key||a||N1()}}function pu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ps(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function C1(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",p=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function A(){m="POP";let L=v(),$=L==null?null:L-g;g=L,p&&p({action:m,location:B.location,delta:$})}function T(L,$){m="PUSH";let Q=dp(B.location,L,$);t&&t(Q,L),g=v()+1;let ne=w0(Q,g),se=B.createHref(Q);try{d.pushState(ne,"",se)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(se)}u&&p&&p({action:m,location:B.location,delta:1})}function D(L,$){m="REPLACE";let Q=dp(B.location,L,$);t&&t(Q,L),g=v();let ne=w0(Q,g),se=B.createHref(Q);d.replaceState(ne,"",se),u&&p&&p({action:m,location:B.location,delta:0})}function k(L){return I1(L)}let B={get action(){return m},get location(){return r(o,d)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T0,A),p=L,()=>{o.removeEventListener(T0,A),p=null}},createHref(L){return e(o,L)},createURL:k,encodeLocation(L){let $=k(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:D,go(L){return d.go(L)}};return B}function I1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:pu(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function SE(r,e,t="/"){return k1(r,e,t,!1)}function k1(r,e,t,a){let o=typeof e=="string"?ps(e):e,u=ci(o.pathname||"/",t);if(u==null)return null;let d=xE(r);D1(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=F1(u);m=B1(d[p],g,a)}return m}function xE(r,e=[],t=[],a=""){let o=(u,d,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=li([a,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),xE(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:U1(g,u.index),routesMeta:v})};return r.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let p of RE(u.path))o(u,d,p)}),e}function RE(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=RE(a.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function D1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:z1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var O1=/^:[\w-]+$/,P1=3,M1=2,V1=1,j1=10,L1=-2,A0=r=>r==="*";function U1(r,e){let t=r.split("/"),a=t.length;return t.some(A0)&&(a+=L1),e&&(a+=M1),t.filter(o=>!A0(o)).reduce((o,u)=>o+(O1.test(u)?P1:u===""?V1:j1),a)}function z1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function B1(r,e,t=!1){let{routesMeta:a}=r,o={},u="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",A=Ld({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!A&&g&&t&&!a[a.length-1].route.index&&(A=Ld({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:li([u,A.pathname]),pathnameBase:K1(li([u,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(u=li([u,A.pathnameBase]))}return d}function Ld(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=q1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:A},T)=>{if(v==="*"){let k=m[T]||"";d=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=m[T];return A&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function q1(r,e=!1,t=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function F1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ci(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function H1(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?ps(r):r;return{pathname:t?t.startsWith("/")?t:G1(t,e):e,search:Y1(a),hash:Q1(o)}}function G1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(r){let e=$1(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Hp(r,e,t,a=!1){let o;typeof r=="string"?o=ps(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=t;else{let A=e.length-1;if(!a&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),A-=1;o.pathname=T.join("/")}m=A>=0?e[A]:"/"}let p=H1(o,m),g=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var li=r=>r.join("/").replace(/\/\/+/g,"/"),K1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Y1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Q1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function X1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var W1=["GET",...NE];new Set(W1);var ko=U.createContext(null);ko.displayName="DataRouter";var oh=U.createContext(null);oh.displayName="DataRouterState";var CE=U.createContext({isTransitioning:!1});CE.displayName="ViewTransition";var J1=U.createContext(new Map);J1.displayName="Fetchers";var Z1=U.createContext(null);Z1.displayName="Await";var ar=U.createContext(null);ar.displayName="Navigation";var Ru=U.createContext(null);Ru.displayName="Location";var sr=U.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Gp=U.createContext(null);Gp.displayName="RouteError";function ex(r,{relative:e}={}){lt(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=U.useContext(ar),{hash:o,pathname:u,search:d}=Nu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:li([t,u])),a.createHref({pathname:m,search:d,hash:o})}function Do(){return U.useContext(Ru)!=null}function _i(){return lt(Do(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ru).location}var IE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(r){U.useContext(ar).static||U.useLayoutEffect(r)}function ya(){let{isDataRoute:r}=U.useContext(sr);return r?fx():tx()}function tx(){lt(Do(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(ko),{basename:e,navigator:t}=U.useContext(ar),{matches:a}=U.useContext(sr),{pathname:o}=_i(),u=JSON.stringify(Fp(a)),d=U.useRef(!1);return kE(()=>{d.current=!0}),U.useCallback((p,g={})=>{if(Yn(d.current,IE),!d.current)return;if(typeof p=="number"){t.go(p);return}let v=Hp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:li([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,r])}U.createContext(null);function DE(){let{matches:r}=U.useContext(sr),e=r[r.length-1];return e?e.params:{}}function Nu(r,{relative:e}={}){let{matches:t}=U.useContext(sr),{pathname:a}=_i(),o=JSON.stringify(Fp(t));return U.useMemo(()=>Hp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function nx(r,e){return OE(r,e)}function OE(r,e,t,a){var $;lt(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(ar),{matches:u}=U.useContext(sr),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let Q=v&&v.path||"";PE(p,!v||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=_i(),T;if(e){let Q=typeof e=="string"?ps(e):e;lt(g==="/"||(($=Q.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),T=Q}else T=A;let D=T.pathname||"/",k=D;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let B=SE(r,{pathname:k});Yn(v||B!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Yn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=ox(B&&B.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:li([g,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:li([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,t,a);return e&&L?U.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function rx(){let r=hx(),e=X1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,d)}var ix=U.createElement(rx,null),ax=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(sr.Provider,{value:this.props.routeContext},U.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sx({routeContext:r,match:e,children:t}){let a=U.useContext(ko);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(sr.Provider,{value:r},t)}function ox(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:A}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||T){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let A,T=!1,D=null,k=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||ix,d&&(m<0&&v===0?(PE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,k=null):m===v&&(T=!0,k=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,v+1)),L=()=>{let $;return A?$=D:T?$=k:g.route.Component?$=U.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,U.createElement(sx,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?U.createElement(ax,{location:t.location,revalidation:t.revalidation,component:D,error:A,children:L(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):L()},null)}function $p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(r){let e=U.useContext(ko);return lt(e,$p(r)),e}function ux(r){let e=U.useContext(oh);return lt(e,$p(r)),e}function cx(r){let e=U.useContext(sr);return lt(e,$p(r)),e}function Kp(r){let e=cx(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function dx(){return Kp("useRouteId")}function hx(){var a;let r=U.useContext(Gp),e=ux("useRouteError"),t=Kp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function fx(){let{router:r}=lx("useNavigate"),e=Kp("useNavigate"),t=U.useRef(!1);return kE(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{Yn(t.current,IE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var S0={};function PE(r,e,t){!e&&!S0[r]&&(S0[r]=!0,Yn(!1,t))}U.memo(mx);function mx({routes:r,future:e,state:t}){return OE(r,void 0,t,e)}function Ud({to:r,replace:e,state:t,relative:a}){lt(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ar);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(sr),{pathname:d}=_i(),m=ya(),p=Hp(r,Fp(u),d,a==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:a})},[m,g,a,e,t]),null}function Xi(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function px({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){lt(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof t=="string"&&(t=ps(t));let{pathname:p="/",search:g="",hash:v="",state:A=null,key:T="default"}=t,D=U.useMemo(()=>{let k=ci(p,d);return k==null?null:{location:{pathname:k,search:g,hash:v,state:A,key:T},navigationType:a}},[d,p,g,v,A,T,a]);return Yn(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:U.createElement(ar.Provider,{value:m},U.createElement(Ru.Provider,{children:e,value:D}))}function gx({children:r,location:e}){return nx(hp(r),e)}function hp(r,e=[]){let t=[];return U.Children.forEach(r,(a,o)=>{if(!U.isValidElement(a))return;let u=[...e,o];if(a.type===U.Fragment){t.push.apply(t,hp(a.props.children,u));return}lt(a.type===Xi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=hp(a.props.children,u)),t.push(d)}),t}var xd="get",Rd="application/x-www-form-urlencoded";function lh(r){return r!=null&&typeof r.tagName=="string"}function yx(r){return lh(r)&&r.tagName.toLowerCase()==="button"}function _x(r){return lh(r)&&r.tagName.toLowerCase()==="form"}function vx(r){return lh(r)&&r.tagName.toLowerCase()==="input"}function bx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ex(r,e){return r.button===0&&(!e||e==="_self")&&!bx(r)}var dd=null;function Tx(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var wx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(r){return r!=null&&!wx.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):r}function Ax(r,e){let t,a,o,u,d;if(_x(r)){let m=r.getAttribute("action");a=m?ci(m,e):null,t=r.getAttribute("method")||xd,o=$m(r.getAttribute("enctype"))||Rd,u=new FormData(r)}else if(yx(r)||vx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?ci(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||xd,o=$m(r.getAttribute("formenctype"))||$m(m.getAttribute("enctype"))||Rd,u=new FormData(m,r),!Tx()){let{name:g,type:v,value:A}=r;if(v==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,A)}}else{if(lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xd,a=null,o=Rd,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:d}}function Yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Sx(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Rx(r,e,t){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await Sx(u,t);return d.links?d.links():[]}return[]}));return kx(a.flat(1).filter(xx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x0(r,e,t,a,o,u){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>d(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Nx(r,e,{includeHydrateFallback:t}={}){return Cx(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Cx(r){return[...new Set(r)]}function Ix(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function kx(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(Ix(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dx=new Set([100,101,204,205]);function Ox(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ME(){let r=U.useContext(ko);return Yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Px(){let r=U.useContext(oh);return Yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qp=U.createContext(void 0);Qp.displayName="FrameworkContext";function VE(){let r=U.useContext(Qp);return Yp(r,"You must render this element inside a <HydratedRouter> element"),r}function Mx(r,e){let t=U.useContext(Qp),[a,o]=U.useState(!1),[u,d]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:A}=e,T=U.useRef(null);U.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let B=$=>{$.forEach(Q=>{d(Q.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[r]),U.useEffect(()=>{if(a){let B=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(B)}}},[a]);let D=()=>{o(!0)},k=()=>{o(!1),d(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Jl(m,D),onBlur:Jl(p,k),onMouseEnter:Jl(g,D),onMouseLeave:Jl(v,k),onTouchStart:Jl(A,D)}]:[!1,T,{}]}function Jl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Vx({page:r,...e}){let{router:t}=ME(),a=U.useMemo(()=>SE(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?U.createElement(Lx,{page:r,matches:a,...e}):null}function jx(r){let{manifest:e,routeModules:t}=VE(),[a,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return Rx(r,e,t).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,t]),a}function Lx({page:r,matches:e,...t}){let a=_i(),{manifest:o,routeModules:u}=VE(),{basename:d}=ME(),{loaderData:m,matches:p}=Px(),g=U.useMemo(()=>x0(r,e,p,o,a,"data"),[r,e,p,o,a]),v=U.useMemo(()=>x0(r,e,p,o,a,"assets"),[r,e,p,o,a]),A=U.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let k=new Set,B=!1;if(e.forEach($=>{var ne;let Q=o.routes[$.route.id];!Q||!Q.hasLoader||(!g.some(se=>se.route.id===$.route.id)&&$.route.id in m&&((ne=u[$.route.id])!=null&&ne.shouldRevalidate)||Q.hasClientLoader?B=!0:k.add($.route.id))}),k.size===0)return[];let L=Ox(r,d);return B&&k.size>0&&L.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[L.pathname+L.search]},[d,m,a,o,g,e,r,u]),T=U.useMemo(()=>Nx(v,o),[v,o]),D=jx(v);return U.createElement(U.Fragment,null,A.map(k=>U.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>U.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),D.map(({key:k,link:B})=>U.createElement("link",{key:k,...B})))}function Ux(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jE&&(window.__reactRouterVersion="7.6.3")}catch{}function zx({basename:r,children:e,window:t}){let a=U.useRef();a.current==null&&(a.current=R1({window:t,v5Compat:!0}));let o=a.current,[u,d]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>d(p))},[d]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(px,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uh=U.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:v,viewTransition:A,...T},D){let{basename:k}=U.useContext(ar),B=typeof g=="string"&&LE.test(g),L,$=!1;if(typeof g=="string"&&B&&(L=g,jE))try{let R=new URL(window.location.href),P=g.startsWith("//")?new URL(R.protocol+g):new URL(g),j=ci(P.pathname,k);P.origin===R.origin&&j!=null?g=j+P.search+P.hash:$=!0}catch{Yn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=ex(g,{relative:o}),[ne,se,oe]=Mx(a,T),te=Hx(g,{replace:d,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:A});function C(R){e&&e(R),R.defaultPrevented||te(R)}let x=U.createElement("a",{...T,...oe,href:L||Q,onClick:$||u?e:C,ref:Ux(D,se),target:p,"data-discover":!B&&t==="render"?"true":void 0});return ne&&!B?U.createElement(U.Fragment,null,x,U.createElement(Vx,{page:Q})):x});uh.displayName="Link";var Bx=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:p,...g},v){let A=Nu(d,{relative:g.relative}),T=_i(),D=U.useContext(oh),{navigator:k,basename:B}=U.useContext(ar),L=D!=null&&Qx(A)&&m===!0,$=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,Q=T.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),ne=ne?ne.toLowerCase():null,$=$.toLowerCase()),ne&&B&&(ne=ci(ne,B)||ne);const se=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let oe=Q===$||!o&&Q.startsWith($)&&Q.charAt(se)==="/",te=ne!=null&&(ne===$||!o&&ne.startsWith($)&&ne.charAt($.length)==="/"),C={isActive:oe,isPending:te,isTransitioning:L},x=oe?e:void 0,R;typeof a=="function"?R=a(C):R=[a,oe?"active":null,te?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(C):u;return U.createElement(uh,{...g,"aria-current":x,className:R,ref:v,style:P,to:d,viewTransition:m},typeof p=="function"?p(C):p)});Bx.displayName="NavLink";var qx=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:d=xd,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:A,...T},D)=>{let k=Kx(),B=Yx(m,{relative:g}),L=d.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&LE.test(m),Q=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let se=ne.nativeEvent.submitter,oe=(se==null?void 0:se.getAttribute("formmethod"))||d;k(se||ne.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:A})};return U.createElement("form",{ref:D,method:L,action:B,onSubmit:a?p:Q,...T,"data-discover":!$&&r==="render"?"true":void 0})});qx.displayName="Form";function Fx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UE(r){let e=U.useContext(ko);return lt(e,Fx(r)),e}function Hx(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=ya(),p=_i(),g=Nu(r,{relative:u});return U.useCallback(v=>{if(Ex(v,e)){v.preventDefault();let A=t!==void 0?t:pu(p)===pu(g);m(r,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[p,m,g,t,a,e,r,o,u,d])}var Gx=0,$x=()=>`__${String(++Gx)}__`;function Kx(){let{router:r}=UE("useSubmit"),{basename:e}=U.useContext(ar),t=dx();return U.useCallback(async(a,o={})=>{let{action:u,method:d,encType:m,formData:p,body:g}=Ax(a,e);if(o.navigate===!1){let v=o.fetcherKey||$x();await r.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function Yx(r,{relative:e}={}){let{basename:t}=U.useContext(ar),a=U.useContext(sr);lt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Nu(r||".",{relative:e})},d=_i();if(r==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:li([t,u.pathname])),pu(u)}function Qx(r,e={}){let t=U.useContext(CE);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=UE("useViewTransitionState"),o=Nu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ci(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=ci(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Ld(o.pathname,d)!=null||Ld(o.pathname,u)!=null}[...Dx];const Xx="modulepreload",Wx=function(r){return"/credores/"+r},R0={},hd=function(e,t,a){let o=Promise.resolve();if(t&&t.length>0){let d=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(t.map(g=>{if(g=Wx(g),g in R0)return;R0[g]=!0;const v=g.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":Xx,v||(T.as="script"),T.crossOrigin="",T.href=g,p&&T.setAttribute("nonce",p),document.head.appendChild(T),v)return new Promise((D,k)=>{T.addEventListener("load",D),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})},Jx=()=>{};var N0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Zx=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],d=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],d=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,D=g&63;p||(D=64,d||(T=64)),a.push(t[v],t[A],t[T],t[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(zE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Zx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new eR;const T=u<<2|m>>4;if(a.push(T),g!==64){const D=m<<4&240|g>>2;if(a.push(D),A!==64){const k=g<<6&192|A;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(r){const e=zE(r);return BE.encodeByteArray(e,!0)},zd=function(r){return tR(r).replace(/\./g,"")},qE=function(r){try{return BE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=()=>nR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof N0>"u")return;const r=N0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qE(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return Jx()||rR()||iR()||aR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},FE=r=>{var e,t;return(t=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Xp=r=>{const e=FE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},HE=()=>{var r;return(r=ch())===null||r===void 0?void 0:r.config},GE=r=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dh(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zd(JSON.stringify(t)),zd(JSON.stringify(d)),""].join(".")}const lu={};function oR(){const r={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?r.emulator.push(e):r.prod.push(e);return r}function lR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let C0=!1;function hh(r,e){if(typeof window>"u"||typeof document>"u"||!vi(window.location.host)||lu[r]===e||lu[r]||C0)return;lu[r]=e;function t(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=oR().prod.length>0;function d(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{C0=!0,d()},T}function v(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=lR(a),D=t("text"),k=document.getElementById(D)||document.createElement("span"),B=t("learnmore"),L=document.getElementById(B)||document.createElement("a"),$=t("preprendIcon"),Q=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;m(ne),v(L,B);const se=g();p(Q,$),ne.append(Q,k,L,se),document.body.appendChild(ne)}u?(k.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function cR(){var r;const e=(r=ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class or extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=_R,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?vR(u,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new or(o,m,a)}}function vR(r,e){return r.replace(bR,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const bR=/\{\$([^}]+)}/g;function ER(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function cs(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],d=e[o];if(I0(u)&&I0(d)){if(!cs(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function I0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function nu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function TR(r,e){const t=new wR(r,e);return t.subscribe.bind(t)}class wR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(r){return r&&r._delegate?r._delegate:r}class di{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new sR;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RR(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:xR(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xR(r){return r===ss?void 0:r}function RR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const CR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},IR=Pe.INFO,kR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},DR=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=kR[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wp{constructor(e){this.name=e,this._logLevel=IR,this._logHandler=DR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const OR=(r,e)=>e.some(t=>r instanceof t);let k0,D0;function PR(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,fp=new WeakMap,YE=new WeakMap,Ym=new WeakMap,Jp=new WeakMap;function VR(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{t(ia(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&KE.set(t,r)}).catch(()=>{}),Jp.set(e,r),e}function jR(r){if(fp.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{t(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});fp.set(r,e)}let mp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ia(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LR(r){mp=r(mp)}function UR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Qm(this),e,...t);return YE.set(a,e.sort?e.sort():[e]),ia(a)}:MR().includes(r)?function(...e){return r.apply(Qm(this),e),ia(KE.get(this))}:function(...e){return ia(r.apply(Qm(this),e))}}function zR(r){return typeof r=="function"?UR(r):(r instanceof IDBTransaction&&jR(r),OR(r,PR())?new Proxy(r,mp):r)}function ia(r){if(r instanceof IDBRequest)return VR(r);if(Ym.has(r))return Ym.get(r);const e=zR(r);return e!==r&&(Ym.set(r,e),Jp.set(e,r)),e}const Qm=r=>Jp.get(r);function BR(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),m=ia(d);return a&&d.addEventListener("upgradeneeded",p=>{a(ia(d.result),p.oldVersion,p.newVersion,ia(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],Xm=new Map;function O0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=FR.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(t)))return;const u=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Xm.set(e,u),u}LR(r=>({...r,get:(e,t,a)=>O0(e,t)||r.get(e,t,a),has:(e,t)=>!!O0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GR(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function GR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",P0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Wp("@firebase/app"),$R="@firebase/app-compat",KR="@firebase/analytics-compat",YR="@firebase/analytics",QR="@firebase/app-check-compat",XR="@firebase/app-check",WR="@firebase/auth",JR="@firebase/auth-compat",ZR="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",rN="@firebase/functions-compat",iN="@firebase/installations",aN="@firebase/installations-compat",sN="@firebase/messaging",oN="@firebase/messaging-compat",lN="@firebase/performance",uN="@firebase/performance-compat",cN="@firebase/remote-config",dN="@firebase/remote-config-compat",hN="@firebase/storage",fN="@firebase/storage-compat",mN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",_N="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",vN={[pp]:"fire-core",[$R]:"fire-core-compat",[YR]:"fire-analytics",[KR]:"fire-analytics-compat",[XR]:"fire-app-check",[QR]:"fire-app-check-compat",[WR]:"fire-auth",[JR]:"fire-auth-compat",[ZR]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[rN]:"fire-fn-compat",[iN]:"fire-iid",[aN]:"fire-iid-compat",[sN]:"fire-fcm",[oN]:"fire-fcm-compat",[lN]:"fire-perf",[uN]:"fire-perf-compat",[cN]:"fire-rc",[dN]:"fire-rc-compat",[hN]:"fire-gcs",[fN]:"fire-gcs-compat",[mN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,bN=new Map,yp=new Map;function M0(r,e){try{r.container.addComponent(e)}catch(t){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ua(r){const e=r.name;if(yp.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const t of Bd.values())M0(t,r);for(const t of bN.values())M0(t,r);return!0}function ku(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Cu("app","Firebase",EN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=_N;function QE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:gp,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(t||(t=HE()),!t)throw aa.create("no-options");const u=Bd.get(o);if(u){if(cs(t,u.options)&&cs(a,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const d=new NR(o);for(const p of yp.values())d.addComponent(p);const m=new TN(t,a,d);return Bd.set(o,m),m}function fh(r=gp){const e=Bd.get(r);if(!e&&r===gp&&HE())return QE();if(!e)throw aa.create("no-app",{appName:r});return e}function Kn(r,e,t){var a;let o=(a=vN[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(m.join(" "));return}ua(new di(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",AN=1,gu="firebase-heartbeat-store";let Wm=null;function XE(){return Wm||(Wm=BR(wN,AN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(r=>{throw aa.create("idb-open",{originalErrorMessage:r.message})})),Wm}async function SN(r){try{const t=(await XE()).transaction(gu),a=await t.objectStore(gu).get(WE(r));return await t.done,a}catch(e){if(e instanceof or)hi.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(t.message)}}}async function V0(r,e){try{const a=(await XE()).transaction(gu,"readwrite");await a.objectStore(gu).put(e,WE(r)),await a.done}catch(t){if(t instanceof or)hi.warn(t.message);else{const a=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hi.warn(a.message)}}}function WE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,RN=30;class NN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IN(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=j0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>RN){const d=kN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){hi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j0(),{heartbeatsToSend:a,unsentEntries:o}=CN(this._heartbeatsCache.heartbeats),u=zd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return hi.warn(t),""}}}function j0(){return new Date().toISOString().substring(0,10)}function CN(r,e=xN){const t=[];let a=r.slice();for(const o of r){const u=t.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),L0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class IN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function L0(r){return zd(JSON.stringify({version:2,heartbeats:r})).length}function kN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){ua(new di("platform-logger",e=>new HR(e),"PRIVATE")),ua(new di("heartbeat",e=>new NN(e),"PRIVATE")),Kn(pp,P0,r),Kn(pp,P0,"esm2017"),Kn("fire-js","")}DN("");var ON="firebase",PN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(ON,PN,"app");function Zp(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MN=JE,ZE=new Cu("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Wp("@firebase/auth");function VN(r,...e){qd.logLevel<=Pe.WARN&&qd.warn(`Auth (${gs}): ${r}`,...e)}function Nd(r,...e){qd.logLevel<=Pe.ERROR&&qd.error(`Auth (${gs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(r,...e){throw eg(r,...e)}function Rr(r,...e){return eg(r,...e)}function eT(r,e,t){const a=Object.assign(Object.assign({},MN()),{[e]:t});return new Cu("auth","Firebase",a).create(e,{appName:r.name})}function sa(r){return eT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return ZE.create(r,...e)}function Ee(r,e,...t){if(!r)throw eg(e,...t)}function si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Nd(e),new Error(e)}function fi(r,e){r||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jN(){return U0()==="http:"||U0()==="https:"}function U0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||hR()||"connection"in navigator)?navigator.onLine:!0}function UN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=uR()||fR()}get(){return LN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(r,e){fi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new Du(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _a(r,e,t,a,o={}){return nT(r,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const m=Iu(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return dR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&vi(r.emulatorConfig.host)&&(g.credentials="include"),tT.fetch()(await rT(r,r.config.apiHost,t,m),g)})}async function nT(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},zN),e);try{const o=new HN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw fd(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw fd(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw fd(r,"user-disabled",d);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eT(r,v,g);rr(r,v)}}catch(o){if(o instanceof or)throw o;rr(r,"network-request-failed",{message:String(o)})}}async function mh(r,e,t,a,o={}){const u=await _a(r,e,t,a,o);return"mfaPendingCredential"in u&&rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function rT(r,e,t,a){const o=`${e}${t}?${a}`,u=r,d=u.config.emulator?tg(r.config,o):`${r.config.apiScheme}://${o}`;return BN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function FN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),qN.get())})}}function fd(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Rr(r,e,a);return o.customData._tokenResponse=t,o}function z0(r){return r!==void 0&&r.enterprise!==void 0}class GN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $N(r,e){return _a(r,"GET","/v2/recaptchaConfig",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(r,e){return _a(r,"POST","/v1/accounts:delete",e)}async function Fd(r,e){return _a(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YN(r,e=!1){const t=at(r),a=await t.getIdToken(e),o=ng(a);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:uu(Jm(o.auth_time)),issuedAtTime:uu(Jm(o.iat)),expirationTime:uu(Jm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jm(r){return Number(r)*1e3}function ng(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const o=qE(t);return o?JSON.parse(o):(Nd("Failed to decode base64 JWT payload"),null)}catch(o){return Nd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function B0(r){const e=ng(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof or&&QN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function QN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(r){var e;const t=r.auth,a=await r.getIdToken(),o=await yu(r,Fd(t,{idToken:a}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?iT(u.providerUserInfo):[],m=JN(r.providerData,d),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new vp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,A)}async function WN(r){const e=at(r);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JN(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function iT(r){return r.map(e=>{var{providerId:t}=e,a=Zp(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(r,e){const t=await nT(r,{},async()=>{const a=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await rT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&vi(r.emulatorConfig.host)&&(p.credentials="include"),tT.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eC(r,e){return _a(r,"POST","/v2/accounts:revokeToken",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=B0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await ZN(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,d=new vo;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,u=Zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await yu(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,u,d,m,p,g,v;const A=(a=t.displayName)!==null&&a!==void 0?a:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,k=(d=t.photoURL)!==null&&d!==void 0?d:void 0,B=(m=t.tenantId)!==null&&m!==void 0?m:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:se,isAnonymous:oe,providerData:te,stsTokenManager:C}=t;Ee(ne&&C,e,"internal-error");const x=vo.fromJSON(this.name,C);Ee(typeof ne=="string",e,"internal-error"),Qi(A,e.name),Qi(T,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof oe=="boolean",e,"internal-error"),Qi(D,e.name),Qi(k,e.name),Qi(B,e.name),Qi(L,e.name),Qi($,e.name),Qi(Q,e.name);const R=new tr({uid:ne,auth:e,email:T,emailVerified:se,displayName:A,isAnonymous:oe,photoURL:k,phoneNumber:D,tenantId:B,stsTokenManager:x,createdAt:$,lastLoginAt:Q});return te&&Array.isArray(te)&&(R.providerData=te.map(P=>Object.assign({},P))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,a=!1){const o=new vo;o.updateFromServerResponse(t);const u=new tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Hd(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?iT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new vo;m.updateFromIdToken(a);const p=new tr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function oi(r){fi(r instanceof Function,"Expected a class definition");let e=q0.get(r);return e?(fi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,q0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aT.type="NONE";const F0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(r,e,t){return`firebase:${r}:${e}:${t}`}class bo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Cd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fd(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new bo(oi(F0),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||oi(F0);const d=Cd(a,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(d);if(v){let A;if(typeof v=="string"){const T=await Fd(e,{idToken:v}).catch(()=>{});if(!T)break;A=await tr._fromGetAccountInfoResponse(e,T,v)}else A=tr._fromJSON(e,v);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,a):(u=p[0],m&&await u._set(d,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new bo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(hT(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function sT(r=sn()){return/firefox\//i.test(r)}function oT(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(r=sn()){return/crios\//i.test(r)}function uT(r=sn()){return/iemobile/i.test(r)}function cT(r=sn()){return/android/i.test(r)}function dT(r=sn()){return/blackberry/i.test(r)}function hT(r=sn()){return/webos/i.test(r)}function rg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tC(r=sn()){var e;return rg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nC(){return mR()&&document.documentMode===10}function fT(r=sn()){return rg(r)||cT(r)||hT(r)||dT(r)||/windows phone/i.test(r)||uT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r,e=[]){let t;switch(r){case"Browser":t=H0(sn());break;case"Worker":t=`${H0(sn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gs}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((d,m)=>{try{const p=e(u);d(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e={}){return _a(r,"GET","/v2/passwordPolicy",ys(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=6;class sC{constructor(e){var t,a,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:aC,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,u,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G0(this),this.idTokenSubscription=new G0(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fd(this,{idToken:e}),a=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(sa(this));const t=e?at(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iC(this),t=new sC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await eC(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Oo(r){return at(r)}class G0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(r){ph=r}function pT(r){return ph.loadJS(r)}function uC(){return ph.recaptchaEnterpriseScript}function cC(){return ph.gapiScript}function dC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hC{constructor(){this.enterprise=new fC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mC="recaptcha-enterprise",gT="NO_RECAPTCHA";class pC{constructor(e){this.type=mC,this.auth=Oo(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{$N(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new GN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,d,m){const p=window.grecaptcha;z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(gT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(m=>{if(!t&&z0(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uC();p.length!==0&&(p+=m),pT(p).then(()=>{o(m,u,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function $0(r,e,t,a=!1,o=!1){const u=new pC(r);let d;if(o)d=gT;else try{d=await u.verify(t)}catch{d=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function K0(r,e,t,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await $0(r,e,t,t==="getOobCode");return a(r,d)}else return a(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await $0(r,e,t,t==="getOobCode");return a(r,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,e){const t=ku(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(cs(u,e??{}))return o;rr(o,"already-initialized")}return t.initialize({options:e})}function yC(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function _C(r,e,t){const a=Oo(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=yT(e),{host:d,port:m}=vC(e),p=m===null?"":`:${m}`,g={url:`${u}//${d}${p}/`},v=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(cs(g,a.config.emulator)&&cs(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,vi(d)?(dh(`${u}//${d}${p}`),hh("Auth",!0)):bC()}function yT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vC(r){const e=yT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Y0(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:Y0(d)}}}function Y0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function EC(r,e){return _a(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e){return mh(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e){return mh(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function AC(r,e){return mh(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends ig{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new _u(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K0(e,t,"signInWithPassword",TC);case"emailLink":return wC(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K0(e,a,"signUpPassword",EC);case"emailLink":return AC(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r,e){return mh(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="http://localhost";class ds extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,u=Zp(t,["providerId","signInMethod"]);if(!a||!o)return null;const d=new ds(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Eo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Eo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eo(e,t)}buildRequest(){const e={requestUri:SC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Iu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RC(r){const e=nu(ru(r)).link,t=e?nu(ru(e)).deep_link_id:null,a=nu(ru(r)).deep_link_id;return(a?nu(ru(a)).link:null)||a||t||e||r}class ag{constructor(e){var t,a,o,u,d,m;const p=nu(ru(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,A=xC((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&v&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=RC(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=ag.parseLink(t);return Ee(a,"argument-error"),_u._fromEmailAndCode(e,a.code,a.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends _T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Ou{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Zi.credential(t,a)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Ou{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Ou{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ta.credential(t,a)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await tr._fromIdTokenResponse(e,a,o),d=Q0(a);return new Ao({user:u,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=Q0(a);return new Ao({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function Q0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends or{constructor(e,t,a,o){var u;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Gd(e,t,a,o)}}function vT(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(r,u,e,a):u})}async function NC(r,e,t=!1){const a=await yu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ao._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e,t=!1){const{auth:a}=r;if(In(a.app))return Promise.reject(sa(a));const o="reauthenticate";try{const u=await yu(r,vT(a,o,e,r),t);Ee(u.idToken,a,"internal-error");const d=ng(u.idToken);Ee(d,a,"internal-error");const{sub:m}=d;return Ee(r.uid===m,a,"user-mismatch"),Ao._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(r,e,t=!1){if(In(r.app))return Promise.reject(sa(r));const a="signIn",o=await vT(r,a,e),u=await Ao._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function IC(r,e){return bT(Oo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r){const e=Oo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function DC(r,e,t){return In(r.app)?Promise.reject(sa(r)):IC(at(r),Po.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&kC(r),a})}function OC(r,e,t,a){return at(r).onIdTokenChanged(e,t,a)}function PC(r,e,t){return at(r).beforeAuthStateChanged(e,t)}function MC(r,e,t,a){return at(r).onAuthStateChanged(e,t,a)}function VC(r){return at(r).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=1e3,LC=10;class TT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);nC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LC):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TT.type="LOCAL";const UC=TT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wT.type="SESSION";const AT=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async g=>g(t.origin,u)),p=await zC(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,p)=>{const g=sg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const T=A;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function qC(r){Nr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function FC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GC(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",$C=1,Kd="firebaseLocalStorage",RT="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yh(r,e){return r.transaction([Kd],e?"readwrite":"readonly").objectStore(Kd)}function KC(){const r=indexedDB.deleteDatabase(xT);return new Pu(r).toPromise()}function bp(){const r=indexedDB.open(xT,$C);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kd,{keyPath:RT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kd)?e(a):(a.close(),await KC(),e(await bp()))})})}async function X0(r,e,t){const a=yh(r,!0).put({[RT]:e,value:t});return new Pu(a).toPromise()}async function YC(r,e){const t=yh(r,!1).get(e),a=await new Pu(t).toPromise();return a===void 0?null:a.value}function W0(r,e){const t=yh(r,!0).delete(e);return new Pu(t).toPromise()}const QC=800,XC=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>XC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(GC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await FC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await X0(e,$d,"1"),await W0(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>X0(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>YC(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yh(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const WC=NT;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,e){return e?oi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZC(r){return bT(r.auth,new og(r),r.bypassAuthState)}function eI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),CC(t,new og(r),r.bypassAuthState)}async function tI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),NC(t,new og(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZC;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return eI;default:rr(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Du(2e3,1e4);class _o extends CT{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nI.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="pendingRedirect",Id=new Map;class iI extends CT{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const a=await aI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aI(r,e){const t=lI(e),a=oI(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function sI(r,e){Id.set(r._key(),e)}function oI(r){return oi(r._redirectPersistence)}function lI(r){return Cd(rI,r.config.apiKey,r.name)}async function uI(r,e,t=!1){if(In(r.app))return Promise.reject(sa(r));const a=Oo(r),o=JC(a,e),d=await new iI(a,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=10*60*1e3;class dI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!IT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cI&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}}function J0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function IT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,e={}){return _a(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pI=/^https?/;async function gI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await fI(r);for(const t of e)try{if(yI(t))return}catch{}rr(r,"unauthorized-domain")}function yI(r){const e=_p(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!pI.test(t))return!1;if(mI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new Du(3e4,6e4);function Z0(){const r=Nr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function vI(r){return new Promise((e,t)=>{var a,o,u;function d(){Z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z0(),t(Rr(r,"network-request-failed"))},timeout:_I.get()})}if(!((o=(a=Nr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Nr().gapi)===null||u===void 0)&&u.load)d();else{const m=dC("iframefcb");return Nr()[m]=()=>{gapi.load?d():t(Rr(r,"network-request-failed"))},pT(`${cC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw kd=null,e})}let kd=null;function bI(r){return kd=kd||vI(r),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Du(5e3,15e3),TI="__/auth/iframe",wI="emulator/auth/iframe",AI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?tg(e,wI):`https://${r.config.authDomain}/${TI}`,a={apiKey:e.apiKey,appName:r.name,v:gs},o=SI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Iu(a).slice(1)}`}async function RI(r){const e=await bI(r),t=Nr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:xI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=Rr(r,"network-request-failed"),m=Nr().setTimeout(()=>{u(d)},EI.get());function p(){Nr().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CI=500,II=600,kI="_blank",DI="http://localhost";class eb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OI(r,e,t,a=CI,o=II){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},NI),{width:a.toString(),height:o.toString(),top:u,left:d}),g=sn().toLowerCase();t&&(m=lT(g)?kI:t),sT(g)&&(e=e||DI,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[D,k])=>`${T}${D}=${k},`,"");if(tC(g)&&m!=="_self")return PI(e||"",m),new eb(null);const A=window.open(e||"",m,v);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new eb(A)}function PI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="__/auth/handler",VI="emulator/auth/handler",jI=encodeURIComponent("fac");async function tb(r,e,t,a,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:gs,eventId:o};if(e instanceof _T){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",ER(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))d[v]=A}if(e instanceof Ou){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(d.scopes=v.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${jI}=${encodeURIComponent(p)}`:"";return`${LI(r)}?${Iu(m).slice(1)}${g}`}function LI({config:r}){return r.emulator?tg(r,VI):`https://${r.authDomain}/${MI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class UI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=uI,this._overrideRedirectResult=sI}async _openPopup(e,t,a,o){var u;fi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await tb(e,t,a,_p(),o);return OI(e,d,sg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await tb(e,t,a,_p(),o);return qC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(fi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await RI(e),a=new dI(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zm,{type:Zm},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Zm];d!==void 0&&t(!!d),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fT()||oT()||rg()}}const zI=UI;var nb="@firebase/auth",rb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FI(r){ua(new di("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(r)},g=new oC(a,o,u,p);return yC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),ua(new di("auth-internal",e=>{const t=Oo(e.getProvider("auth").getImmediate());return(a=>new BI(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(nb,rb,qI(r)),Kn(nb,rb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=5*60,GI=GE("authIdTokenMaxAge")||HI;let ib=null;const $I=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>GI)return;const o=t==null?void 0:t.token;ib!==o&&(ib=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KI(r=fh()){const e=ku(r,"auth");if(e.isInitialized())return e.getImmediate();const t=gC(r,{popupRedirectResolver:zI,persistence:[WC,UC,AT]}),a=GE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=$I(u.toString());PC(t,d,()=>d(t.currentUser)),OC(t,m=>d(m))}}const o=FE("auth");return o&&_C(t,`http://${o}`),t}function YI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lC({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Rr("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",YI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FI("Browser");var ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,kT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function R(){}R.prototype=x.prototype,C.D=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(P,j,M){for(var N=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)N[Ye-2]=arguments[Ye];return x.prototype[j].apply(P,N)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);var P=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)P[j]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(j=0;16>j;++j)P[j]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],j=C.g[2];var M=C.g[3],N=x+(M^R&(j^M))+P[0]+3614090360&4294967295;x=R+(N<<7&4294967295|N>>>25),N=M+(j^x&(R^j))+P[1]+3905402710&4294967295,M=x+(N<<12&4294967295|N>>>20),N=j+(R^M&(x^R))+P[2]+606105819&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(x^j&(M^x))+P[3]+3250441966&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(M^R&(j^M))+P[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(j^x&(R^j))+P[5]+1200080426&4294967295,M=x+(N<<12&4294967295|N>>>20),N=j+(R^M&(x^R))+P[6]+2821735955&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(x^j&(M^x))+P[7]+4249261313&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(M^R&(j^M))+P[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(j^x&(R^j))+P[9]+2336552879&4294967295,M=x+(N<<12&4294967295|N>>>20),N=j+(R^M&(x^R))+P[10]+4294925233&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(x^j&(M^x))+P[11]+2304563134&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(M^R&(j^M))+P[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(j^x&(R^j))+P[13]+4254626195&4294967295,M=x+(N<<12&4294967295|N>>>20),N=j+(R^M&(x^R))+P[14]+2792965006&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(x^j&(M^x))+P[15]+1236535329&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(j^M&(R^j))+P[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(x^R))+P[6]+3225465664&4294967295,M=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(M^x))+P[11]+643717713&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(j^M))+P[0]+3921069994&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(j^M&(R^j))+P[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(x^R))+P[10]+38016083&4294967295,M=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(M^x))+P[15]+3634488961&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(j^M))+P[4]+3889429448&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(j^M&(R^j))+P[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(x^R))+P[14]+3275163606&4294967295,M=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(M^x))+P[3]+4107603335&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(j^M))+P[8]+1163531501&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(j^M&(R^j))+P[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(x^R))+P[2]+4243563512&4294967295,M=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(M^x))+P[7]+1735328473&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(j^M))+P[12]+2368359562&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(R^j^M)+P[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^j)+P[8]+2272392833&4294967295,M=x+(N<<11&4294967295|N>>>21),N=j+(M^x^R)+P[11]+1839030562&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^x)+P[14]+4259657740&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(R^j^M)+P[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^j)+P[4]+1272893353&4294967295,M=x+(N<<11&4294967295|N>>>21),N=j+(M^x^R)+P[7]+4139469664&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^x)+P[10]+3200236656&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(R^j^M)+P[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^j)+P[0]+3936430074&4294967295,M=x+(N<<11&4294967295|N>>>21),N=j+(M^x^R)+P[3]+3572445317&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^x)+P[6]+76029189&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(R^j^M)+P[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^j)+P[12]+3873151461&4294967295,M=x+(N<<11&4294967295|N>>>21),N=j+(M^x^R)+P[15]+530742520&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^x)+P[2]+3299628645&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(j^(R|~M))+P[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~j))+P[7]+1126891415&4294967295,M=x+(N<<10&4294967295|N>>>22),N=j+(x^(M|~R))+P[14]+2878612391&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~x))+P[5]+4237533241&4294967295,R=j+(N<<21&4294967295|N>>>11),N=x+(j^(R|~M))+P[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~j))+P[3]+2399980690&4294967295,M=x+(N<<10&4294967295|N>>>22),N=j+(x^(M|~R))+P[10]+4293915773&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~x))+P[1]+2240044497&4294967295,R=j+(N<<21&4294967295|N>>>11),N=x+(j^(R|~M))+P[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~j))+P[15]+4264355552&4294967295,M=x+(N<<10&4294967295|N>>>22),N=j+(x^(M|~R))+P[6]+2734768916&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~x))+P[13]+1309151649&4294967295,R=j+(N<<21&4294967295|N>>>11),N=x+(j^(R|~M))+P[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~j))+P[11]+3174756917&4294967295,M=x+(N<<10&4294967295|N>>>22),N=j+(x^(M|~R))+P[2]+718787259&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~x))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+M&4294967295}a.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var R=x-this.blockSize,P=this.B,j=this.h,M=0;M<x;){if(j==0)for(;M<=R;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<x;)if(P[j++]=C.charCodeAt(M++),j==this.blockSize){o(this,P),j=0;break}}else for(;M<x;)if(P[j++]=C[M++],j==this.blockSize){o(this,P),j=0;break}}this.h=j,this.o+=x},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var R=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=R&255,R/=256;for(this.u(C),C=Array(16),x=R=0;4>x;++x)for(var P=0;32>P;P+=8)C[R++]=this.g[x]>>>P&255;return C};function u(C,x){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function d(C,x){this.h=x;for(var R=[],P=!0,j=C.length-1;0<=j;j--){var M=C[j]|0;P&&M==x||(R[j]=M,P=!1)}this.g=R}var m={};function p(C){return-128<=C&&128>C?u(C,function(x){return new d([x|0],0>x?-1:0)}):new d([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return L(g(-C));for(var x=[],R=1,P=0;C>=R;P++)x[P]=C/R|0,R*=4294967296;return new d(x,0)}function v(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return L(v(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),P=A,j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j),N=parseInt(C.substring(j,j+M),x);8>M?(M=g(Math.pow(x,M)),P=P.j(M).add(g(N))):(P=P.j(R),P=P.add(g(N)))}return P}var A=p(0),T=p(1),D=p(16777216);r=d.prototype,r.m=function(){if(B(this))return-L(this).m();for(var C=0,x=1,R=0;R<this.g.length;R++){var P=this.i(R);C+=(0<=P?P:4294967296+P)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(B(this))return"-"+L(this).toString(C);for(var x=g(Math.pow(C,6)),R=this,P="";;){var j=se(R,x).g;R=$(R,j.j(x));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=j,k(R))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function B(C){return C.h==-1}r.l=function(C){return C=$(this,C),B(C)?-1:k(C)?0:1};function L(C){for(var x=C.g.length,R=[],P=0;P<x;P++)R[P]=~C.g[P];return new d(R,~C.h).add(T)}r.abs=function(){return B(this)?L(this):this},r.add=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],P=0,j=0;j<=x;j++){var M=P+(this.i(j)&65535)+(C.i(j)&65535),N=(M>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);P=N>>>16,M&=65535,N&=65535,R[j]=N<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function $(C,x){return C.add(L(x))}r.j=function(C){if(k(this)||k(C))return A;if(B(this))return B(C)?L(this).j(L(C)):L(L(this).j(C));if(B(C))return L(this.j(L(C)));if(0>this.l(D)&&0>C.l(D))return g(this.m()*C.m());for(var x=this.g.length+C.g.length,R=[],P=0;P<2*x;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<C.g.length;j++){var M=this.i(P)>>>16,N=this.i(P)&65535,Ye=C.i(j)>>>16,it=C.i(j)&65535;R[2*P+2*j]+=N*it,Q(R,2*P+2*j),R[2*P+2*j+1]+=M*it,Q(R,2*P+2*j+1),R[2*P+2*j+1]+=N*Ye,Q(R,2*P+2*j+1),R[2*P+2*j+2]+=M*Ye,Q(R,2*P+2*j+2)}for(P=0;P<x;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=x;P<2*x;P++)R[P]=0;return new d(R,0)};function Q(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function ne(C,x){this.g=C,this.h=x}function se(C,x){if(k(x))throw Error("division by zero");if(k(C))return new ne(A,A);if(B(C))return x=se(L(C),x),new ne(L(x.g),L(x.h));if(B(x))return x=se(C,L(x)),new ne(L(x.g),x.h);if(30<C.g.length){if(B(C)||B(x))throw Error("slowDivide_ only works with positive integers.");for(var R=T,P=x;0>=P.l(C);)R=oe(R),P=oe(P);var j=te(R,1),M=te(P,1);for(P=te(P,2),R=te(R,2);!k(P);){var N=M.add(P);0>=N.l(C)&&(j=j.add(R),M=N),P=te(P,1),R=te(R,1)}return x=$(C,j.j(x)),new ne(j,x)}for(j=A;0<=C.l(x);){for(R=Math.max(1,Math.floor(C.m()/x.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=g(R),N=M.j(x);B(N)||0<N.l(C);)R-=P,M=g(R),N=M.j(x);k(M)&&(M=T),j=j.add(M),C=$(C,N)}return new ne(j,C)}r.A=function(C){return se(this,C).h},r.and=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)&C.i(P);return new d(R,this.h&C.h)},r.or=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)|C.i(P);return new d(R,this.h|C.h)},r.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)^C.i(P);return new d(R,this.h^C.h)};function oe(C){for(var x=C.g.length+1,R=[],P=0;P<x;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new d(R,C.h)}function te(C,x){var R=x>>5;x%=32;for(var P=C.g.length-R,j=[],M=0;M<P;M++)j[M]=0<x?C.i(M+R)>>>x|C.i(M+R+1)<<32-x:C.i(M+R);return new d(j,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,kT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=v,oa=d}).apply(typeof ab<"u"?ab:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,iu,OT,Dd,Ep,PT,MT,VT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,b){return c==Array.prototype||c==Object.prototype||(c[_]=b.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var _=0;_<c.length;++_){var b=c[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=t(this);function o(c,_){if(_)e:{var b=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in b))break e;b=b[q]}c=c[c.length-1],S=b[c],_=_(S),_!=S&&_!=null&&e(b,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var b=0,S=!1,q={next:function(){if(!S&&b<c.length){var Y=b++;return{value:_(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,b){return c.call.apply(c.bind,arguments)}function A(c,_,b){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(_,q)}}return function(){return c.apply(_,arguments)}}function T(c,_,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,T.apply(null,arguments)}function D(c,_){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,_){function b(){}b.prototype=_.prototype,c.aa=_.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(S,q,Y){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return _.prototype[q].apply(S,ue)}}function B(c){const _=c.length;if(0<_){const b=Array(_);for(let S=0;S<_;S++)b[S]=c[S];return b}return[]}function L(c,_){for(let b=1;b<arguments.length;b++){const S=arguments[b];if(p(S)){const q=c.length||0,Y=S.length||0;c.length=q+Y;for(let ue=0;ue<Y;ue++)c[q+ue]=S[ue]}else c.push(S)}}class ${constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Q(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var oe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function te(c,_,b){for(const S in c)_.call(b,c[S],S,c)}function C(c,_){for(const b in c)_.call(void 0,c[b],b,c)}function x(c){const _={};for(const b in c)_[b]=c[b];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,_){let b,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(b in S)c[b]=S[b];for(let Y=0;Y<R.length;Y++)b=R[Y],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function j(c){var _=1;c=c.split(":");const b=[];for(;0<_&&c.length;)b.push(c.shift()),_--;return c.length&&b.push(c.join(":")),b}function M(c){m.setTimeout(()=>{throw c},0)}function N(){var c=me;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Ye{constructor(){this.h=this.g=null}add(_,b){const S=it.get();S.set(_,b),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,X=!1,me=new Ye,O=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(ae)}};var ae=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){M(b)}var _=it;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}X=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};m.addEventListener("test",b,_),m.removeEventListener("test",b,_)}catch{}return c}();function Ie(c,_){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(oe){e:{try{se(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else b=="mouseover"?_=c.fromElement:b=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}k(Ie,le);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function lr(c,_,b,S,q){this.listener=c,this.proxy=null,this.src=_,this.type=b,this.capture=!!S,this.ha=q,this.key=++tt,this.da=this.fa=!1}function bi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pr(c){this.src=c,this.g={},this.h=0}Pr.prototype.add=function(c,_,b,S,q){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ue=wa(c,_,S,q);return-1<ue?(_=c[ue],b||(_.fa=!1)):(_=new lr(_,this.src,Y,!!S,q),_.fa=b,c.push(_)),_};function Ta(c,_){var b=_.type;if(b in c.g){var S=c.g[b],q=Array.prototype.indexOf.call(S,_,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(S,q,1),Y&&(bi(_),c.g[b].length==0&&(delete c.g[b],c.h--))}}function wa(c,_,b,S){for(var q=0;q<c.length;++q){var Y=c[q];if(!Y.da&&Y.listener==_&&Y.capture==!!b&&Y.ha==S)return q}return-1}var Aa="closure_lm_"+(1e6*Math.random()|0),Bo={};function Bu(c,_,b,S,q){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)Bu(c,_[Y],b,S,q);return null}return b=qu(b),c&&c[Vt]?c.K(_,b,g(S)?!!S.capture:!1,q):On(c,_,b,!1,S,q)}function On(c,_,b,S,q,Y){if(!_)throw Error("Invalid event type");var ue=g(q)?!!q.capture:!!q,Ve=Ts(c);if(Ve||(c[Aa]=Ve=new Pr(c)),b=Ve.add(_,b,S,ue,Y),b.proxy)return b;if(S=Lh(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)_e||(q=ue),q===void 0&&(q=!1),c.addEventListener(_.toString(),S,q);else if(c.attachEvent)c.attachEvent(Sa(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Lh(){function c(b){return _.call(c.src,c.listener,b)}const _=Uh;return c}function qo(c,_,b,S,q){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)qo(c,_[Y],b,S,q);else S=g(S)?!!S.capture:!!S,b=qu(b),c&&c[Vt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],b=wa(Y,b,S,q),-1<b&&(bi(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=Ts(c))&&(_=c.g[_.toString()],c=-1,_&&(c=wa(_,b,S,q)),(b=-1<c?_[c]:null)&&Es(b))}function Es(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Vt])Ta(_.i,c);else{var b=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(b,S,c.capture):_.detachEvent?_.detachEvent(Sa(b),S):_.addListener&&_.removeListener&&_.removeListener(S),(b=Ts(_))?(Ta(b,c),b.h==0&&(b.src=null,_[Aa]=null)):bi(c)}}}function Sa(c){return c in Bo?Bo[c]:Bo[c]="on"+c}function Uh(c,_){if(c.da)c=!0;else{_=new Ie(_,this);var b=c.listener,S=c.ha||c.src;c.fa&&Es(c),c=b.call(S,_)}return c}function Ts(c){return c=c[Aa],c instanceof Pr?c:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(c){return typeof c=="function"?c:(c[Fo]||(c[Fo]=function(_){return c.handleEvent(_)}),c[Fo])}function ht(){de.call(this),this.i=new Pr(this),this.M=this,this.F=null}k(ht,de),ht.prototype[Vt]=!0,ht.prototype.removeEventListener=function(c,_,b,S){qo(this,c,_,b,S)};function Ge(c,_){var b,S=c.F;if(S)for(b=[];S;S=S.F)b.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new le(_,c);else if(_ instanceof le)_.target=_.target||c;else{var q=_;_=new le(S,c),P(_,q)}if(q=!0,b)for(var Y=b.length-1;0<=Y;Y--){var ue=_.g=b[Y];q=bn(ue,S,!0,_)&&q}if(ue=_.g=c,q=bn(ue,S,!0,_)&&q,q=bn(ue,S,!1,_)&&q,b)for(Y=0;Y<b.length;Y++)ue=_.g=b[Y],q=bn(ue,S,!1,_)&&q}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var b=c.g[_],S=0;S<b.length;S++)bi(b[S]);delete c.g[_],c.h--}}this.F=null},ht.prototype.K=function(c,_,b,S){return this.i.add(String(c),_,!1,b,S)},ht.prototype.L=function(c,_,b,S){return this.i.add(String(c),_,!0,b,S)};function bn(c,_,b,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,Y=0;Y<_.length;++Y){var ue=_[Y];if(ue&&!ue.da&&ue.capture==b){var Ve=ue.listener,kt=ue.ha||ue.src;ue.fa&&Ta(c.i,ue),q=Ve.call(kt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Zt(c,_,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Fu(c){c.g=Zt(()=>{c.g=null,c.i&&(c.i=!1,Fu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class zh extends de{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(c){de.call(this),this.h=c,this.g={}}k(xa,de);var Ra=[];function Na(c){te(c.g,function(_,b){this.g.hasOwnProperty(b)&&Es(_)},c),c.g={}}xa.prototype.N=function(){xa.aa.N.call(this),Na(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,ws=m.JSON.parse,Ca=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function $o(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){le.call(this,"d")}k(Vr,le);function Ko(){le.call(this,"c")}k(Ko,le);var ur={},Yo=null;function Ei(){return Yo=Yo||new ht}ur.La="serverreachability";function As(c){le.call(this,ur.La,c)}k(As,le);function Ti(c){const _=Ei();Ge(_,new As(_))}ur.STAT_EVENT="statevent";function Hu(c,_){le.call(this,ur.STAT_EVENT,c),this.stat=_}k(Hu,le);function st(c){const _=Ei();Ge(_,new Hu(_,c))}ur.Ma="timingevent";function It(c,_){le.call(this,ur.Ma,c),this.size=_}k(It,le);function Tt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function Qo(c,_,b,S,q,Y){c.info(function(){if(c.g)if(Y)for(var ue="",Ve=Y.split("&"),kt=0;kt<Ve.length;kt++){var je=Ve[kt].split("=");if(1<je.length){var Lt=je[0];je=je[1];var Dt=Lt.split("_");ue=2<=Dt.length&&Dt[1]=="type"?ue+(Lt+"="+je+"&"):ue+(Lt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+_+`
`+b+`
`+ue})}function Bh(c,_,b,S,q,Y,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+_+`
`+b+`
`+Y+" "+ue})}function wi(c,_,b,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ia(c,b)+(S?" "+S:"")})}function Gu(c,_){c.info(function(){return"TIMEOUT: "+_})}Pn.prototype.info=function(){};function Ia(c,_){if(!c.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var S=b[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return Qn(b)}catch{return _}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function dr(){}k(dr,Ho),dr.prototype.g=function(){return new XMLHttpRequest},dr.prototype.i=function(){return{}},cr=new dr;function on(c,_,b,S){this.j=c,this.i=_,this.l=b,this.R=S||1,this.U=new xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var Xo={},Ss={};function Xn(c,_,b){c.L=1,c.v=Ma(En(_)),c.m=b,c.P=!0,Lr(c,null)}function Lr(c,_){c.F=Date.now(),ka(c),c.A=En(c.v);var b=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),nl(b.i,"t",S),c.C=0,b=c.j.J,c.h=new yt,c.g=oc(c.j,b?_:null,!c.m),0<c.O&&(c.M=new zh(T(c.Y,c,c.g),c.O)),_=c.U,b=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ra[0]=q.toString()),q=Ra);for(var Y=0;Y<q.length;Y++){var ue=Bu(b,q[Y],S||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Ti(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const _=this.M;_&&Ln(c)==3?_.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Ln(this.g);var _=this.g.Ba();const $r=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Dt!=4||_==7||(_==8||0>=$r?Ti(3):Ti(2)),Si(this);var b=this.g.Z();this.X=b;t:if($u(this)){var S=Zu(this.g);c="";var q=S.length,Y=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),hr(this);var ue="";break t}this.h.i=new m.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(Y&&_==q-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Bh(this.i,this.u,this.A,this.l,this.R,Dt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,kt=this.g;if((Ve=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ve)){var je=Ve;break t}}je=null}if(b=je)wi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,b);else{this.o=!1,this.s=3,st(12),Ht(this),hr(this);break e}}if(this.P){b=!0;let Gt;for(;!this.J&&this.C<ue.length;)if(Gt=Ku(this,ue),Gt==Ss){Dt==4&&(this.s=4,st(14),b=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Xo){this.s=4,st(15),wi(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else wi(this.i,this.l,Gt,null),Da(this,Gt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ue.length!=0||this.h.h||(this.s=1,st(16),b=!1),this.o=this.o&&b,!b)wi(this.i,this.l,ue,"[Invalid Chunked Response]"),Ht(this),hr(this);else if(0<ue.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Fa(Lt),Lt.M=!0,st(11))}}else wi(this.i,this.l,ue,null),Da(this,ue);Dt==4&&Ht(this),this.o&&!this.J&&(Dt==4?ic(this.j,this):(this.o=!1,ka(this)))}else $h(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ht(this),hr(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ku(c,_){var b=c.C,S=_.indexOf(`
`,b);return S==-1?Ss:(b=Number(_.substring(b,S)),isNaN(b)?Xo:(S+=1,S+b>_.length?Ss:(_=_.slice(S,S+b),c.C=S+b,_)))}on.prototype.cancel=function(){this.J=!0,Ht(this)};function ka(c){c.S=Date.now()+c.I,Yu(c,c.I)}function Yu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(T(c.ba,c),_)}function Si(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(Ti(),st(17)),Ht(this),this.s=2,hr(this)):Yu(this,this.S-c)};function hr(c){c.j.G==0||c.J||ic(c.j,c)}function Ht(c){Si(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Na(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Da(c,_){try{var b=c.j;if(b.G!=0&&(b.g==c||Wo(b.h,c))){if(!c.K&&Wo(b.h,c)&&b.G==3){try{var S=b.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)js(b),Ms(b);else break e;ol(b),st(18)}}else b.za=q[1],0<b.za-b.T&&37500>q[2]&&b.F&&b.v==0&&!b.C&&(b.C=Tt(T(b.Za,b),6e3));if(1>=Rs(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Gr(b,11)}else if((c.K||b.g==c)&&js(b),!Q(_))for(q=b.Da.g.parse(_),_=0;_<q.length;_++){let je=q[_];if(b.T=je[0],je=je[1],b.G==2)if(je[0]=="c"){b.K=je[1],b.ia=je[2];const Lt=je[3];Lt!=null&&(b.la=Lt,b.j.info("VER="+b.la));const Dt=je[4];Dt!=null&&(b.Aa=Dt,b.j.info("SVER="+b.Aa));const $r=je[5];$r!=null&&typeof $r=="number"&&0<$r&&(S=1.5*$r,b.L=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Gt=c.g;if(Gt){const vr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var Y=S.h;Y.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ns(Y,Y.h),Y.h=null))}if(S.D){const ul=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(S.ya=ul,Qe(S.I,S.D,ul))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),S=b;var ue=c;if(S.qa=sc(S,S.J?S.ia:null,S.W),ue.K){ln(S.h,ue);var Ve=ue,kt=S.L;kt&&(Ve.I=kt),Ve.B&&(Si(Ve),ka(Ve)),S.g=ue}else nc(S);0<b.i.length&&Vs(b)}else je[0]!="stop"&&je[0]!="close"||Gr(b,7);else b.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Gr(b,7):al(b):je[0]!="noop"&&b.l&&b.l.ta(je),b.v=0)}}Ti(4)}catch{}}var Qu=class{constructor(c,_){this.g=c,this.map=_}};function Ur(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rs(c){return c.h?1:c.g?c.g.size:0}function Wo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ns(c,_){c.g?c.g.add(_):c.h=_}function ln(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ur.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const b of c.g.values())_=_.concat(b.D);return _}return B(c.i)}function qh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],b=c.length,S=0;S<b;S++)_.push(c[S]);return _}_=[],b=0;for(S in c)_[b++]=c[S];return _}function Cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var b=0;b<c;b++)_.push(b);return _}_=[],b=0;for(const S in c)_[b++]=S;return _}}}function Zo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var b=Cs(c),S=qh(c),q=S.length,Y=0;Y<q;Y++)_.call(void 0,S[Y],b&&b[Y],c)}var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fh(c,_){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var S=c[b].indexOf("="),q=null;if(0<=S){var Y=c[b].substring(0,S);q=c[b].substring(S+1)}else Y=c[b];_(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,Pa(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.s),this.l=c.l;var _=c.i,b=new Br;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),zr(this,b),this.m=c.m}else c&&(_=String(c).match(Oa))?(this.h=!1,Pa(this,_[1]||"",!0),this.o=Mn(_[2]||""),this.g=Mn(_[3]||"",!0),xi(this,_[4]),this.l=Mn(_[5]||"",!0),zr(this,_[6]||"",!0),this.m=Mn(_[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}wt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Va(_,el,!0),":");var b=this.g;return(b||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Va(_,el,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Va(b,b.charAt(0)=="/"?Hh:tl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Va(b,Is)),c.join("")};function En(c){return new wt(c)}function Pa(c,_,b){c.j=b?Mn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function zr(c,_,b){_ instanceof Br?(c.i=_,Wu(c.i,c.h)):(b||(_=Va(_,Gh)),c.i=new Br(_,c.h))}function Qe(c,_,b){c.i.set(_,b)}function Ma(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Va(c,_,b){return typeof c=="string"?(c=encodeURI(c).replace(_,Xu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Hh=/[#\?]/g,Gh=/[#\?@]/g,Is=/#/g;function Br(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Fh(c.i,function(_,b){c.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}r=Br.prototype,r.add=function(c,_){Vn(this),this.i=null,c=fr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(_),this.h+=1,this};function qr(c,_){Vn(c),_=fr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Fr(c,_){return Vn(c),_=fr(c,_),c.g.has(_)}r.forEach=function(c,_){Vn(this),this.g.forEach(function(b,S){b.forEach(function(q){c.call(_,q,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let S=0;S<_.length;S++){const q=c[S];for(let Y=0;Y<q.length;Y++)b.push(_[S])}return b},r.V=function(c){Vn(this);let _=[];if(typeof c=="string")Fr(this,c)&&(_=_.concat(this.g.get(fr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)_=_.concat(c[b])}return _},r.set=function(c,_){return Vn(this),this.i=null,c=fr(this,c),Fr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function nl(c,_,b){qr(c,_),0<b.length&&(c.i=null,c.g.set(fr(c,_),B(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var S=_[b];const Y=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var q=Y;ue[S]!==""&&(q+="="+encodeURIComponent(String(ue[S]))),c.push(q)}}return this.i=c.join("&")};function fr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Wu(c,_){_&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(b,S){var q=S.toLowerCase();S!=q&&(qr(this,S),nl(this,q,b))},c)),c.j=_}function ja(c,_){const b=new Pn;if(m.Image){const S=new Image;S.onload=D(jn,b,"TestLoadImage: loaded",!0,_,S),S.onerror=D(jn,b,"TestLoadImage: error",!1,_,S),S.onabort=D(jn,b,"TestLoadImage: abort",!1,_,S),S.ontimeout=D(jn,b,"TestLoadImage: timeout",!1,_,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Wn(c,_){const b=new Pn,S=new AbortController,q=setTimeout(()=>{S.abort(),jn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(q),Y.ok?jn(b,"TestPingServer: ok",!0,_):jn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),jn(b,"TestPingServer: error",!1,_)})}function jn(c,_,b,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(b)}catch{}}function La(){this.g=new Ca}function mr(c,_,b){const S=b||"";try{Zo(c,function(q,Y){let ue=q;g(q)&&(ue=Qn(q)),_.push(S+Y+"="+encodeURIComponent(ue))})}catch(q){throw _.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ri(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Ri,Ho),Ri.prototype.g=function(){return new Hr(this.l,this.j)},Ri.prototype.i=function(c){return function(){return c}}({});function Hr(c,_){ht.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Hr,ht),r=Hr.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?pr(this):gr(this),this.readyState==3&&rl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Qa=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=_.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function il(c){let _="";return te(c,function(b,S){_+=S,_+=":",_+=b,_+=`\r
`}),_}function jt(c,_,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=il(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):Qe(c,_,b))}function Fe(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Fe,ht);var ks=/^https?$/i,Ua=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Go(this.o):Go(cr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){Ju(this,Y);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)b.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())b.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ua,_,void 0))||S||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of b)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ju(this,Y)}};function Ju(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Ds(c),yr(c)}function Ds(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Os(this):this.bb())},r.bb=function(){Os(this)};function Os(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Zt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var S;if(S=ue===0){var q=String(c.D).match(Oa)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!ks.test(q?q.toLowerCase():"")}b=S}if(b)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Y=2<Ln(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ds(c)}}finally{yr(c)}}}}function yr(c,_){if(c.g){za(c);const b=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ge(c,"ready");try{b.onreadystatechange=S}catch{}}}function za(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ws(_)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(c){const _={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var b=j(c[S]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=_[q]||[];_[q]=Y,Y.push(b)}C(_,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(c,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||_}function Ps(c){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,c),this.cb=Ba("retryDelaySeedMs",1e4,c),this.Wa=Ba("forwardChannelMaxRetries",2,c),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(c&&c.concurrentRequestLimit),this.Da=new La,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ps.prototype,r.la=8,r.G=1,r.connect=function(c,_,b,S){st(0),this.W=c,this.H=_||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.I=sc(this,null,this.W),Vs(this)};function al(c){if(ec(c),c.G==3){var _=c.U++,b=En(c.I);if(Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),qa(c,b),_=new on(c,c.j,_),_.L=2,_.v=Ma(En(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=_.v,b=!0),b||(_.g=oc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ka(_)}ac(c)}function Ms(c){c.g&&(Fa(c),c.g.cancel(),c.g=null)}function ec(c){Ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Vs(c){if(!xs(c.h)&&!c.s){c.s=!0;var _=c.Ga;ce||O(),X||(ce(),X=!0),me.add(_,c),c.B=0}}function Kh(c,_){return Rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(T(c.Ga,c,_),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new on(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=x(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=tc(this,q,_),b=En(this.I),Qe(b,"RID",c),Qe(b,"CVER",22),this.D&&Qe(b,"X-HTTP-Session-Id",this.D),qa(this,b),Y&&(this.O?_="headers="+encodeURIComponent(String(il(Y)))+"&"+_:this.m&&jt(b,this.m,Y)),Ns(this.h,q),this.Ua&&Qe(b,"TYPE","init"),this.P?(Qe(b,"$req",_),Qe(b,"SID","null"),q.T=!0,Xn(q,b,null)):Xn(q,b,_),this.G=2}}else this.G==3&&(c?sl(this,c):this.i.length==0||xs(this.h)||sl(this))};function sl(c,_){var b;_?b=_.l:b=c.U++;const S=En(c.I);Qe(S,"SID",c.K),Qe(S,"RID",b),Qe(S,"AID",c.T),qa(c,S),c.m&&c.o&&jt(S,c.m,c.o),b=new on(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),_&&(c.i=_.D.concat(c.i)),_=tc(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ns(c.h,b),Xn(b,S,_)}function qa(c,_){c.H&&te(c.H,function(b,S){Qe(_,S,b)}),c.l&&Zo({},function(b,S){Qe(_,S,b)})}function tc(c,_,b){b=Math.min(c.i.length,b);var S=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let Y=-1;for(;;){const ue=["count="+b];Y==-1?0<b?(Y=q[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Ve=!0;for(let kt=0;kt<b;kt++){let je=q[kt].g;const Lt=q[kt].map;if(je-=Y,0>je)Y=Math.max(0,q[kt].g-100),Ve=!1;else try{mr(Lt,ue,"req"+je+"_")}catch{S&&S(Lt)}}if(Ve){S=ue.join("&");break e}}}return c=c.i.splice(0,b),_.D=c,S}function nc(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ce||O(),X||(ce(),X=!0),me.add(_,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(T(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ms(this),rc(this))};function Fa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=En(c.qa);Qe(_,"RID","rpc"),Qe(_,"SID",c.K),Qe(_,"AID",c.T),Qe(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(_,"TO",c.ja),Qe(_,"TYPE","xmlhttp"),qa(c,_),c.m&&c.o&&jt(_,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Ma(En(_)),b.m=null,b.P=!0,Lr(b,c)}r.Za=function(){this.C!=null&&(this.C=null,Ms(this),ol(this),st(19))};function js(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ic(c,_){var b=null;if(c.g==_){js(c),Fa(c),c.g=null;var S=2}else if(Wo(c.h,_))b=_.D,ln(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var q=c.B;S=Ei(),Ge(S,new It(S,b)),Vs(c)}else nc(c);else if(q=_.s,q==3||q==0&&0<_.X||!(S==1&&Kh(c,_)||S==2&&ol(c)))switch(b&&0<b.length&&(_=c.h,_.i=_.i.concat(b)),q){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function ll(c,_){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*_}function Gr(c,_){if(c.j.info("Error code "+_),_==2){var b=T(c.fb,c),S=c.Xa;const q=!S;S=new wt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pa(S,"https"),Ma(S),q?ja(S.toString(),b):Wn(S.toString(),b)}else st(2);c.G=0,c.l&&c.l.sa(_),ac(c),ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ac(c){if(c.G=0,c.ka=[],c.l){const _=Jo(c.h);(_.length!=0||c.i.length!=0)&&(L(c.ka,_),L(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function sc(c,_,b){var S=b instanceof wt?En(b):new wt(b);if(S.g!="")_&&(S.g=_+"."+S.g),xi(S,S.s);else{var q=m.location;S=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var Y=new wt(null);S&&Pa(Y,S),_&&(Y.g=_),q&&xi(Y,q),b&&(Y.l=b),S=Y}return b=c.D,_=c.ya,b&&_&&Qe(S,b,_),Qe(S,"VER",c.la),qa(c,S),S}function oc(c,_,b){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Fe(new Ri({eb:b})):new Fe(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ls(){}Ls.prototype.g=function(c,_){return new un(c,_)};function un(c,_){ht.call(this),this.g=new Ps(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!Q(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Q(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new _r(this)}k(un,ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){al(this.g)},un.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Qn(c),c=b);_.i.push(new Qu(_.Ya++,c)),_.G==3&&Vs(_)},un.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,un.aa.N.call(this)};function uc(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const b in _){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}k(uc,Vr);function cc(){Ko.call(this),this.status=1}k(cc,Ko);function _r(c){this.g=c}k(_r,lc),_r.prototype.ua=function(){Ge(this.g,"a")},_r.prototype.ta=function(c){Ge(this.g,new uc(c))},_r.prototype.sa=function(c){Ge(this.g,new cc)},_r.prototype.ra=function(){Ge(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,VT=function(){return new Ls},MT=function(){return Ei()},PT=ur,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Dd=Ai,jr.COMPLETE="complete",OT=jr,$o.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,iu=$o,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,DT=Fe}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const sb="@firebase/firestore",ob="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Wp("@firebase/firestore");function mo(){return hs.logLevel}function fe(r,...e){if(hs.logLevel<=Pe.DEBUG){const t=e.map(lg);hs.debug(`Firestore (${Mo}): ${r}`,...t)}}function mi(r,...e){if(hs.logLevel<=Pe.ERROR){const t=e.map(lg);hs.error(`Firestore (${Mo}): ${r}`,...t)}}function ca(r,...e){if(hs.logLevel<=Pe.WARN){const t=e.map(lg);hs.warn(`Firestore (${Mo}): ${r}`,...t)}}function lg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,jT(r,a,t)}function jT(r,e,t){let a=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw mi(a),new Error(a)}function He(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||jT(e,o,a)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class XI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WI{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(He(typeof a.accessToken=="string",31837,{l:a}),new LT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class JI{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZI{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new JI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const a=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=t2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function Ce(r,e){return r<e?-1:r>e?1:0}function Tp(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return Ce(a,o);{const u=UT(),d=n2(u.encode(ub(r,t)),u.encode(ub(e,t)));return d!==0?d:Ce(a,o)}}t+=a>65535?2:1}return Ce(r.length,e.length)}function ub(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function n2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function So(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__name__";class Sr{constructor(e,t,a){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Te(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=Sr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const a=Sr.isNumericId(e),o=Sr.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):Tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class rt extends Sr{construct(e,t,a){return new rt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Sr{construct(e,t,a){return new Wt(e,t,a)}static isValidIdentifier(e){return r2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cb}static keyField(){return new Wt([cb])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(u(),o++)}if(u(),d)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function i2(r,e,t,a){if(e===!0&&a===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function db(r){if(!ye.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hb(r){if(ye.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function BT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_h(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Mu(r,e){if(!BT(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){t=`Expected '${a}' field to equal '${u.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-62135596800,mb=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*mb);return new et(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fb)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mb}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Nt("string",et._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new et(0,0))}static max(){return new Se(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function a2(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new et(t+1,0):new et(t,a));return new da(o,ye.empty(),e)}function s2(r){return new da(r.readTime,r.key,vu)}class da{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new da(Se.min(),ye.empty(),vu)}static max(){return new da(Se.max(),ye.empty(),vu)}}function o2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==l2)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,a)=>{t(e)})}static reject(e){return new ie((t,a)=>{a(e)})}static waitFor(e){return new ie((t,a)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},p=>a(p))}),d=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const a of e)t=t.next(o=>o?ie.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,u)=>{a.push(t.call(this,o,u))}),this.waitFor(a)}static mapArray(e,t){return new ie((a,o)=>{const u=e.length,d=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{d[g]=v,++m,m===u&&a(d)},v=>o(v))}})}static doWhile(e,t){return new ie((a,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):a()};u()})}}function c2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this._e(a),this.ae=a=>t.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}vh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function bh(r){return r==null}function Yd(r){return r===0&&1/r==-1/0}function d2(r){return typeof r=="number"&&Number.isInteger(r)&&!Yd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function h2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=pb(e)),e=f2(r.get(t),e);return pb(e)}function f2(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case qT:t+="";break;default:t+=u}}return t}function pb(r){return r+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function va(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function FT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new Xt(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,a,o,u){return this}insert(e,t,a){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Mt(Wt.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(r){if(He(!!r,39018),typeof r=="string"){let e=0;const t=m2.exec(r);if(He(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fa(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="server_timestamp",$T="__type__",KT="__previous_value__",YT="__local_write_time__";function dg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||t===void 0?void 0:t.stringValue)===GT}function Eh(r){const e=r.mapValue.fields[KT];return dg(e)?Eh(e):e}function bu(r){const e=ha(r.mapValue.fields[YT].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,a,o,u,d,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Qd="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||Qd}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__type__",g2="__max__",gd={mapValue:{}},XT="__vector__",Xd="value";function ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dg(r)?4:_2(r)?9007199254740991:y2(r)?10:11:Te(28295,{value:r})}function Or(r,e){if(r===e)return!0;const t=ma(r);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return bu(r).isEqual(bu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ha(o.timestampValue),m=ha(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return fa(o.bytesValue).isEqual(fa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=bt(o.doubleValue),m=bt(u.doubleValue);return d===m?Yd(d)===Yd(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gb(d)!==gb(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Or(d[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Tu(r,e){return(r.values||[]).find(t=>Or(t,e))!==void 0}function xo(r,e){if(r===e)return 0;const t=ma(r),a=ma(e);if(t!==a)return Ce(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,d){const m=bt(u.integerValue||u.doubleValue),p=bt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return _b(r.timestampValue,e.timestampValue);case 4:return _b(bu(r),bu(e));case 5:return Tp(r.stringValue,e.stringValue);case 6:return function(u,d){const m=fa(u),p=fa(d);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),p=d.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ce(m[g],p[g]);if(v!==0)return v}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Ce(bt(u.latitude),bt(d.latitude));return m!==0?m:Ce(bt(u.longitude),bt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return vb(r.arrayValue,e.arrayValue);case 10:return function(u,d){var m,p,g,v;const A=u.fields||{},T=d.fields||{},D=(m=A[Xd])===null||m===void 0?void 0:m.arrayValue,k=(p=T[Xd])===null||p===void 0?void 0:p.arrayValue,B=Ce(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:vb(D,k)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===gd.mapValue&&d===gd.mapValue)return 0;if(u===gd.mapValue)return 1;if(d===gd.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=d.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const T=Tp(p[A],v[A]);if(T!==0)return T;const D=xo(m[p[A]],g[v[A]]);if(D!==0)return D}return Ce(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function _b(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=ha(r),a=ha(e),o=Ce(t.seconds,a.seconds);return o!==0?o:Ce(t.nanos,a.nanos)}function vb(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=xo(t[o],a[o]);if(u)return u}return Ce(t.length,a.length)}function Ro(r){return wp(r)}function wp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=ha(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return fa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=wp(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${wp(t.fields[d])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function Od(r){switch(ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(r);return e?16+Od(e):16;case 5:return 2*r.stringValue.length;case 6:return fa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Od(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return va(a.fields,(u,d)=>{o+=u.length+Od(d)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function bb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ap(r){return!!r&&"integerValue"in r}function hg(r){return!!r&&"arrayValue"in r}function Eb(r){return!!r&&"nullValue"in r}function Tb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pd(r){return!!r&&"mapValue"in r}function y2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[QT])===null||t===void 0?void 0:t.stringValue)===XT}function cu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return va(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=cu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function _2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=Wt.emptyPath(),a={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=m.popLast()}d?a[m.lastSegment()]=cu(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());Pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){va(t,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new vn(cu(this.value))}}function WT(r){const e=[];return va(r.fields,(t,a)=>{const o=new Wt([t]);if(Pd(a)){const u=WT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,a,o,u,d,m){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,t,a,o){return new an(e,1,t,Se.min(),a,o,0)}static newNoDocument(e,t){return new an(e,2,t,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.position=e,this.inclusive=t}}function wb(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),t.key):a=xo(d,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ab(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Or(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function v2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{}class Rt extends JT{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new E2(e,t,a):t==="array-contains"?new A2(e,a):t==="in"?new S2(e,a):t==="not-in"?new x2(e,a):t==="array-contains-any"?new R2(e,a):new Rt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new T2(e,a):new w2(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&ma(this.value)===ma(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends JT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ir(e,t)}matches(e){return ZT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ZT(r){return r.op==="and"}function ew(r){return b2(r)&&ZT(r)}function b2(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function Sp(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(ew(r))return r.filters.map(e=>Sp(e)).join(",");{const e=r.filters.map(t=>Sp(t)).join(",");return`${r.op}(${e})`}}function tw(r,e){return r instanceof Rt?function(a,o){return o instanceof Rt&&a.op===o.op&&a.field.isEqual(o.field)&&Or(a.value,o.value)}(r,e):r instanceof ir?function(a,o){return o instanceof ir&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,m)=>u&&tw(d,o.filters[m]),!0):!1}(r,e):void Te(19439)}function nw(r){return r instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`}(r):r instanceof ir?function(t){return t.op.toString()+" {"+t.getFilters().map(nw).join(" ,")+"}"}(r):"Filter"}class E2 extends Rt{constructor(e,t,a){super(e,t,a),this.key=ye.fromName(a.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class T2 extends Rt{constructor(e,t){super(e,"in",t),this.keys=rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w2 extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>ye.fromName(a.referenceValue))}class A2 extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&Tu(t.arrayValue,this.value)}}class S2 extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class x2 extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class R2 extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Tu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t=null,a=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Pe=null}}function Sb(r,e=null,t=[],a=[],o=null,u=null,d=null){return new N2(r,e,t,a,o,u,d)}function fg(r){const e=xe(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Sp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ro(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ro(a)).join(",")),e.Pe=t}return e.Pe}function mg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!v2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!tw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ab(r.startAt,e.startAt)&&Ab(r.endAt,e.endAt)}function xp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,a=[],o=[],u=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function C2(r,e,t,a,o,u,d,m){return new Lo(r,e,t,a,o,u,d,m)}function pg(r){return new Lo(r)}function xb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iw(r){return r.collectionGroup!==null}function du(r){const e=xe(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Mt(Wt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new wu(u,a))}),t.has(Wt.keyField().canonicalString())||e.Te.push(new wu(Wt.keyField(),a))}return e.Te}function Cr(r){const e=xe(r);return e.Ie||(e.Ie=I2(e,du(r))),e.Ie}function I2(r,e){if(r.limitType==="F")return Sb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)});const t=r.endAt?new Wd(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wd(r.startAt.position,r.startAt.inclusive):null;return Sb(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function Rp(r,e){const t=r.filters.concat([e]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Np(r,e,t){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Th(r,e){return mg(Cr(r),Cr(e))&&r.limitType===e.limitType}function aw(r){return`${fg(Cr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>nw(o)).join(", ")}]`),bh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Ro(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Ro(o)).join(",")),`Target(${a})`}(Cr(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of du(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,m,p){const g=wb(d,m,p);return d.inclusive?g<=0:g<0}(a.startAt,du(a),o)||a.endAt&&!function(d,m,p){const g=wb(d,m,p);return d.inclusive?g>=0:g>0}(a.endAt,du(a),o))}(r,e)}function k2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sw(r){return(e,t)=>{let a=!1;for(const o of du(r)){const u=D2(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function D2(r,e,t){const a=r.field.isKeyField()?ye.comparator(e.key,t.key):function(u,d,m){const p=d.data.field(u),g=m.data.field(u);return p!==null&&g!==null?xo(p,g):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new dt(ye.comparator);function gi(){return O2}const ow=new dt(ye.comparator);function au(...r){let e=ow;for(const t of r)e=e.insert(t.key,t);return e}function lw(r){let e=ow;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function os(){return hu()}function uw(){return hu()}function hu(){return new _s(r=>r.toString(),(r,e)=>r.isEqual(e))}const P2=new dt(ye.comparator),M2=new Mt(ye.comparator);function Me(...r){let e=M2;for(const t of r)e=e.add(t);return e}const V2=new Mt(Ce);function j2(){return V2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function cw(r){return{integerValue:""+r}}function L2(r,e){return d2(e)?cw(e):gg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function U2(r,e,t){return r instanceof Au?function(o,u){const d={fields:{[$T]:{stringValue:GT},[YT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dg(u)&&(u=Eh(u)),u&&(d.fields[KT]=u),{mapValue:d}}(t,e):r instanceof Su?hw(r,e):r instanceof xu?fw(r,e):function(o,u){const d=dw(o,u),m=Rb(d)+Rb(o.Ee);return Ap(d)&&Ap(o.Ee)?cw(m):gg(o.serializer,m)}(r,e)}function z2(r,e,t){return r instanceof Su?hw(r,e):r instanceof xu?fw(r,e):t}function dw(r,e){return r instanceof Jd?function(a){return Ap(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Au extends Ah{}class Su extends Ah{constructor(e){super(),this.elements=e}}function hw(r,e){const t=mw(e);for(const a of r.elements)t.some(o=>Or(o,a))||t.push(a);return{arrayValue:{values:t}}}class xu extends Ah{constructor(e){super(),this.elements=e}}function fw(r,e){let t=mw(e);for(const a of r.elements)t=t.filter(o=>!Or(o,a));return{arrayValue:{values:t}}}class Jd extends Ah{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Rb(r){return bt(r.integerValue||r.doubleValue)}function mw(r){return hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t){this.field=e,this.transform=t}}function q2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Su&&o instanceof Su||a instanceof xu&&o instanceof xu?So(a.elements,o.elements,Or):a instanceof Jd&&o instanceof Jd?Or(a.Ee,o.Ee):a instanceof Au&&o instanceof Au}(r.transform,e.transform)}class F2{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function pw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yg(r.key,nr.none()):new Vu(r.key,r.data,nr.none());{const t=r.data,a=vn.empty();let o=new Mt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new ba(r.key,a,new kn(o.toArray()),nr.none())}}function H2(r,e,t){r instanceof Vu?function(o,u,d){const m=o.value.clone(),p=Cb(o.fieldTransforms,u,d.transformResults);m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ba?function(o,u,d){if(!Md(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Cb(o.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(gw(o)),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function fu(r,e,t,a){return r instanceof Vu?function(u,d,m,p){if(!Md(u.precondition,d))return m;const g=u.value.clone(),v=Ib(u.fieldTransforms,p,d);return g.setAll(v),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof ba?function(u,d,m,p){if(!Md(u.precondition,d))return m;const g=Ib(u.fieldTransforms,p,d),v=d.data;return v.setAll(gw(u)),v.setAll(g),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,t,a):function(u,d,m){return Md(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,t)}function G2(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=dw(a.transform,o||null);u!=null&&(t===null&&(t=vn.empty()),t.set(a.field,u))}return t||null}function Nb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&So(a,o,(u,d)=>q2(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vu extends Sh{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Sh{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function Cb(r,e,t){const a=new Map;He(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],d=u.transform,m=e.data.field(u.field);a.set(u.field,z2(d,m,t[o]))}return a}function Ib(r,e,t){const a=new Map;for(const o of r){const u=o.transform,d=t.data.field(o.field);a.set(o.field,U2(u,d,e))}return a}class yg extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $2 extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H2(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=fu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=fu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=uw();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const p=pw(d,m);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Se.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(t,a)=>Nb(t,a))&&So(this.baseMutations,e.baseMutations,(t,a)=>Nb(t,a))}}class _g{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){He(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return P2}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new _g(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ue;function X2(r){switch(r){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function yw(r){if(r===void 0)return mi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case xt.OK:return ee.OK;case xt.CANCELLED:return ee.CANCELLED;case xt.UNKNOWN:return ee.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ee.INTERNAL;case xt.UNAVAILABLE:return ee.UNAVAILABLE;case xt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case xt.NOT_FOUND:return ee.NOT_FOUND;case xt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case xt.ABORTED:return ee.ABORTED;case xt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case xt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=xt||(xt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new oa([4294967295,4294967295],0);function kb(r){const e=UT().encode(r),t=new kT;return t.update(e),new Uint8Array(t.digest())}function Db(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new oa([t,a],0),new oa([o,u],0)]}class vg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(a<0)throw new su(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=oa.fromNumber(this.fe)}pe(e,t,a){let o=e.add(t.multiply(oa.fromNumber(a)));return o.compare(W2)===1&&(o=new oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=kb(e),[a,o]=Db(t);for(let u=0;u<this.hashCount;u++){const d=this.pe(a,o,u);if(!this.ye(d))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new vg(u,o,t);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.fe===0)return;const t=kb(e),[a,o]=Db(t);for(let u=0;u<this.hashCount;u++){const d=this.pe(a,o,u);this.we(d)}}we(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new xh(Se.min(),o,new dt(Ce),gi(),Me())}}class ju{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ju(a,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,a,o){this.Se=e,this.removedTargetIds=t,this.key=a,this.be=o}}class _w{constructor(e,t){this.targetId=e,this.De=t}}class vw{constructor(e,t,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class Ob{constructor(){this.ve=0,this.Ce=Pb(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),t=Me(),a=Me();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:u})}}),new ju(this.Fe,this.Me,e,t,a)}ke(){this.xe=!1,this.Ce=Pb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class J2{constructor(e){this.We=e,this.Ge=new Map,this.ze=gi(),this.je=yd(),this.Je=yd(),this.He=new dt(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const a=this.tt(t);switch(e.state){case 0:this.nt(t)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),a.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((a,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,a=e.De.count,o=this.st(t);if(o){const u=o.target;if(xp(u))if(a===0){const d=new ye(u.path);this.Xe(t,d,an.newNoDocument(d,Se.min()))}else He(a===1,20013,{expectedCount:a});else{const d=this.ot(t);if(d!==a){const m=this._t(e),p=m?this.ut(m,e,d):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let d,m;try{d=fa(a).toUint8Array()}catch(p){if(p instanceof HT)return ca("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vg(d,o,u)}catch(p){return ca(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,a){return t.De.count===a-this.ht(e,t.targetId)?0:2}ht(e,t){const a=this.We.getRemoteKeysForTarget(t);let o=0;return a.forEach(u=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,d)=>{const m=this.st(d);if(m){if(u.current&&xp(m.target)){const p=new ye(m.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,an.newNoDocument(p,e))}u.Ne&&(t.set(d,u.Le()),u.ke())}});let a=Me();this.Je.forEach((u,d)=>{let m=!0;d.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ze.forEach((u,d)=>d.setReadTime(e));const o=new xh(e,t,this.He,this.ze,a);return this.ze=gi(),this.je=yd(),this.Je=yd(),this.He=new dt(Ce),o}Ze(e,t){if(!this.nt(e))return;const a=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,a),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),a&&(this.ze=this.ze.insert(t,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Ob,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Ob),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function yd(){return new dt(ye.comparator)}function Pb(){return new dt(ye.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk={and:"AND",or:"OR"};class nk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function Zd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rk(r,e){return Zd(r,e.toTimestamp())}function Ir(r){return He(!!r,49232),Se.fromTimestamp(function(t){const a=ha(t);return new et(a.seconds,a.nanos)}(r))}function bg(r,e){return Ip(r,e).canonicalString()}function Ip(r,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Ew(r){const e=rt.fromString(r);return He(xw(e),10190,{key:e.toString()}),e}function kp(r,e){return bg(r.databaseId,e.path)}function ep(r,e){const t=Ew(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(ww(t))}function Tw(r,e){return bg(r.databaseId,e)}function ik(r){const e=Ew(r);return e.length===4?rt.emptyPath():ww(e)}function Dp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ww(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mb(r,e,t){return{name:kp(r,e),fields:t.value.mapValue.fields}}function ak(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(He(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(He(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(g){const v=g.code===void 0?ee.UNKNOWN:yw(g.code);return new he(v,g.message||"")}(d);t=new vw(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ep(r,a.document.name),u=Ir(a.document.updateTime),d=a.document.createTime?Ir(a.document.createTime):Se.min(),m=new vn({mapValue:{fields:a.document.fields}}),p=an.newFoundDocument(o,u,d,m),g=a.targetIds||[],v=a.removedTargetIds||[];t=new Vd(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ep(r,a.document),u=a.readTime?Ir(a.readTime):Se.min(),d=an.newNoDocument(o,u),m=a.removedTargetIds||[];t=new Vd([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ep(r,a.document),u=a.removedTargetIds||[];t=new Vd([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new Q2(o,u),m=a.targetId;t=new _w(m,d)}}return t}function sk(r,e){let t;if(e instanceof Vu)t={update:Mb(r,e.key,e.value)};else if(e instanceof yg)t={delete:kp(r,e.key)};else if(e instanceof ba)t={update:Mb(r,e.key,e.data),updateMask:pk(e.fieldMask)};else{if(!(e instanceof $2))return Te(16599,{Rt:e.type});t={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const m=d.transform;if(m instanceof Au)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jd)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw Te(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:rk(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),t}function ok(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(t=>function(o,u){let d=o.updateTime?Ir(o.updateTime):Ir(u);return d.isEqual(Se.min())&&(d=Ir(u)),new F2(d,o.transformResults||[])}(t,e))):[]}function lk(r,e){return{documents:[Tw(r,e.path)]}}function uk(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Tw(r,o);const u=function(g){if(g.length!==0)return Sw(ir.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:go(T.field),direction:hk(T.dir)}}(v))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=Cp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function ck(r){let e=ik(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){He(a===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(A){const T=Aw(A);return T instanceof ir&&ew(T)?T.getFilters():[T]}(t.where));let d=[];t.orderBy&&(d=function(A){return A.map(T=>function(k){return new wu(yo(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(A){let T;return T=typeof A=="object"?A.value:A,bh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(A){const T=!!A.before,D=A.values||[];return new Wd(D,T)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const T=!A.before,D=A.values||[];return new Wd(D,T)}(t.endAt)),C2(e,o,d,u,m,"F",p,g)}function dk(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=yo(t.unaryFilter.field);return Rt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(t.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yo(t.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return Rt.create(yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ir.create(t.compositeFilter.filters.map(a=>Aw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function hk(r){return Z2[r]}function fk(r){return ek[r]}function mk(r){return tk[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return Wt.fromServerFormat(r.fieldPath)}function Sw(r){return r instanceof Rt?function(t){if(t.op==="=="){if(Tb(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(Eb(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Tb(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(Eb(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:fk(t.op),value:t.value}}}(r):r instanceof ir?function(t){const a=t.getFilters().map(o=>Sw(o));return a.length===1?a[0]:{compositeFilter:{op:mk(t.op),filters:a}}}(r):Te(54877,{filter:r})}function pk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,a,o,u=Se.min(),d=Se.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.gt=e}}function yk(r){const e=ck({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.Dn=new vk}addToCollectionParentIndex(e,t){return this.Dn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(da.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(da.min())}updateCollectionGroup(e,t,a){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class vk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Mt(rt.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Rw,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new No(0)}static ur(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="LruGarbageCollector",bk=1048576;function Lb([r,e],[t,a]){const o=Ce(r,t);return o===0?Ce(e,a):o}class Ek{constructor(e){this.Tr=e,this.buffer=new Mt(Lb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Lb(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Tk{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(jb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?fe(jb,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Rr(3e5)})}}class wk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(vh.ue);const a=new Ek(t);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Vb)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let a,o,u,d,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(g=Date.now(),mo()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Ak(r,e){return new wk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.changes=new _s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ie.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&fu(a.mutation,o,kn.empty(),et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Me()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Me()){const o=os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(u=>{let d=au();return u.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const a=os();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Me()))}populateOverlays(e,t,a){const o=[];return a.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,a,o){let u=gi();const d=hu(),m=function(){return hu()}();return t.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ba)?u=u.insert(g.key,g):v!==void 0?(d.set(g.key,v.mutation.getFieldMask()),fu(v.mutation,g,v.mutation.getFieldMask(),et.now())):d.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>d.set(g,v)),t.forEach((g,v)=>{var A;return m.set(g,new xk(v,(A=d.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const a=hu();let o=new dt((d,m)=>d-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=a.get(p)||kn.empty();v=m.applyToLocalView(g,v),a.set(p,v);const A=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,A=uw();v.forEach(T=>{if(!u.has(T)){const D=pw(t.get(T),a.get(T));D!==null&&A.set(T,D),u=u.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ie.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ie.resolve(os());let m=vu,p=u;return d.next(g=>ie.forEach(g,(v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(v=>({batchId:m,changes:lw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(a=>{let o=au();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let d=au();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(A,T){return new Lo(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((A,T)=>{d=d.insert(A,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o))).next(d=>{u.forEach((p,g)=>{const v=g.getKey();d.get(v)===null&&(d=d.insert(v,an.newInvalidDocument(v)))});let m=au();return d.forEach((p,g)=>{const v=u.get(p);v!==void 0&&fu(v.mutation,g,kn.empty(),et.now()),wh(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:yk(o.bundledQuery),readTime:Ir(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.overlays=new dt(ye.comparator),this.kr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const a=os();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,u)=>{this.wt(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),ie.resolve()}getOverlaysForCollection(e,t,a){const o=os(),u=t.length+1,d=new ye(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new dt((g,v)=>g-v);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=os(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=os(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ie.resolve(m)}wt(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Y2(t,a));let u=this.kr.get(t);u===void 0&&(u=Me(),this.kr.set(t,u)),this.kr.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.qr=new Mt(qt.Qr),this.$r=new Mt(qt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const a=new qt(e,t);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Wr(new qt(e,t))}Gr(e,t){e.forEach(a=>this.removeReference(a,t))}zr(e){const t=new ye(new rt([])),a=new qt(t,e),o=new qt(t,e+1),u=[];return this.$r.forEachInRange([a,o],d=>{this.Wr(d),u.push(d.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ye(new rt([])),a=new qt(t,e),o=new qt(t,e+1);let u=Me();return this.$r.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new qt(e,0),a=this.qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ye.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mt(qt.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new K2(u,t,a,o);this.mutationQueue.push(d);for(const m of o)this.Yr=this.Yr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Xr(a),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?cg:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],d=>{const m=this.Zr(d.Hr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Mt(Ce);return t.forEach(o=>{const u=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,d],m=>{a=a.add(m.Hr)})}),ie.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const d=new qt(new ye(u),0);let m=new Mt(Ce);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},d),ie.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ie.forEach(t.mutations,o=>{const u=new qt(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,t){const a=new qt(t,0),o=this.Yr.firstAfterOrEqual(a);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.ni=e,this.docs=function(){return new dt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,d=this.ni(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ie.resolve(a?a.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let a=gi();return t.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ie.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=gi();const d=t.path,m=new ye(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||o2(s2(v),a)<=0||(o.has(v.key)||wh(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Te(9500)}ri(e,t){return ie.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Ok(this)}getSize(e){return ie.resolve(this.size)}}class Ok extends Sk{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),ie.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.persistence=e,this.ii=new _s(t=>fg(t),mg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new Eg,this.targetCount=0,this._i=No.ar()}forEachTarget(e,t){return this.ii.forEach((a,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.si&&(this.si=t),ie.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new No(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.hr(t),ie.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.ii.forEach((d,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.ii.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const a=this.ii.get(t)||null;return ie.resolve(a)}addMatchingKeys(e,t,a){return this.oi.Kr(t,a),ie.resolve()}removeMatchingKeys(e,t,a){this.oi.Gr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const a=this.oi.Jr(t);return ie.resolve(a)}containsKey(e,t){return ie.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.ai={},this.overlays={},this.ui=new vh(0),this.ci=!1,this.ci=!0,this.li=new Ik,this.referenceDelegate=e(this),this.hi=new Pk(this),this.indexManager=new _k,this.remoteDocumentCache=function(o){return new Dk(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new gk(t),this.Ti=new Nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ck,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ai[e.toKey()];return a||(a=new kk(t,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,a){fe("MemoryPersistence","Starting transaction:",e);const o=new Mk(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ie.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,t)))}}class Mk extends u2{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ai=new Eg,this.Ri=null}static Vi(e){return new Tg(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,a){return this.Ai.addReference(a,t),this.mi.delete(a.toString()),ie.resolve()}removeReference(e,t,a){return this.Ai.removeReference(a,t),this.mi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,a=>{const o=ye.fromPath(a);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(a=>{a?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ie.or([()=>ie.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.gi=new _s(a=>h2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Ak(this,t)}static Vi(e,t){return new eh(e,t)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}yr(e){let t=0;return this.gr(e,a=>{t++}).next(()=>t)}gr(e,t){return ie.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?ie.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,t).next(m=>{m||(a++,u.removeEntry(d,Se.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,a){return this.gi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Od(e.data.value)),t}Sr(e,t,a){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ie.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Is=a,this.ds=o}static Es(e,t){let a=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return pR()?8:c2(sn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.ps(e,t).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.ys(e,t,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new Vk;return this.ws(e,t,d).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,d,m.size)})}).next(()=>u.result)}Ss(e,t,a,o){return a.documentReadCount<this.Vs?(mo()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(mo()<=Pe.DEBUG&&fe("QueryEngine","Query:",po(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(mo()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):ie.resolve())}ps(e,t){if(xb(t))return ie.resolve(null);let a=Cr(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Np(t,null,"F"),a=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=Me(...u);return this.gs.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,d,p.readTime)?this.ps(e,Np(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,a,o){return xb(t)||o.isEqual(Se.min())?ie.resolve(null):this.gs.getDocuments(e,a).next(u=>{const d=this.bs(t,u);return this.Ds(t,d,a,o)?ie.resolve(null):(mo()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.vs(e,d,t,a2(o,vu)).next(m=>m))})}bs(e,t){let a=new Mt(sw(e));return t.forEach((o,u)=>{wh(e,u)&&(a=a.add(u))}),a}Ds(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,a){return mo()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",po(t)),this.gs.getDocumentsMatchingQuery(e,t,da.min(),a)}vs(e,t,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",Lk=3e8;class Uk{constructor(e,t,a,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new dt(Ce),this.Ms=new _s(u=>fg(u),mg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function zk(r,e,t,a){return new Uk(r,e,t,a)}async function Cw(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],m=[];let p=Me();for(const g of o){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next(g=>({Bs:g,removedBatchIds:d,addedBatchIds:m}))})})}function Bk(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const A=g.batch,T=A.keys();let D=ie.resolve();return T.forEach(k=>{D=D.next(()=>v.getEntry(p,k)).next(B=>{const L=g.docVersions.get(k);He(L!==null,48541),B.version.compareTo(L)<0&&(A.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,a,e,u).next(()=>u.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function Iw(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function qk(r,e){const t=xe(r),a=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((v,A)=>{const T=o.get(A);if(!T)return;m.push(t.hi.removeMatchingKeys(u,v.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,v.addedDocuments,A)));let D=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,a)),o=o.insert(A,D),function(B,L,$){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Lk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,D,v)&&m.push(t.hi.updateTargetData(u,D))});let p=gi(),g=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(Fk(u,d,e.documentUpdates).next(v=>{p=v.Ls,g=v.ks})),!a.isEqual(Se.min())){const v=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return ie.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function Fk(r,e,t){let a=Me(),o=Me();return t.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let d=gi();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):fe(Ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:d,ks:o}})}function Hk(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Gk(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.hi.getTargetData(a,e).next(u=>u?(o=u,ie.resolve(o)):t.hi.allocateTargetId(a).next(d=>(o=new ra(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(a.targetId,a),t.Ms.set(e,a.targetId)),a})}async function Op(r,e,t){const a=xe(r),o=a.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!jo(d))throw d;fe(Ag,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function Ub(r,e,t){const a=xe(r);let o=Se.min(),u=Me();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,v){const A=xe(p),T=A.Ms.get(v);return T!==void 0?ie.resolve(A.Fs.get(T)):A.hi.getTargetData(g,v)}(a,d,Cr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{u=p})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,t?o:Se.min(),t?u:Me())).next(m=>($k(a,k2(e),m),{documents:m,qs:u})))}function $k(r,e,t){let a=r.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.xs.set(e,a)}class zb{constructor(){this.activeTargetIds=j2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kk{constructor(){this.Fo=new zb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,a){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zb,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class qb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function Pp(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",Qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===Qd?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,t,a,o,u){const d=Pp(),m=this.Go(e,t.toUriEncodedString());fe(tp,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=vi(g);return this.jo(e,m,p,a,v).then(A=>(fe(tp,`Received RPC '${e}' ${d}: `,A),A),A=>{throw ca(tp,`RPC '${e}' ${d} failed with error: `,A,"url: ",m,"request:",a),A})}Jo(e,t,a,o,u,d){return this.Wo(e,t,a,o,u)}zo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const a=Qk[e];return`${this.$o}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class Jk extends Xk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,a,o,u){const d=Pp();return new Promise((m,p)=>{const g=new DT;g.setWithCredentials(!0),g.listenOnce(OT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Dd.NO_ERROR:const A=g.getResponseJson();fe(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),m(A);break;case Dd.TIMEOUT:fe(nn,`RPC '${e}' ${d} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const T=g.getStatus();if(fe(nn,`RPC '${e}' ${d} failed with status:`,T,"response text:",g.getResponseText()),T>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D==null?void 0:D.error;if(k&&k.status&&k.message){const B=function($){const Q=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN}(k.status);p(new he(B,k.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:d,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{fe(nn,`RPC '${e}' ${d} completed.`)}});const v=JSON.stringify(o);fe(nn,`RPC '${e}' ${d} sending request:`,o),g.send(t,"POST",v,a,15)})}P_(e,t,a){const o=Pp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=VT(),m=MT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const v=u.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const A=d.createWebChannel(v,p);this.T_(A);let T=!1,D=!1;const k=new Wk({Ho:L=>{D?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),T=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Yo:()=>A.close()}),B=(L,$,Q)=>{L.listen($,ne=>{try{Q(ne)}catch(se){setTimeout(()=>{throw se},0)}})};return B(A,iu.EventType.OPEN,()=>{D||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),k.s_())}),B(A,iu.EventType.CLOSE,()=>{D||(D=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),k.__(),this.I_(A))}),B(A,iu.EventType.ERROR,L=>{D||(D=!0,ca(nn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),k.__(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),B(A,iu.EventType.MESSAGE,L=>{var $;if(!D){const Q=L.data[0];He(!!Q,16349);const ne=Q,se=(ne==null?void 0:ne.error)||(($=ne[0])===null||$===void 0?void 0:$.error);if(se){fe(nn,`RPC '${e}' stream ${o} received error:`,se);const oe=se.status;let te=function(R){const P=xt[R];if(P!==void 0)return yw(P)}(oe),C=se.message;te===void 0&&(te=ee.INTERNAL,C="Unknown error status: "+oe+" with message "+se.message),D=!0,k.__(new he(te,C)),A.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,Q),k.a_(Q)}}),B(m,PT.STAT_EVENT,L=>{L.stat===Ep.PROXY?fe(nn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ep.NOPROXY&&fe(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r){return new nk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="PersistentStream";class Dw{constructor(e,t,a,o,u,d,m,p){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new kw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===t&&this.W_(a,o)},a=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,t){const a=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(Fb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(Fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zk extends Dw{constructor(e,t,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,d),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=ak(this.serializer,e),a=function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ir(d.readTime):Se.min()}(e);return this.listener.J_(t,a)}H_(e){const t={};t.database=Dp(this.serializer),t.addTarget=function(u,d){let m;const p=d.target;if(m=xp(p)?{documents:lk(u,p)}:{query:uk(u,p).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=bw(u,d.resumeToken);const g=Cp(u,d.expectedCount);g!==null&&(m.expectedCount=g)}else if(d.snapshotVersion.compareTo(Se.min())>0){m.readTime=Zd(u,d.snapshotVersion.toTimestamp());const g=Cp(u,d.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=dk(this.serializer,e);a&&(t.labels=a),this.k_(t)}Y_(e){const t={};t.database=Dp(this.serializer),t.removeTarget=e,this.k_(t)}}class eD extends Dw{constructor(e,t,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,d),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=ok(e.writeResults,e.commitTime),a=Ir(e.commitTime);return this.listener.ta(a,t)}na(){const e={};e.database=Dp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>sk(this.serializer,a))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class nD extends tD{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,Ip(t,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Jo(e,t,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Jo(e,Ip(t,a),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ee.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class rD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(mi(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class iD{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{vs(this)&&(fe(fs,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.Ia.add(4),await Lu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Nh(g)}(this))})}),this.Aa=new rD(a,o)}}async function Nh(r){if(vs(r))for(const e of r.da)await e(!0)}async function Lu(r){for(const e of r.da)await e(!1)}function Ow(r,e){const t=xe(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Ng(t)?Rg(t):Uo(t).x_()&&xg(t,e))}function Sg(r,e){const t=xe(r),a=Uo(t);t.Ta.delete(e),a.x_()&&Pw(t,e),t.Ta.size===0&&(a.x_()?a.B_():vs(t)&&t.Aa.set("Unknown"))}function xg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(r).H_(e)}function Pw(r,e){r.Ra.$e(e),Uo(r).Y_(e)}function Rg(r){r.Ra=new J2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Aa.aa()}function Ng(r){return vs(r)&&!Uo(r).M_()&&r.Ta.size>0}function vs(r){return xe(r).Ia.size===0}function Mw(r){r.Ra=void 0}async function aD(r){r.Aa.set("Online")}async function sD(r){r.Ta.forEach((e,t)=>{xg(r,e)})}async function oD(r,e){Mw(r),Ng(r)?(r.Aa.la(e),Rg(r)):r.Aa.set("Unknown")}async function lD(r,e,t){if(r.Aa.set("Online"),e instanceof vw&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(a){fe(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await th(r,a)}else if(e instanceof Vd?r.Ra.Ye(e):e instanceof _w?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const a=await Iw(r.localStore);t.compareTo(a)>=0&&await function(u,d){const m=u.Ra.Pt(d);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),Pw(u,p);const A=new ra(v.target,p,g,v.sequenceNumber);xg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(a){fe(fs,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,e,t){if(!jo(e))throw e;r.Ia.add(1),await Lu(r),r.Aa.set("Offline"),t||(t=()=>Iw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(fs,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Nh(r)})}function Vw(r,e){return e().catch(t=>th(r,t,e))}async function Ch(r){const e=xe(r),t=pa(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cg;for(;uD(e);)try{const o=await Hk(e.localStore,a);if(o===null){e.Pa.length===0&&t.B_();break}a=o.batchId,cD(e,o)}catch(o){await th(e,o)}jw(e)&&Lw(e)}function uD(r){return vs(r)&&r.Pa.length<10}function cD(r,e){r.Pa.push(e);const t=pa(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function jw(r){return vs(r)&&!pa(r).M_()&&r.Pa.length>0}function Lw(r){pa(r).start()}async function dD(r){pa(r).na()}async function hD(r){const e=pa(r);for(const t of r.Pa)e.X_(t.mutations)}async function fD(r,e,t){const a=r.Pa.shift(),o=_g.from(a,e,t);await Vw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ch(r)}async function mD(r,e){e&&pa(r).Z_&&await async function(a,o){if(function(d){return X2(d)&&d!==ee.ABORTED}(o.code)){const u=a.Pa.shift();pa(a).N_(),await Vw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ch(a)}}(r,e),jw(r)&&Lw(r)}async function Hb(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),fe(fs,"RemoteStore received new credentials");const a=vs(t);t.Ia.add(3),await Lu(t),a&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Nh(t)}async function pD(r,e){const t=xe(r);e?(t.Ia.delete(2),await Nh(t)):e||(t.Ia.add(2),await Lu(t),t.Aa.set("Unknown"))}function Uo(r){return r.Va||(r.Va=function(t,a,o){const u=xe(t);return u.ia(),new Zk(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:aD.bind(null,r),e_:sD.bind(null,r),n_:oD.bind(null,r),J_:lD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Ng(r)?Rg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Mw(r))})),r.Va}function pa(r){return r.ma||(r.ma=function(t,a,o){const u=xe(t);return u.ia(),new eD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:dD.bind(null,r),n_:mD.bind(null,r),ea:hD.bind(null,r),ta:fD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Ch(r)):(await r.ma.stop(),r.Pa.length>0&&(fe(fs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const d=Date.now()+a,m=new Cg(e,t,d,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(mi("AsyncQueue",`${e}: ${r}`),jo(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||ye.comparator(t.key,a.key):(t,a)=>ye.comparator(t.key,a.key),this.keyedMap=au(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new To;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.fa=new dt(ye.comparator)}track(e){const t=e.doc.key,a=this.fa.get(t);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(t,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(t):e.type===1&&a.type===2?this.fa=this.fa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:a}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,a)=>{e.push(a)}),e}}class Co{constructor(e,t,a,o,u,d,m,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Co(e,t,To.emptySet(t),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class yD{constructor(){this.queries=$b(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,a){const o=xe(t),u=o.queries;o.queries=$b(),u.forEach((d,m)=>{for(const p of m.wa)p.onError(a)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function $b(){return new _s(r=>aw(r),Th)}async function Uw(r,e){const t=xe(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new gD,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=Ig(d,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&kg(t)}async function zw(r,e){const t=xe(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const d=u.wa.indexOf(e);d>=0&&(u.wa.splice(d,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function _D(r,e){const t=xe(r);let a=!1;for(const o of e){const u=o.query,d=t.queries.get(u);if(d){for(const m of d.wa)m.Ca(o)&&(a=!0);d.ya=o}}a&&kg(t)}function vD(r,e,t){const a=xe(r),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(t);a.queries.delete(e)}function kg(r){r.Da.forEach(e=>{e.next()})}var Mp,Kb;(Kb=Mp||(Mp={})).Fa="default",Kb.Cache="cache";class Bw{constructor(e,t,a){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const a=t!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.key=e}}class Fw{constructor(e){this.key=e}}class bD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=sw(e),this.eu=new To(this.Xa)}get tu(){return this.Ha}nu(e,t){const a=t?t.ru:new Gb,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,A)=>{const T=o.get(v),D=wh(this.query,A)?A:null,k=!!T&&this.mutatedKeys.has(T.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;T&&D?T.data.isEqual(D.data)?k!==B&&(a.track({type:3,doc:D}),L=!0):this.iu(T,D)||(a.track({type:2,doc:D}),L=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!T&&D?(a.track({type:0,doc:D}),L=!0):T&&!D&&(a.track({type:1,doc:T}),L=!0,(p||g)&&(m=!0)),L&&(D?(d=d.add(D),u=B?u.add(v):u.delete(v)):(d=d.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{eu:d,ru:a,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((v,A)=>function(D,k){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:L})}};return B(D)-B(k)}(v.type,A.type)||this.Xa(v.doc,A.doc)),this.su(a),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,d.length!==0||g?{snapshot:new Co(this.query,e.eu,u,d,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const t=[];return e.forEach(a=>{this.Za.has(a)||t.push(new Fw(a))}),this.Za.forEach(a=>{e.has(a)||t.push(new qw(a))}),t}uu(e){this.Ha=e.qs,this.Za=Me();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Co.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dg="SyncEngine";class ED{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class TD{constructor(e){this.key=e,this.lu=!1}}class wD{constructor(e,t,a,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new _s(m=>aw(m),Th),this.Tu=new Map,this.Iu=new Set,this.du=new dt(ye.comparator),this.Eu=new Map,this.Au=new Eg,this.Ru={},this.Vu=new Map,this.mu=No.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function AD(r,e,t=!0){const a=Qw(r);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Hw(a,e,t,!0),o}async function SD(r,e){const t=Qw(r);await Hw(t,e,!0,!1)}async function Hw(r,e,t,a){const o=await Gk(r.localStore,Cr(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,t);let m;return a&&(m=await xD(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&t&&Ow(r.remoteStore,o),m}async function xD(r,e,t,a,o){r.gu=(A,T,D)=>async function(B,L,$,Q){let ne=L.view.nu($);ne.Ds&&(ne=await Ub(B.localStore,L.query,!1).then(({documents:C})=>L.view.nu(C,ne)));const se=Q&&Q.targetChanges.get(L.targetId),oe=Q&&Q.targetMismatches.get(L.targetId)!=null,te=L.view.applyChanges(ne,B.isPrimaryClient,se,oe);return Qb(B,L.targetId,te._u),te.snapshot}(r,A,T,D);const u=await Ub(r.localStore,e,!0),d=new bD(e,u.qs),m=d.nu(u.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=d.applyChanges(m,r.isPrimaryClient,p);Qb(r,t,g._u);const v=new ED(e,t,d);return r.Pu.set(e,v),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function RD(r,e,t){const a=xe(r),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(d=>!Th(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Sg(a.remoteStore,o.targetId),Vp(a,o.targetId)}).catch(Vo)):(Vp(a,o.targetId),await Op(a.localStore,o.targetId,!0))}async function ND(r,e){const t=xe(r),a=t.Pu.get(e),o=t.Tu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Sg(t.remoteStore,a.targetId))}async function CD(r,e,t){const a=VD(r);try{const o=await function(d,m){const p=xe(d),g=et.now(),v=m.reduce((D,k)=>D.add(k.key),Me());let A,T;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=gi(),B=Me();return p.Os.getEntries(D,v).next(L=>{k=L,k.forEach(($,Q)=>{Q.isValidDocument()||(B=B.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,k)).next(L=>{A=L;const $=[];for(const Q of m){const ne=G2(Q,A.get(Q.key).overlayedDocument);ne!=null&&$.push(new ba(Q.key,ne,WT(ne.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,$,m)}).next(L=>{T=L;const $=L.applyToLocalDocumentSet(A,B);return p.documentOverlayCache.saveOverlays(D,L.batchId,$)})}).then(()=>({batchId:T.batchId,changes:lw(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let g=d.Ru[d.currentUser.toKey()];g||(g=new dt(Ce)),g=g.insert(m,p),d.Ru[d.currentUser.toKey()]=g}(a,o.batchId,t),await Uu(a,o.changes),await Ch(a.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");t.reject(u)}}async function Gw(r,e){const t=xe(r);try{const a=await qk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.Eu.get(u);d&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?He(d.lu,14607):o.removedDocuments.size>0&&(He(d.lu,42227),d.lu=!1))}),await Uu(t,a,e)}catch(a){await Vo(a)}}function Yb(r,e,t){const a=xe(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Pu.forEach((u,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=xe(d);p.onlineState=m;let g=!1;p.queries.forEach((v,A)=>{for(const T of A.wa)T.va(m)&&(g=!0)}),g&&kg(p)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ID(r,e,t){const a=xe(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Eu.get(e),u=o&&o.key;if(u){let d=new dt(ye.comparator);d=d.insert(u,an.newNoDocument(u,Se.min()));const m=Me().add(u),p=new xh(Se.min(),new Map,new dt(Ce),d,m);await Gw(a,p),a.du=a.du.remove(u),a.Eu.delete(e),Og(a)}else await Op(a.localStore,e,!1).then(()=>Vp(a,e,t)).catch(Vo)}async function kD(r,e){const t=xe(r),a=e.batch.batchId;try{const o=await Bk(t.localStore,e);Kw(t,a,null),$w(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Uu(t,o)}catch(o){await Vo(o)}}async function DD(r,e,t){const a=xe(r);try{const o=await function(d,m){const p=xe(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(He(A!==null,37113),v=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);Kw(a,e,t),$w(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Uu(a,o)}catch(o){await Vo(o)}}function $w(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function Kw(r,e,t){const a=xe(r);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Vp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),t&&r.hu.pu(a,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||Yw(r,a)})}function Yw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Sg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Og(r))}function Qb(r,e,t){for(const a of t)a instanceof qw?(r.Au.addReference(a.key,e),OD(r,a)):a instanceof Fw?(fe(Dg,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||Yw(r,a.key)):Te(19791,{yu:a})}function OD(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Iu.has(a)||(fe(Dg,"New document in limbo: "+t),r.Iu.add(a),Og(r))}function Og(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ye(rt.fromString(e)),a=r.mu.next();r.Eu.set(a,new TD(t)),r.du=r.du.insert(t,a),Ow(r.remoteStore,new ra(Cr(pg(t.path)),a,"TargetPurposeLimboResolution",vh.ue))}}async function Uu(r,e,t){const a=xe(r),o=[],u=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((m,p)=>{d.push(a.gu(p,e,t).then(g=>{var v;if((g||t)&&a.isPrimaryClient){const A=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=wg.Es(p.targetId,g);u.push(A)}}))}),await Promise.all(d),a.hu.J_(o),await async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ie.forEach(g,T=>ie.forEach(T.Is,D=>v.persistence.referenceDelegate.addReference(A,T.targetId,D)).next(()=>ie.forEach(T.ds,D=>v.persistence.referenceDelegate.removeReference(A,T.targetId,D)))))}catch(A){if(!jo(A))throw A;fe(Ag,"Failed to update sequence numbers: "+A)}for(const A of g){const T=A.targetId;if(!A.fromCache){const D=v.Fs.get(T),k=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(k);v.Fs=v.Fs.insert(T,B)}}}(a.localStore,u))}async function PD(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){fe(Dg,"User change. New user:",e.toKey());const a=await Cw(t.localStore,e);t.currentUser=e,function(u,d){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new he(ee.CANCELLED,d))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Uu(t,a.Bs)}}function MD(r,e){const t=xe(r),a=t.Eu.get(e);if(a&&a.lu)return Me().add(a.key);{let o=Me();const u=t.Tu.get(e);if(!u)return o;for(const d of u){const m=t.Pu.get(d);o=o.unionWith(m.view.tu)}return o}}function Qw(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ID.bind(null,e),e.hu.J_=_D.bind(null,e.eventManager),e.hu.pu=vD.bind(null,e.eventManager),e}function VD(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return zk(this.persistence,new jk,e.initialUser,this.serializer)}Du(e){return new Nw(Tg.Vi,this.serializer)}bu(e){return new Kk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class jD extends nh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){He(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Tk(a,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Nw(a=>eh.Vi(a,t),this.serializer)}}class jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await pD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yD}()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),a=function(u){return new Jk(u)}(e.databaseInfo);return function(u,d,m,p){return new nD(u,d,m,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,u,d,m){return new iD(a,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Yb(this.syncEngine,t,0),function(){return qb.C()?new qb:new Yk}())}createSyncEngine(e,t){return function(o,u,d,m,p,g,v){const A=new wD(o,u,d,m,p,g);return v&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=xe(o);fe(fs,"RemoteStore shutting down."),u.Ia.add(5),await Lu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class LD{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{fe(ga,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(fe(ga,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Ig(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function rp(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ga,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Cw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ca("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Xb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await UD(r);fe(ga,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>Hb(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Hb(e.remoteStore,o)),r._onlineComponents=e}async function UD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ga,"Using user provided OfflineComponentProvider");try{await rp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await rp(r,new nh)}}else fe(ga,"Using default OfflineComponentProvider"),await rp(r,new jD(void 0));return r._offlineComponents}async function Ww(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ga,"Using user provided OnlineComponentProvider"),await Xb(r,r._uninitializedComponentsProvider._online)):(fe(ga,"Using default OnlineComponentProvider"),await Xb(r,new jp))),r._onlineComponents}function zD(r){return Ww(r).then(e=>e.syncEngine)}async function Jw(r){const e=await Ww(r),t=e.eventManager;return t.onListen=AD.bind(null,e.syncEngine),t.onUnlisten=RD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ND.bind(null,e.syncEngine),t}function BD(r,e,t={}){const a=new ui;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,m,p,g){const v=new Xw({next:T=>{v.Ou(),d.enqueueAndForget(()=>zw(u,A));const D=T.docs.has(m);!D&&T.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new Bw(pg(m.path),v,{includeMetadataChanges:!0,ka:!0});return Uw(u,A)}(await Jw(r),r.asyncQueue,e,t,a)),a.promise}function qD(r,e,t={}){const a=new ui;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,m,p,g){const v=new Xw({next:T=>{v.Ou(),d.enqueueAndForget(()=>zw(u,A)),T.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new Bw(m,v,{includeMetadataChanges:!0,ka:!0});return Uw(u,A)}(await Jw(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",Jb=!0;class Zb{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=Jb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bk)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zw((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new QI;switch(a.type){case"firstParty":return new ZI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Wb.get(t);a&&(fe("ComponentProvider","Removing Datastore"),Wb.delete(t),a.terminate())}(this),Promise.resolve()}}function FD(r,e,t,a={}){var o;r=pi(r,Ih);const u=vi(e),d=r._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(dh(`https://${p}`),hh("Firestore",!0)),d.host!==eA&&d.host!==p&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:p,ssl:u,emulatorOptions:a});if(!cs(g,m)&&(r._setSettings(g),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=rn.MOCK_USER;else{v=$E(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(T)}r._authCredentials=new XI(new LT(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Ct{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Mu(t,Ct._jsonSchema))return new Ct(e,a||null,new ye(rt.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Nt("string",Ct._jsonSchemaVersion),referencePath:Nt("string")};class la extends bs{constructor(e,t,a){super(e,t,pg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ye(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function as(r,e,...t){if(r=at(r),zT("collection","path",e),r instanceof Ih){const a=rt.fromString(e,...t);return hb(a),new la(r,null,a)}{if(!(r instanceof Ct||r instanceof la))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(rt.fromString(e,...t));return hb(a),new la(r.firestore,null,a)}}function Wi(r,e,...t){if(r=at(r),arguments.length===1&&(e=ug.newId()),zT("doc","path",e),r instanceof Ih){const a=rt.fromString(e,...t);return db(a),new Ct(r,null,new ye(a))}{if(!(r instanceof Ct||r instanceof la))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(rt.fromString(e,...t));return db(a),new Ct(r.firestore,r instanceof la?r.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new kw(this,"async_queue_retry"),this.oc=()=>{const a=np();a&&fe(eE,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ui;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!jo(e))throw e;fe(eE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,mi("INTERNAL UNHANDLED ERROR: ",nE(a)),a}).then(a=>(this.nc=!1,a))));return this._c=t,t}enqueueAfterDelay(e,t,a){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:nE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function nE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class zo extends Ih{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new tE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function HD(r,e){const t=typeof r=="object"?r:fh(),a=typeof r=="string"?r:Qd,o=ku(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Xp("firestore");u&&FD(o,...u)}return o}function Pg(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GD(r),r._firestoreClient}function GD(r){var e,t,a;const o=r._freezeSettings(),u=function(m,p,g,v){return new p2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Zw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Jt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Nt("string",$n._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Nt("string",kr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Dr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Nt("string",Dr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^__.*__$/;class KD{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class tA{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class Mg{constructor(e,t,a,o,u,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(nA(this.Ec)&&$D.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class YD{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Rh(e)}Dc(e,t,a,o=!1){return new Mg({Ec:e,methodName:t,bc:a,path:Wt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(r){const e=r._freezeSettings(),t=Rh(r._databaseId);return new YD(r._databaseId,!!e.ignoreUndefinedProperties,t)}function QD(r,e,t,a,o,u={}){const d=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",d,a);const m=rA(a,d);let p,g;if(u.merge)p=new kn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const T=Lp(e,A,t);if(!d.contains(T))throw new he(ee.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);aA(v,T)||v.push(T)}p=new kn(v),g=d.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=d.fieldTransforms;return new KD(new vn(m),p,g)}class Oh extends Dh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}class jg extends Dh{_toFieldTransform(e){return new B2(e.path,new Au)}isEqual(e){return e instanceof jg}}function XD(r,e,t,a){const o=r.Dc(1,e,t);Lg("Data must be an object, but it was:",o,a);const u=[],d=vn.empty();va(a,(p,g)=>{const v=Ug(e,p,t);g=at(g);const A=o.gc(v);if(g instanceof Oh)u.push(v);else{const T=zu(g,A);T!=null&&(u.push(v),d.set(v,T))}});const m=new kn(u);return new tA(d,m,o.fieldTransforms)}function WD(r,e,t,a,o,u){const d=r.Dc(1,e,t),m=[Lp(e,a,t)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(Lp(e,u[T])),p.push(u[T+1]);const g=[],v=vn.empty();for(let T=m.length-1;T>=0;--T)if(!aA(g,m[T])){const D=m[T];let k=p[T];k=at(k);const B=d.gc(D);if(k instanceof Oh)g.push(D);else{const L=zu(k,B);L!=null&&(g.push(D),v.set(D,L))}}const A=new kn(g);return new tA(v,A,d.fieldTransforms)}function JD(r,e,t,a=!1){return zu(t,r.Dc(a?4:3,e))}function zu(r,e){if(iA(r=at(r)))return Lg("Unsupported field value:",e,r),rA(r,e);if(r instanceof Dh)return function(a,o){if(!nA(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const m of a){let p=zu(m,o.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=at(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return L2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=et.fromDate(a);return{timestampValue:Zd(o.serializer,u)}}if(a instanceof et){const u=new et(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zd(o.serializer,u)}}if(a instanceof kr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:bw(o.serializer,a._byteString)};if(a instanceof Ct){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Dr)return function(d,m){return{mapValue:{fields:{[QT]:{stringValue:XT},[Xd]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return gg(m.serializer,g)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${_h(a)}`)}(r,e)}function rA(r,e){const t={};return FT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(r,(a,o)=>{const u=zu(o,e.Vc(a));u!=null&&(t[a]=u)}),{mapValue:{fields:t}}}function iA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof kr||r instanceof $n||r instanceof Ct||r instanceof Dh||r instanceof Dr)}function Lg(r,e,t){if(!iA(t)||!BT(t)){const a=_h(t);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function Lp(r,e,t){if((e=at(e))instanceof kh)return e._internalPath;if(typeof e=="string")return Ug(r,e);throw rh("Field path arguments must be of type string or ",r,!1,void 0,t)}const ZD=new RegExp("[~\\*/\\[\\]]");function Ug(r,e,t){if(e.search(ZD)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new kh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function rh(r,e,t,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+r+p)}function aA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ph("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eO extends sA{data(){return super.data()}}function Ph(r,e){return typeof e=="string"?Ug(r,e):e instanceof kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class oA extends zg{}function Zl(r,e,...t){let a=[];e instanceof zg&&a.push(e),a=a.concat(t),function(u){const d=u.filter(p=>p instanceof Bg).length,m=u.filter(p=>p instanceof Mh).length;if(d>1||d>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Mh extends oA{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Mh(e,t,a)}_apply(e){const t=this._parse(e);return lA(e._query,t),new bs(e.firestore,e.converter,Rp(e._query,t))}_parse(e){const t=Vg(e.firestore);return function(u,d,m,p,g,v,A){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){aE(A,v);const k=[];for(const B of A)k.push(iE(p,u,B));T={arrayValue:{values:k}}}else T=iE(p,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||aE(A,v),T=JD(m,d,A,v==="in"||v==="not-in");return Rt.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vd(r,e,t){const a=e,o=Ph("where",r);return Mh._create(o,a,t)}class Bg extends zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const p of m)lA(d,p),d=Rp(d,p)}(e._query,t),new bs(e.firestore,e.converter,Rp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends oA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qg(e,t)}_apply(e){const t=function(o,u,d){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,d)}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function rE(r,e="asc"){const t=e,a=Ph("orderBy",r);return qg._create(a,t)}function iE(r,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return bb(r,new ye(a))}if(t instanceof Ct)return bb(r,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(t)}.`)}function aE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lA(r,e){const t=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nO{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return va(e,(o,u)=>{a[o]=this.convertValue(u,t)}),a}convertVectorValue(e){var t,a,o;const u=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Xd].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>bt(d.doubleValue));return new Dr(u)}convertGeoPoint(e){return new kr(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Eh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=ha(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=rt.fromString(e);He(xw(a),9688,{name:e});const o=new Eu(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(t)||mi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(r,e,t){let a;return a=r?r.toFirestore(e):e,a}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ls extends sA{constructor(e,t,a,o,u,d){super(e,t,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Ph("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ls._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:Nt("string",ls._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class jd extends ls{data(e={}){return super.data(e)}}class wo{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new jd(this._firestore,this._userDataWriter,a.key,a,new ou(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new jd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new jd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),v=d.indexOf(m.doc.key)),{type:iO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){r=pi(r,Ct);const e=pi(r.firestore,zo);return BD(Pg(e),r._key).then(t=>aO(e,r,t))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Nt("string",wo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class uA extends nO{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function eu(r){r=pi(r,bs);const e=pi(r.firestore,zo),t=Pg(e),a=new uA(e);return tO(r._query),qD(t,r._query).then(o=>new wo(e,a,r,o))}function ip(r,e,t,...a){r=pi(r,Ct);const o=pi(r.firestore,zo),u=Vg(o);let d;return d=typeof(e=at(e))=="string"||e instanceof kh?WD(u,"updateDoc",r._key,e,t,a):XD(u,"updateDoc",r._key,e),Fg(o,[d.toMutation(r._key,nr.exists(!0))])}function sE(r){return Fg(pi(r.firestore,zo),[new yg(r._key,nr.none())])}function oE(r,e){const t=pi(r.firestore,zo),a=Wi(r),o=rO(r.converter,e);return Fg(t,[QD(Vg(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,nr.exists(!1))]).then(()=>a)}function Fg(r,e){return function(a,o){const u=new ui;return a.asyncQueue.enqueueAndForget(async()=>CD(await zD(a),o,u)),u.promise}(Pg(r),e)}function aO(r,e,t){const a=t.docs.get(e._key),o=new uA(r);return new ls(r,o,e._key,a,new ou(t.hasPendingWrites,t.fromCache),e.converter)}function ap(){return new jg("serverTimestamp")}(function(e,t=!0){(function(o){Mo=o})(gs),ua(new di("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),m=new zo(new WI(a.getProvider("auth-internal")),new e2(d,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,v)}(d,o),d);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kn(sb,ob,e),Kn(sb,ob,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebasestorage.googleapis.com",dA="storageBucket",sO=2*60*1e3,oO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends or{constructor(e,t,a=0){super(sp(e),`Firebase Storage: ${t} (${sp(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function sp(r){return"storage/"+r}function Hg(){const r="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,r)}function lO(r){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function uO(r){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,r)}function dO(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hO(r){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function fO(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mO(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function pO(r){return new gt(pt.INVALID_URL,"Invalid URL '"+r+"'.")}function gO(r){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function yO(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dA+"' property when initializing the app?")}function _O(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vO(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bO(r){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Up(r){return new gt(pt.INVALID_ARGUMENT,r)}function hA(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function EO(r){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(r,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function tu(r){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=Dn.makeFromUrl(e,t)}catch{return new Dn(e,"")}if(a.path==="")return a;throw gO(e)}static makeFromUrl(e,t){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${v}/b/${o}/o${T}`,"i"),k={bucket:1,path:3},B=t===cA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",$=new RegExp(`^https?://${B}/${o}/${L}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:D,indices:k,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<ne.length;se++){const oe=ne[se],te=oe.regex.exec(e);if(te){const C=te[oe.indices.bucket];let x=te[oe.indices.path];x||(x=""),a=new Dn(C,x),oe.postModify(a);break}}if(a==null)throw pO(e);return a}}class TO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(r,e,t){let a=1,o=null,u=null,d=!1,m=0;function p(){return m===2}let g=!1;function v(...L){g||(g=!0,e.apply(null,L))}function A(L){o=setTimeout(()=>{o=null,r(D,p())},L)}function T(){u&&clearTimeout(u)}function D(L,...$){if(g){T();return}if(L){T(),v.call(null,L,...$);return}if(p()||d){T(),v.call(null,L,...$);return}a<64&&(a*=2);let ne;m===1?(m=2,ne=0):ne=(a+Math.random())*1e3,A(ne)}let k=!1;function B(L){k||(k=!0,T(),!g&&(o!==null?(L||(m=2),clearTimeout(o),A(0)):L||(m=1)))}return A(0),u=setTimeout(()=>{d=!0,B(!0)},t),B}function AO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){return r!==void 0}function xO(r){return typeof r=="object"&&!Array.isArray(r)}function Gg(r){return typeof r=="string"||r instanceof String}function lE(r){return $g()&&r instanceof Blob}function $g(){return typeof Blob<"u"}function uE(r,e,t,a){if(a<e)throw Up(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>t)throw Up(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(r,e,t){let a=e;return t==null&&(a=`https://${e}`),`${t}://${a}/v0${r}`}function fA(r){const e=encodeURIComponent;let t="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);t=t+o+"&"}return t=t.slice(0,-1),t}var us;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(us||(us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,a,o,u,d,m,p,g,v,A,T=!0,D=!1){this.url_=e,this.method_=t,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=A,this.retry=T,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,B)=>{this.resolve_=k,this.reject_=B,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Ed(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===us.NO_ERROR,p=u.getStatus();if(!m||RO(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===us.ABORT;a(!1,new Ed(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new Ed(g,u))})},t=(a,o)=>{const u=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());SO(p)?u(p):u()}catch(p){d(p)}else if(m!==null){const p=Hg();p.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,p)):d(p)}else if(o.canceled){const p=this.appDelete_?hA():mO();d(p)}else{const p=fO();d(p)}};this.canceled_?t(!1,new Ed(!1,null,!0)):this.backoffId_=wO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function CO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function DO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function OO(r,e,t,a,o,u,d=!0,m=!1){const p=fA(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return kO(v,e),CO(v,t),IO(v,u),DO(v,a),new NO(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MO(...r){const e=PO();if(e!==void 0){const t=new e;for(let a=0;a<r.length;a++)t.append(r[a]);return t.getBlob()}else{if($g())return new Blob(r);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VO(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(r){if(typeof atob>"u")throw bO("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,t){this.data=e,this.contentType=t||null}}function LO(r,e){switch(r){case xr.RAW:return new op(mA(e));case xr.BASE64:case xr.BASE64URL:return new op(pA(r,e));case xr.DATA_URL:return new op(zO(e),BO(e))}throw Hg()}function mA(r){const e=[];for(let t=0;t<r.length;t++){let a=r.charCodeAt(t);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=a,d=r.charCodeAt(++t);a=65536|(u&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function UO(r){let e;try{e=decodeURIComponent(r)}catch{throw mu(xr.DATA_URL,"Malformed data URL.")}return mA(e)}function pA(r,e){switch(r){case xr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw mu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw mu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=jO(e)}catch(o){throw o.message.includes("polyfill")?o:mu(r,"Invalid character found")}const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}class gA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw mu(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=t[1]||null;a!=null&&(this.base64=qO(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function zO(r){const e=new gA(r);return e.base64?pA(xr.BASE64,e.rest):UO(e.rest)}function BO(r){return new gA(r).contentType}function qO(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){let a=0,o="";lE(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(lE(this.data_)){const a=this.data_,o=VO(a,e,t);return o===null?null:new na(o)}else{const a=new Uint8Array(this.data_.buffer,e,t-e);return new na(a,!0)}}static getBlob(...e){if($g()){const t=e.map(a=>a instanceof na?a.data_:a);return new na(MO.apply(null,t))}else{const t=e.map(d=>Gg(d)?LO(xr.RAW,d).data:d.data_);let a=0;t.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let u=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[u++]=d[m]}),new na(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){let e;try{e=JSON.parse(r)}catch{return null}return xO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function HO(r,e){const t=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?t:r+"/"+t}function _A(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(r,e){return e}class dn{constructor(e,t,a,o){this.server=e,this.local=t||e,this.writable=!!a,this.xform=o||GO}}let Td=null;function $O(r){return!Gg(r)||r.length<2?r:_A(r)}function vA(){if(Td)return Td;const r=[];r.push(new dn("bucket")),r.push(new dn("generation")),r.push(new dn("metageneration")),r.push(new dn("name","fullPath",!0));function e(u,d){return $O(d)}const t=new dn("name");t.xform=e,r.push(t);function a(u,d){return d!==void 0?Number(d):d}const o=new dn("size");return o.xform=a,r.push(o),r.push(new dn("timeCreated")),r.push(new dn("updated")),r.push(new dn("md5Hash",null,!0)),r.push(new dn("cacheControl",null,!0)),r.push(new dn("contentDisposition",null,!0)),r.push(new dn("contentEncoding",null,!0)),r.push(new dn("contentLanguage",null,!0)),r.push(new dn("contentType",null,!0)),r.push(new dn("metadata","customMetadata",!0)),Td=r,Td}function KO(r,e){function t(){const a=r.bucket,o=r.fullPath,u=new Dn(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function YO(r,e,t){const a={};a.type="file";const o=t.length;for(let u=0;u<o;u++){const d=t[u];a[d.local]=d.xform(a,e[d.server])}return KO(a,r),a}function bA(r,e,t){const a=yA(e);return a===null?null:YO(r,a,t)}function QO(r,e,t,a){const o=yA(e);if(o===null||!Gg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,A=r.fullPath,T="/b/"+d(v)+"/o/"+d(A),D=Kg(T,t,a),k=fA({alt:"media",token:g});return D+k})[0]}function XO(r,e){const t={},a=e.length;for(let o=0;o<a;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class EA{constructor(e,t,a,o){this.url=e,this.method=t,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){if(!r)throw Hg()}function WO(r,e){function t(a,o){const u=bA(r,o,e);return TA(u!==null),u}return t}function JO(r,e){function t(a,o){const u=bA(r,o,e);return TA(u!==null),QO(u,o,r.host,r._protocol)}return t}function wA(r){function e(t,a){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=dO():o=cO():t.getStatus()===402?o=uO(r.bucket):t.getStatus()===403?o=hO(r.path):o=a,o.status=t.getStatus(),o.serverResponse=a.serverResponse,o}return e}function ZO(r){const e=wA(r);function t(a,o){let u=e(a,o);return a.getStatus()===404&&(u=lO(r.path)),u.serverResponse=o.serverResponse,u}return t}function e4(r,e,t){const a=e.fullServerUrl(),o=Kg(a,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,m=new EA(o,u,JO(r,t),d);return m.errorHandler=ZO(e),m}function t4(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function n4(r,e,t){const a=Object.assign({},t);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=t4(null,e)),a}function r4(r,e,t,a,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let se=0;se<2;se++)ne=ne+Math.random().toString().slice(2);return ne}const p=m();d["Content-Type"]="multipart/related; boundary="+p;const g=n4(e,a,o),v=XO(g,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",D=na.getBlob(A,a,T);if(D===null)throw _O();const k={name:g.fullPath},B=Kg(u,r.host,r._protocol),L="POST",$=r.maxUploadRetryTime,Q=new EA(B,L,WO(r,t),$);return Q.urlParams=k,Q.headers=d,Q.body=D.uploadData(),Q.errorHandler=wA(e),Q}class i4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,a,o,u){if(this.sent_)throw tu("cannot .send() more than once");if(vi(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class a4 extends i4{initXhr(){this.xhr_.responseType="text"}}function AA(){return new a4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this._service=e,t instanceof Dn?this._location=t:this._location=Dn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ms(e,t)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _A(this._location.path)}get storage(){return this._service}get parent(){const e=FO(this._location.path);if(e===null)return null;const t=new Dn(this._location.bucket,e);return new ms(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw EO(e)}}function s4(r,e,t){r._throwIfRoot("uploadBytes");const a=r4(r.storage,r._location,vA(),new na(e,!0),t);return r.storage.makeRequestWithTokens(a,AA).then(o=>({metadata:o,ref:r}))}function o4(r){r._throwIfRoot("getDownloadURL");const e=e4(r.storage,r._location,vA());return r.storage.makeRequestWithTokens(e,AA).then(t=>{if(t===null)throw vO();return t})}function l4(r,e){const t=HO(r._location.path,e),a=new Dn(r._location.bucket,t);return new ms(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(r){return/^[A-Za-z]+:\/\//.test(r)}function c4(r,e){return new ms(r,e)}function SA(r,e){if(r instanceof Yg){const t=r;if(t._bucket==null)throw yO();const a=new ms(t,t._bucket);return e!=null?SA(a,e):a}else return e!==void 0?l4(r,e):r}function d4(r,e){if(e&&u4(e)){if(r instanceof Yg)return c4(r,e);throw Up("To use ref(service, url), the first argument must be a Storage instance.")}else return SA(r,e)}function cE(r,e){const t=e==null?void 0:e[dA];return t==null?null:Dn.makeFromBucketSpec(t,r)}function h4(r,e,t,a={}){r.host=`${e}:${t}`;const o=vi(e);o&&(dh(`https://${r.host}/b`),hh("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:$E(u,r.app.options.projectId))}class Yg{constructor(e,t,a,o,u,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=cA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sO,this._maxUploadRetryTime=oO,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=cE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=cE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ms(this,e)}_makeRequest(e,t,a,o,u=!0){if(this._deleted)return new TO(hA());{const d=OO(e,this._appId,a,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,o).getPromise()}}const dE="@firebase/storage",hE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="storage";function f4(r,e,t){return r=at(r),s4(r,e,t)}function m4(r){return r=at(r),o4(r)}function p4(r,e){return r=at(r),d4(r,e)}function g4(r=fh(),e){r=at(r);const a=ku(r,xA).getImmediate({identifier:e}),o=Xp("storage");return o&&y4(a,...o),a}function y4(r,e,t,a={}){h4(r,e,t,a)}function _4(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Yg(t,a,o,e,gs)}function v4(){ua(new di(xA,_4,"PUBLIC").setMultipleInstances(!0)),Kn(dE,hE,""),Kn(dE,hE,"esm2017")}v4();const b4={apiKey:"AIzaSyAOwUu8Tuho3CquNcTaMfaHDVWtsSjKTo4",authDomain:"credores-1ea6f.firebaseapp.com",projectId:"credores-1ea6f",storageBucket:"credores-1ea6f.firebasestorage.app",messagingSenderId:"996837564068",appId:"1:996837564068:web:965180de6c3aedb1959031"},Qg=QE(b4),lp=KI(Qg),gn=HD(Qg),E4=g4(Qg);let wd;const T4=new Uint8Array(16);function w4(){if(!wd&&(wd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wd(T4)}const Qt=[];for(let r=0;r<256;++r)Qt.push((r+256).toString(16).slice(1));function A4(r,e=0){return Qt[r[e+0]]+Qt[r[e+1]]+Qt[r[e+2]]+Qt[r[e+3]]+"-"+Qt[r[e+4]]+Qt[r[e+5]]+"-"+Qt[r[e+6]]+Qt[r[e+7]]+"-"+Qt[r[e+8]]+Qt[r[e+9]]+"-"+Qt[r[e+10]]+Qt[r[e+11]]+Qt[r[e+12]]+Qt[r[e+13]]+Qt[r[e+14]]+Qt[r[e+15]]}const S4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fE={randomUUID:S4};function mE(r,e,t){if(fE.randomUUID&&!r)return fE.randomUUID();r=r||{};const a=r.random||(r.rng||w4)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,A4(a)}var qe=(r=>(r.Pendente="pendente",r.EmAnalise="em_analise",r.Aprovado="aprovado",r.Reprovado="reprovado",r))(qe||{}),_n=(r=>(r.Admin="admin",r.User="user",r.Viewer="viewer",r))(_n||{}),Cn=(r=>(r.Active="active",r.Inactive="inactive",r))(Cn||{});const Ad=r=>{var t,a;const e=r.data();return{id:r.id,...e,createdAt:((t=e.createdAt)==null?void 0:t.toDate())||new Date,approvedAt:((a=e.approvedAt)==null?void 0:a.toDate())||null}},pE=(r,e=1,t=48)=>{const a=r.phone.replace(/\D/g,"").match(/^(\d{2})(\d+)$/),o=a?a[1]:"",u=a?a[2]:r.phone.replace(/\D/g,""),d=r.bankData.accountType==="corrente"?"C":"P",m={name:r.companyName,personType:r.personType,typesId:["FO"],registerNumber:r.cnpj.replace(/\D/g,""),stateRegistrationNumber:r.stateRegistration,stateRegistrationType:r.stateRegistrationType,paymentTypeId:1,phone:o&&u?{ddd:o,number:u,type:"1"}:void 0,agents:[{agentId:t}],contacts:[{name:r.tradeName||r.companyName,phoneDdd:o,phoneNumber:u,email:r.email}],address:{cityId:r.address.cityId||e,streetName:r.address.street,number:r.address.number,complement:r.address.complement,neighborhood:r.address.neighborhood,zipCode:r.address.zipCode.replace(/\D/g,"")},accountStatement:{bankCode:r.bankData.bankCode.padStart(3,"0"),bankBranchNumber:r.bankData.agency,bankBranchDigit:r.bankData.agencyDigit,accountNumber:r.bankData.account,accountDigit:r.bankData.accountDigit,accountType:d,accountBeneficiaryName:r.companyName,accountBeneficiaryCnpjNumber:r.personType==="J"?r.cnpj.replace(/\D/g,""):void 0,accountBeneficiaryCpfNumber:r.personType==="F"?r.cnpj.replace(/\D/g,""):void 0}};return r.personType==="J"&&r.municipalRegistration&&(m.municipalSubscription=r.municipalRegistration),m};class x4{async login(e,t){const a=await DC(lp,e,t);if(a.user){let o="user";try{await this.checkIfAdmin(a.user)&&(o="admin")}catch{}const u={id:a.user.uid,email:a.user.email,displayName:a.user.displayName||"",role:o};return localStorage.setItem("admin_user",JSON.stringify(u)),u}throw new Error("Credenciais inválidas.")}async logout(){localStorage.removeItem("admin_user"),await VC(lp)}async getCurrentUser(){const e=localStorage.getItem("admin_user");return e?JSON.parse(e):new Promise(t=>{const a=MC(lp,async o=>{if(a(),o){let u="user";try{await this.checkIfAdmin(o)&&(u="admin")}catch{}const d={id:o.uid,email:o.email,displayName:o.displayName||"",role:u};localStorage.setItem("admin_user",JSON.stringify(d)),t(d)}else t(null)})})}async checkIfAdmin(e){const t=Wi(gn,"admins",e.uid),a=await bd(t);if(a.exists()&&a.data().role==="admin")return{id:a.id,...a.data()};const o=Zl(as(gn,"admins"),vd("email","==",e.email),vd("role","==","admin")),u=await eu(o);if(!u.empty){const d=u.docs[0];return{id:d.id,...d.data()}}return null}async createPreRegistration(e,t){const a=as(gn,"suppliers"),o=Zl(a,vd("cnpj","==",e));if(!(await eu(o)).empty)throw new Error("CNPJ já cadastrado.");const d=mE(),m=new Date;m.setDate(m.getDate()+1);const p=as(gn,"pre_registrations");return await oE(p,{cnpj:e,email:t,token:d,expiresAt:et.fromDate(m),used:!1}),console.log(`A Cloud Function should now send an email to ${t} with token: ${d}`),{token:d}}async validateRegistrationToken(e){const t=as(gn,"pre_registrations"),a=Zl(t,vd("token","==",e)),o=await eu(a);if(o.empty)return!1;const u=o.docs[0].data();return!(u.used||et.now()>u.expiresAt)}async createSupplier(e){const t={...e,status:qe.EmAnalise,createdAt:ap(),approvedAt:null},a=await oE(as(gn,"suppliers"),t),o=await bd(a);return Ad(o)}async getSuppliers(){const e=Zl(as(gn,"suppliers"),rE("createdAt","desc"));return(await eu(e)).docs.map(Ad)}async getSupplierById(e){const t=Wi(gn,"suppliers",e),a=await bd(t);if(a.exists())return Ad(a)}async updateSupplier(e,t){const a=Wi(gn,"suppliers",e);await ip(a,t)}async updateSupplierStatus(e,t,a){const o=Wi(gn,"suppliers",e),u={status:t};if(t===qe.Aprovado){u.approvedAt=ap(),u.rejectionReason=null;try{const m=localStorage.getItem("admin_user");if(m){const p=JSON.parse(m);p&&p.id&&(u.approvedBy=p.id,u.approvedByName=p.displayName||p.email||null)}}catch{}}t===qe.Reprovado&&(u.rejectionReason=a||"Motivo não especificado."),await ip(o,u);const d=await bd(o);return Ad(d)}async deleteSupplier(e){const t=Wi(gn,"suppliers",e);await sE(t)}async getUsers(){const e=as(gn,"users");return(await eu(Zl(e,rE("createdAt","desc")))).docs.map(a=>{var u,d;const o=a.data();return{id:a.id,...o,createdAt:((u=o.createdAt)==null?void 0:u.toDate())||new Date,lastLogin:((d=o.lastLogin)==null?void 0:d.toDate())||void 0}})}async createUser(e){const t=(await hd(async()=>{const{getFunctions:o}=await Promise.resolve().then(()=>Sd);return{getFunctions:o}},[])).getFunctions(void 0,"southamerica-east1"),a=(await hd(async()=>{const{httpsCallable:o}=await Promise.resolve().then(()=>Sd);return{httpsCallable:o}},void 0)).httpsCallable(t,"createAuthUser");try{return(await a({email:e.email,name:e.name,role:e.role,password:e.password,createdBy:e.createdBy})).data.userId}catch(o){throw console.error("Erro ao criar usuário via Cloud Function:",o),o}}async updateUserStatus(e,t){const a=(await hd(async()=>{const{getFunctions:u}=await Promise.resolve().then(()=>Sd);return{getFunctions:u}},void 0)).getFunctions(void 0,"southamerica-east1"),o=(await hd(async()=>{const{httpsCallable:u}=await Promise.resolve().then(()=>Sd);return{httpsCallable:u}},void 0)).httpsCallable(a,"setAuthUserStatus");try{await o({userId:e,status:t==="active"?"active":"inactive"})}catch(u){console.warn("Falha ao atualizar status via Cloud Function, fallback para atualizar apenas o Firestore",u==null?void 0:u.message);const d=Wi(gn,"users",e);await ip(d,{status:t,updatedAt:ap()})}}async deleteUser(e){const t=Wi(gn,"users",e);await sE(t)}async createCreditorInSienge(e,t,a){return pE(e,t,a)}async getSiengeCreditorData(e,t,a){return pE(e,t,a)}async uploadFile(e,t){const a=`supplier_documents/${t}/${mE()}-${e.name}`,o=p4(E4,a),u=await f4(o,e),d=await m4(u.ref);return{docName:e.name,storagePath:a,uploadedAt:new Date,url:d}}}const Ft=new x4,RA=U.createContext(void 0),R4=({children:r})=>{const[e,t]=U.useState(null),[a,o]=U.useState(!0);U.useEffect(()=>{(async()=>{try{const p=await Ft.getCurrentUser();t(p)}catch(p){console.error("No active session",p),t(null)}finally{o(!1)}})()},[]);const u=async(m,p)=>{o(!0);try{const g=await Ft.login(m,p);t(g)}catch(g){throw t(null),g}finally{o(!1)}},d=async()=>{o(!0),await Ft.logout(),t(null),o(!1)};return y.jsx(RA.Provider,{value:{user:e,loading:a,login:u,logout:d},children:r})},Ea=()=>{const r=U.useContext(RA);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},NA="app_theme";function Vh(r){r==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),document.body.classList.add("dark"),document.body.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.body.classList.remove("dark"),document.body.classList.add("light"))}function N4(){try{const r=localStorage.getItem(NA);if(r==="dark"||r==="light")return r}catch{}return null}function C4(r){try{localStorage.setItem(NA,r)}catch{}}function Xg(){const r=N4();return r||(typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function Wg(r){const e=r==="dark"?"light":"dark";return Vh(e),C4(e),e}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),gE=r=>{const e=k4(r);return e.charAt(0).toUpperCase()+e.slice(1)},CA=(...r)=>r.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim(),D4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...m},p)=>U.createElement("svg",{ref:p,...O4,width:e,height:e,stroke:r,strokeWidth:a?Number(t)*24/Number(e):t,className:CA("lucide",o),...!u&&!D4(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,v])=>U.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(r,e)=>{const t=U.forwardRef(({className:a,...o},u)=>U.createElement(P4,{ref:u,iconNode:e,className:CA(`lucide-${I4(gE(r))}`,`lucide-${r}`,a),...o}));return t.displayName=gE(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],V4=Et("arrow-left",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],L4=Et("ban",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],z4=Et("building",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],q4=Et("check",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ih=Et("circle-check-big",F4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],G4=Et("cloud-upload",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K4=Et("eye",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zp=Et("file-text",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],yi=Et("loader",Q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],W4=Et("lock",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z4=Et("log-out",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tP=Et("mail",eP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Jg=Et("moon",nP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],IA=Et("search",rP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kA=Et("send",iP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Zg=Et("sun",aP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],DA=Et("trash-2",sP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jh=Et("triangle-alert",oP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uP=Et("user-plus",lP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OA=Et("users",cP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PA=Et("x",dP),MA=({onFilesChange:r})=>{const[e,t]=U.useState([]),[a,o]=U.useState(!1),u=U.useCallback(async g=>{if(!g||g.length===0)return;o(!0);const v=Array.from(g).map(T=>({docName:T.name,storagePath:"",uploadedAt:new Date,file:T,url:URL.createObjectURL(T)})),A=[...e,...v];t(A),r(A),setTimeout(()=>o(!1),1e3)},[e,r]),d=U.useCallback(g=>{g.preventDefault(),g.stopPropagation(),u(g.dataTransfer.files)},[u]),m=g=>{g.preventDefault(),g.stopPropagation()},p=g=>{const v=e.filter(A=>A.docName!==g);t(v),r(v)};return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",onDrop:d,onDragOver:m,onClick:()=>{var g;return(g=document.getElementById("file-input"))==null?void 0:g.click()},children:[y.jsx(G4,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[y.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Clique para enviar"})," ou arraste e solte"]}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF ou JPG (máx. 5MB por arquivo)"}),y.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",accept:".pdf,.jpg,.jpeg",onChange:g=>u(g.target.files)})]}),a&&y.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[y.jsx(yi,{className:"animate-spin h-4 w-4 mr-2"}),"Enviando arquivos..."]}),e.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Arquivos Anexados:"}),y.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700 rounded-md border border-gray-200 dark:border-gray-700",children:e.map((g,v)=>y.jsxs("li",{className:"flex items-center justify-between p-3",children:[y.jsxs("div",{className:"flex items-center min-w-0",children:[y.jsx(zp,{className:"h-6 w-6 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),y.jsx("span",{className:"ml-3 text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:g.docName})]}),y.jsx("button",{type:"button",onClick:()=>p(g.docName),className:"ml-4 p-1 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:y.jsx(PA,{className:"h-4 w-4"})})]},v))})]})]})},hP=()=>{const[r,e]=U.useState({companyName:"",tradeName:"",cnpj:"",stateRegistration:"",stateRegistrationType:"C",municipalRegistration:"",personType:"J",email:"",phone:"",website:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},bankData:{bank:"",bankCode:"",agency:"",agencyDigit:"",account:"",accountDigit:"",accountType:"corrente",pixKey:""},submittedBy:""}),[t,a]=U.useState([]),[o,u]=U.useState(!1),[d,m]=U.useState(!1),[p,g]=U.useState(null),[v,A]=U.useState(()=>{const se=Xg();return typeof document<"u"&&Vh(se),se==="dark"}),[T,D]=U.useState("empresa");U.useEffect(()=>{document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")},[]);const k=()=>{A(se=>Wg(se?"dark":"light")==="dark")},B=se=>{const{name:oe,value:te}=se.target;e(C=>({...C,[oe]:te}))},L=se=>{const{name:oe,value:te}=se.target;e(C=>({...C,address:{...C.address,[oe]:te}}))},$=se=>{const{name:oe,value:te}=se.target;e(C=>({...C,bankData:{...C.bankData,[oe]:te}}))},Q=se=>{a(se)},ne=async se=>{se.preventDefault(),u(!0),g(null);try{const oe={...r,rejectionReason:null,uploadedDocuments:[]},te=await Ft.createSupplier(oe);if(t.length>0){const C=t.map(R=>Ft.uploadFile(R.file,te.id)),x=await Promise.all(C);await Ft.updateSupplier(te.id,{uploadedDocuments:x})}m(!0)}catch(oe){g({type:"error",text:oe.message||"Falha ao enviar cadastro. Tente novamente."})}finally{u(!1)}};return d?y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[y.jsx(ih,{className:"h-16 w-16 text-green-500"}),y.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),y.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitação foi recebida e está em análise. Entraremos em contato em breve."}),y.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Novo Cadastro"})]}):y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4 top-nav",style:{backgroundImage:"url('/credores/meioambiental.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat"},children:[y.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[y.jsx(uh,{to:"/admin/login",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-500 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:"Acesso Admin"}),y.jsx("button",{onClick:k,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:v?y.jsx(Zg,{className:"h-5 w-5 text-yellow-500"}):y.jsx(Jg,{className:"h-5 w-5 text-gray-700"})})]}),y.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6 content-surface form-wrapper card",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-40 w-auto text-blue-700 dark:text-indigo-400"}),y.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100 drop-shadow-sm text-center tracking-tight",children:"Cadastro de Fornecedor"}),y.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),y.jsxs("div",{className:"flex justify-center mb-6 gap-2 flex-wrap tabs",children:[y.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${T==="empresa"?"border-blue-700 text-blue-800 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600 active":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>D("empresa"),children:"Dados da Empresa"}),y.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${T==="endereco"?"border-blue-700 text-blue-800 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600 active":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>D("endereco"),children:"Endereço"}),y.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${T==="bancario"?"border-blue-700 text-blue-800 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600 active":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>D("bancario"),children:"Dados Bancários"})]}),y.jsxs("form",{className:"space-y-8",onSubmit:ne,children:[T==="empresa"&&y.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),y.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razão Social *"}),y.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:B,value:r.companyName,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),y.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:B,value:r.tradeName,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ *"}),y.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:B,value:r.cnpj,placeholder:"00.000.000/0000-00",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"personType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de Pessoa *"}),y.jsxs("select",{name:"personType",id:"personType",required:!0,onChange:se=>e(oe=>({...oe,personType:se.target.value})),value:r.personType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[y.jsx("option",{value:"J",children:"Jurídica"}),y.jsx("option",{value:"F",children:"Física"})]})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"stateRegistrationType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de IE *"}),y.jsxs("select",{name:"stateRegistrationType",id:"stateRegistrationType",required:!0,onChange:se=>e(oe=>({...oe,stateRegistrationType:se.target.value})),value:r.stateRegistrationType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[y.jsx("option",{value:"C",children:"Contribuinte"}),y.jsx("option",{value:"I",children:"Isento"}),y.jsx("option",{value:"N",children:"Não Contribuinte"})]})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsxs("label",{htmlFor:"stateRegistration",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:["Inscrição Estadual ",r.stateRegistrationType==="C"?"*":""]}),y.jsx("input",{type:"text",name:"stateRegistration",id:"stateRegistration",required:r.stateRegistrationType==="C",onChange:B,value:r.stateRegistration,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsxs("label",{htmlFor:"municipalRegistration",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:["Inscrição Municipal ",r.personType==="J"?"*":""]}),y.jsx("input",{type:"text",name:"municipalRegistration",id:"municipalRegistration",required:r.personType==="J",onChange:B,value:r.municipalRegistration,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone *"}),y.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:B,value:r.phone,placeholder:"(00) 00000-0000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal *"}),y.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:B,value:r.email,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"website",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Site"}),y.jsx("input",{type:"url",name:"website",id:"website",onChange:B,value:r.website,placeholder:"https://www.exemplo.com",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato *"}),y.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:B,value:r.submittedBy,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),T==="endereco"&&y.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereço"}),y.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP *"}),y.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:L,value:r.address.zipCode,placeholder:"00000-000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-4",children:[y.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro *"}),y.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:L,value:r.address.street,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"number",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Número *"}),y.jsx("input",{type:"text",name:"number",id:"number",required:!0,onChange:L,value:r.address.number,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"complement",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Complemento"}),y.jsx("input",{type:"text",name:"complement",id:"complement",onChange:L,value:r.address.complement,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Bairro *"}),y.jsx("input",{type:"text",name:"neighborhood",id:"neighborhood",required:!0,onChange:L,value:r.address.neighborhood,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade *"}),y.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:L,value:r.address.city,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado *"}),y.jsxs("select",{name:"state",id:"state",required:!0,onChange:se=>e(oe=>({...oe,address:{...oe.address,state:se.target.value}})),value:r.address.state,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[y.jsx("option",{value:"",children:"Selecione..."}),y.jsx("option",{value:"AC",children:"Acre"}),y.jsx("option",{value:"AL",children:"Alagoas"}),y.jsx("option",{value:"AP",children:"Amapá"}),y.jsx("option",{value:"AM",children:"Amazonas"}),y.jsx("option",{value:"BA",children:"Bahia"}),y.jsx("option",{value:"CE",children:"Ceará"}),y.jsx("option",{value:"DF",children:"Distrito Federal"}),y.jsx("option",{value:"ES",children:"Espírito Santo"}),y.jsx("option",{value:"GO",children:"Goiás"}),y.jsx("option",{value:"MA",children:"Maranhão"}),y.jsx("option",{value:"MT",children:"Mato Grosso"}),y.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),y.jsx("option",{value:"MG",children:"Minas Gerais"}),y.jsx("option",{value:"PA",children:"Pará"}),y.jsx("option",{value:"PB",children:"Paraíba"}),y.jsx("option",{value:"PR",children:"Paraná"}),y.jsx("option",{value:"PE",children:"Pernambuco"}),y.jsx("option",{value:"PI",children:"Piauí"}),y.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),y.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),y.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),y.jsx("option",{value:"RO",children:"Rondônia"}),y.jsx("option",{value:"RR",children:"Roraima"}),y.jsx("option",{value:"SC",children:"Santa Catarina"}),y.jsx("option",{value:"SP",children:"São Paulo"}),y.jsx("option",{value:"SE",children:"Sergipe"}),y.jsx("option",{value:"TO",children:"Tocantins"})]})]})]})]}),T==="bancario"&&y.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados Bancários"}),y.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"bank",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Banco"}),y.jsx("input",{type:"text",name:"bank",id:"bank",onChange:$,value:r.bankData.bank,placeholder:"Nome do Banco",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"bankCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Código do Banco"}),y.jsx("input",{type:"text",name:"bankCode",id:"bankCode",onChange:$,value:r.bankData.bankCode,placeholder:"000",maxLength:3,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"agency",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Agência"}),y.jsx("input",{type:"text",name:"agency",id:"agency",onChange:$,value:r.bankData.agency,placeholder:"0000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx("label",{htmlFor:"agencyDigit",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Dígito"}),y.jsx("input",{type:"text",name:"agencyDigit",id:"agencyDigit",onChange:$,value:r.bankData.agencyDigit,placeholder:"0",maxLength:1,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"accountType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de Conta"}),y.jsxs("select",{name:"accountType",id:"accountType",onChange:$,value:r.bankData.accountType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[y.jsx("option",{value:"",children:"Selecione..."}),y.jsx("option",{value:"corrente",children:"Conta Corrente"}),y.jsx("option",{value:"poupanca",children:"Conta Poupança"})]})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"account",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Número da Conta"}),y.jsx("input",{type:"text",name:"account",id:"account",onChange:$,value:r.bankData.account,placeholder:"00000000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-1",children:[y.jsx("label",{htmlFor:"accountDigit",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Dígito"}),y.jsx("input",{type:"text",name:"accountDigit",id:"accountDigit",onChange:$,value:r.bankData.accountDigit,placeholder:"0",maxLength:2,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"pixKey",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Chave PIX"}),y.jsx("input",{type:"text",name:"pixKey",id:"pixKey",onChange:$,value:r.bankData.pixKey,placeholder:"CPF/CNPJ, e-mail, telefone ou chave aleatória",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos (Opcional)"}),y.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Se desejar, anexe documentos como Contrato Social, Certidões Negativas, etc."}),y.jsx("div",{className:"mt-6",children:y.jsx(MA,{onFilesChange:Q})})]}),y.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:y.jsxs("button",{type:"submit",disabled:o,className:"inline-flex justify-center items-center px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-700 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-500 dark:disabled:text-gray-500",children:[o?y.jsx(yi,{className:"animate-spin h-5 w-5 mr-2"}):y.jsx(kA,{className:"h-5 w-5 mr-2"}),o?"Enviando...":"Cadastro de Fornecedor"]})})]}),p&&y.jsxs("div",{className:`flex items-start p-4 rounded-md ${p.type==="success"?"bg-green-50 dark:bg-green-900/50":"bg-red-50 dark:bg-red-900/50"}`,children:[p.type==="success"?y.jsx(ih,{className:"h-5 w-5 text-green-500"}):y.jsx(jh,{className:"h-5 w-5 text-red-500"}),y.jsx("p",{className:`ml-3 text-sm font-medium ${p.type==="success"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:p.text})]})]})]})},fP=()=>{const{token:r}=DE(),e=ya(),[t,a]=U.useState(null),[o,u]=U.useState({companyName:"",tradeName:"",cnpj:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:""},submittedBy:""}),[d,m]=U.useState([]),[p,g]=U.useState(!1),[v,A]=U.useState(!1);U.useEffect(()=>{(async()=>{if(!r){a(!1);return}const $=await Ft.validateRegistrationToken(r);a($)})()},[r]);const T=L=>{const{name:$,value:Q}=L.target;u(ne=>({...ne,[$]:Q}))},D=L=>{const{name:$,value:Q}=L.target;u(ne=>({...ne,address:{...ne.address,[$]:Q}}))},k=L=>{m(L)},B=async L=>{if(L.preventDefault(),d.length===0){alert("Por favor, anexe pelo menos um documento.");return}g(!0);try{const $={...o,rejectionReason:null,uploadedDocuments:[]},Q=await Ft.createSupplier($),ne=d.map(oe=>Ft.uploadFile(oe.file,Q.id)),se=await Promise.all(ne);await Ft.updateSupplier(Q.id,{uploadedDocuments:se}),A(!0)}catch($){console.error("Submission failed",$),alert("Falha ao enviar cadastro. Tente novamente.")}finally{g(!1)}};return t===null?y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:y.jsx(yi,{className:"animate-spin h-16 w-16 text-blue-600 dark:text-indigo-400"})}):t?v?y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[y.jsx(ih,{className:"h-16 w-16 text-green-500"}),y.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),y.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitação foi recebida e está em análise. Entraremos em contato em breve."}),y.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Início"})]}):y.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[y.jsxs("div",{className:"p-8",children:[y.jsx("div",{className:"text-center mb-6",children:y.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"lucide lucide-building mx-auto h-12 w-12 text-blue-600 dark:text-indigo-400 mb-4"})}),y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Formulário de Cadastro"}),y.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),y.jsxs("form",{onSubmit:B,className:"p-8 pt-0 space-y-8",children:[y.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),y.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razão Social"}),y.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),y.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ"}),y.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone"}),y.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal"}),y.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-3",children:[y.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato"}),y.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:T,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),y.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereço"}),y.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[y.jsxs("div",{className:"col-span-full",children:[y.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro"}),y.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade"}),y.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado"}),y.jsx("input",{type:"text",name:"state",id:"state",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP"}),y.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos"}),y.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Anexe os documentos necessários, como Contrato Social e Certidões Negativas."}),y.jsx("div",{className:"mt-6",children:y.jsx(MA,{onFilesChange:k})})]}),y.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:y.jsxs("button",{type:"submit",disabled:p,className:"inline-flex justify-center items-center rounded-md bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-400 dark:disabled:bg-indigo-800 transition-colors",children:[p?y.jsx(yi,{className:"animate-spin h-5 w-5 mr-2"}):y.jsx(kA,{className:"h-5 w-5 mr-2"}),p?"Enviando...":"Enviar Cadastro"]})})]})]})}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[y.jsx(jh,{className:"h-16 w-16 text-red-500"}),y.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Link de Cadastro Inválido"}),y.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Este link é inválido ou já expirou. Por favor, solicite um novo link de cadastro."}),y.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Início"})]})},mP=()=>{const[r,e]=U.useState(""),[t,a]=U.useState(""),[o,u]=U.useState(""),[d,m]=U.useState(!1),{login:p}=Ea(),g=ya(),[v,A]=U.useState(()=>{const k=Xg();return typeof document<"u"&&Vh(k),k==="dark"}),T=()=>{A(k=>Wg(k?"dark":"light")==="dark")},D=async k=>{k.preventDefault(),u(""),m(!0);try{await p(r,t),g("/admin/dashboard")}catch(B){u(B.message||"Falha no login. Verifique suas credenciais.")}finally{m(!1)}};return y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4 top-nav",style:{backgroundImage:"url('/credores/meioambiental.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat"},children:[y.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[y.jsx(uh,{to:"/",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-500 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:"Cadastro de Fornecedor"}),y.jsx("button",{onClick:T,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:v?y.jsx(Zg,{className:"h-5 w-5 text-yellow-500"}):y.jsx(Jg,{className:"h-5 w-5 text-gray-700"})})]}),y.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6 content-surface form-wrapper card",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-20 w-auto mb-4"}),y.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100",children:"Acesso Administrativo"}),y.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Use as credenciais fornecidas para acessar o painel."})]}),y.jsxs("form",{className:"space-y-6",onSubmit:D,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"sr-only",children:"E-mail"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:y.jsx(tP,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"E-mail",value:r,onChange:k=>e(k.target.value)})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:y.jsx(W4,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Senha",value:t,onChange:k=>a(k.target.value)})]})]}),o&&y.jsxs("div",{className:"flex items-start bg-red-50 dark:bg-red-900/50 p-3 rounded-md",children:[y.jsx(jh,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),y.jsx("p",{className:"ml-2 text-sm text-red-700 dark:text-red-200",children:o})]}),y.jsx("div",{children:y.jsxs("button",{type:"submit",disabled:d,className:"inline-flex justify-center items-center w-full px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-500 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-500 dark:disabled:text-gray-500",children:[d?y.jsx(yi,{className:"animate-spin h-5 w-5 mr-2"}):null,d?"Entrando...":"Entrar"]})})]})]})]})},VA={[qe.Aprovado]:"Aprovado",[qe.Reprovado]:"Reprovado",[qe.EmAnalise]:"Em análise",[qe.Pendente]:"Pendente"},pP=({status:r})=>{const e=r.replace("_","-");return y.jsxs("span",{className:`status-chip status-chip--${e}`,children:[y.jsx("span",{className:"status-chip__dot","aria-hidden":!0}),VA[r]]})},gP=r=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(new Date(r)),yP=["all",qe.Pendente,qe.EmAnalise,qe.Aprovado,qe.Reprovado],_P={all:"Todos",...VA},vP=()=>{const[r,e]=U.useState([]),[t,a]=U.useState(!0),[o,u]=U.useState("all"),[d,m]=U.useState(""),[p,g]=U.useState(!1),[v,A]=U.useState(null),[T,D]=U.useState(!1),k=ya(),{user:B}=Ea();U.useEffect(()=>{(async()=>{a(!0);try{const C=await Ft.getSuppliers();e(C)}catch(C){console.error("Failed to fetch suppliers",C)}finally{a(!1)}})()},[]);const L=U.useMemo(()=>{const te={[qe.Aprovado]:0,[qe.Reprovado]:0,[qe.EmAnalise]:0,[qe.Pendente]:0};return r.forEach(C=>{te[C.status]+=1}),te},[r]),$=U.useMemo(()=>[{id:"total",label:"Total cadastrados",value:r.length},{id:"pending",label:"Pendentes",value:L[qe.Pendente],tone:"pending"},{id:"analysis",label:"Em análise",value:L[qe.EmAnalise],tone:"warning"},{id:"approved",label:"Aprovados",value:L[qe.Aprovado],tone:"success"},{id:"rejected",label:"Reprovados",value:L[qe.Reprovado],tone:"danger"}],[L,r.length]),Q=U.useMemo(()=>{const te=d.trim().toLowerCase();return r.filter(C=>o==="all"||C.status===o).filter(C=>{var x;return te?C.companyName.toLowerCase().includes(te)||((x=C.tradeName)==null?void 0:x.toLowerCase().includes(te))||C.cnpj.includes(te):!0})},[r,o,d]),ne=te=>{A(te),g(!0)},se=async()=>{if(v){D(!0);try{await Ft.deleteSupplier(v.id),e(te=>te.filter(C=>C.id!==v.id)),g(!1),A(null)}catch(te){console.error("Failed to delete supplier",te),alert("Erro ao excluir fornecedor. Tente novamente.")}finally{D(!1)}}},oe=()=>{g(!1),A(null)};return t?y.jsxs("div",{className:"admin-page__loading",children:[y.jsx(yi,{className:"admin-spinner"}),y.jsx("span",{children:"Carregando fornecedores..."})]}):y.jsxs("div",{className:"admin-page",children:[y.jsx("header",{className:"admin-page__header",children:y.jsxs("div",{children:[y.jsx("h1",{children:"Fornecedores"}),y.jsx("p",{className:"admin-page__subtitle",children:"Acompanhe cada etapa do fluxo de aprovação e mantenha o pipeline organizado."})]})}),y.jsx("section",{className:"admin-metrics",children:$.map(te=>y.jsxs("article",{className:`metric-card${te.tone?` metric-card--${te.tone}`:""}`,children:[y.jsx("span",{className:"metric-card__label",children:te.label}),y.jsx("span",{className:"metric-card__value",children:te.value})]},te.id))}),y.jsxs("section",{className:"admin-card",children:[y.jsx("div",{className:"admin-card__header",children:y.jsxs("div",{children:[y.jsx("h2",{children:"Pipeline de fornecedores"}),y.jsx("p",{children:"Controle o andamento dos cadastros enviados."})]})}),y.jsxs("div",{className:"admin-toolbar",children:[y.jsxs("div",{className:"admin-toolbar__search",children:[y.jsx(IA,{className:"admin-toolbar__icon","aria-hidden":!0}),y.jsx("input",{type:"search",value:d,onChange:te=>m(te.target.value),placeholder:"Buscar por nome, fantasia ou CNPJ",className:"admin-input"})]}),y.jsxs("div",{className:"admin-toolbar__filters","aria-label":"Filtrar por status",children:[y.jsx("span",{className:"admin-toolbar__label",children:"Status"}),y.jsx("div",{className:"filter-pill-group",children:yP.map(te=>{const C=o===te,x=te==="all"?r.length:L[te];return y.jsxs("button",{type:"button",className:`filter-pill${C?" filter-pill--active":""}`,onClick:()=>u(te),children:[y.jsx("span",{children:_P[te]}),y.jsx("span",{className:"filter-pill__count",children:x})]},te)})})]})]}),y.jsx("div",{className:"admin-table-container",role:"region","aria-live":"polite",children:Q.length>0?y.jsxs("table",{className:"admin-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",children:"Empresa"}),y.jsx("th",{scope:"col",children:"CNPJ"}),y.jsx("th",{scope:"col",children:"Cadastro"}),y.jsx("th",{scope:"col",children:"Status"}),y.jsx("th",{scope:"col",className:"table-actions__header",children:"Ações"})]})}),y.jsx("tbody",{children:Q.map(te=>y.jsxs("tr",{children:[y.jsxs("td",{children:[y.jsx("div",{className:"table-primary",children:te.companyName}),te.tradeName&&y.jsx("div",{className:"table-secondary",children:te.tradeName})]}),y.jsx("td",{className:"table-mono",children:te.cnpj}),y.jsx("td",{className:"table-date",children:gP(te.createdAt)}),y.jsx("td",{children:y.jsx(pP,{status:te.status})}),y.jsx("td",{children:y.jsxs("div",{className:"table-actions",children:[y.jsx("button",{type:"button",className:"admin-link",onClick:()=>k(`/admin/supplier/${te.id}`),children:"Ver detalhes"}),(B==null?void 0:B.role)===_n.Admin&&y.jsxs("button",{type:"button",className:"admin-link admin-link--danger",onClick:()=>ne(te),children:[y.jsx(DA,{size:16,"aria-hidden":!0}),"Excluir"]})]})})]},te.id))})]}):y.jsxs("div",{className:"table-empty-state",children:[y.jsx("h3",{children:"Sem fornecedores neste filtro"}),y.jsx("p",{children:"Ajuste os filtros ou refine a busca para visualizar outros fornecedores cadastrados."})]})})]}),p&&v&&y.jsx("div",{className:"admin-modal__backdrop",role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"admin-modal",children:[y.jsxs("div",{className:"admin-modal__body",children:[y.jsx("h3",{children:"Excluir fornecedor"}),y.jsxs("p",{children:["Tem certeza de que deseja remover"," ",y.jsx("strong",{children:v.companyName})," do sistema? Essa ação não pode ser desfeita."]})]}),y.jsxs("div",{className:"admin-modal__actions",children:[y.jsx("button",{type:"button",className:"admin-button admin-button--ghost",onClick:oe,children:"Cancelar"}),y.jsx("button",{type:"button",className:"admin-button admin-button--danger",onClick:se,disabled:T,children:T?"Excluindo...":"Excluir"})]})]})})]})},bP={active:"Ativo",inactive:"Inativo"},jA={admin:"Administrador",user:"Usuario",viewer:"Visualizador"},EP=({status:r})=>y.jsxs("span",{className:`status-chip status-chip--user-${r}`,children:[y.jsx("span",{className:"status-chip__dot","aria-hidden":!0}),bP[r]]}),TP=({role:r})=>y.jsx("span",{className:`role-chip role-chip--${r}`,children:jA[r]}),wP=r=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(new Date(r)),AP=["all",Cn.Active,Cn.Inactive],yE=["all",_n.Admin,_n.User,_n.Viewer],SP={all:"Todos",active:"Ativos",inactive:"Inativos"},xP={all:"Todos",admin:"Administradores",user:"Usuarios",viewer:"Visualizadores"},RP=()=>{const r=ya(),{user:e}=Ea(),[t,a]=U.useState([]),[o,u]=U.useState(!0),[d,m]=U.useState("all"),[p,g]=U.useState("all"),[v,A]=U.useState(""),[T,D]=U.useState(!1),[k,B]=U.useState(!1),[L,$]=U.useState({email:"",name:"",role:_n.User,password:""}),[Q,ne]=U.useState(!1),[se,oe]=U.useState(!1),[te,C]=U.useState(null),[x,R]=U.useState(!1);U.useEffect(()=>{if(!e){r("/admin/login");return}P()},[e,r]);const P=async()=>{try{u(!0);const X=await Ft.getUsers();a(X)}catch(X){console.error("Failed to load users:",X)}finally{u(!1)}},j=U.useMemo(()=>{const X={active:0,inactive:0};return t.forEach(me=>{X[me.status]+=1}),X},[t]),M=U.useMemo(()=>{const X={admin:0,user:0,viewer:0};return t.forEach(me=>{X[me.role]+=1}),X},[t]),N=U.useMemo(()=>[{id:"total",label:"Usuarios ativos na plataforma",value:t.length},{id:"active",label:"Com acesso habilitado",value:j[Cn.Active],tone:"success"},{id:"inactive",label:"Suspensos",value:j[Cn.Inactive],tone:"warning"},{id:"admins",label:"Administradores",value:M[_n.Admin],tone:"accent"}],[M,j,t.length]),Ye=U.useMemo(()=>{const X=v.trim().toLowerCase();return t.filter(me=>d==="all"||me.status===d).filter(me=>p==="all"||me.role===p).filter(me=>X?me.name.toLowerCase().includes(X)||me.email.toLowerCase().includes(X):!0)},[t,d,p,v]),it=async()=>{if(!L.email||!L.name||!L.password){alert("Preencha todos os campos obrigatorios.");return}B(!0);try{await Ft.createUser({...L,createdBy:(e==null?void 0:e.email)||"admin"}),D(!1),$({email:"",name:"",role:_n.User,password:""}),await P()}catch(X){console.error("Failed to create user:",X),alert("Erro ao criar usuario. Tente novamente.")}finally{B(!1)}},W=async()=>{if(te){R(!0);try{await Ft.deleteUser(te.id),a(X=>X.filter(me=>me.id!==te.id)),ne(!1),C(null)}catch(X){console.error("Failed to delete user:",X),alert("Erro ao excluir usuario. Tente novamente.")}finally{R(!1)}}},ce=async()=>{if(!te)return;const X=te.status===Cn.Active?Cn.Inactive:Cn.Active;R(!0);try{await Ft.updateUserStatus(te.id,X),a(me=>me.map(O=>O.id===te.id?{...O,status:X}:O)),oe(!1),C(null)}catch(me){console.error("Failed to update user status:",me),alert("Erro ao atualizar status. Tente novamente.")}finally{R(!1)}};return o?y.jsxs("div",{className:"admin-page__loading",children:[y.jsx(yi,{className:"admin-spinner"}),y.jsx("span",{children:"Carregando usuarios..."})]}):y.jsxs("div",{className:"admin-page",children:[y.jsxs("header",{className:"admin-page__header",children:[y.jsxs("div",{children:[y.jsx("h1",{children:"Gestao de usuarios"}),y.jsx("p",{className:"admin-page__subtitle",children:"Centralize perfis, acessos e status da sua equipe em um painel minimalista."})]}),(e==null?void 0:e.role)===_n.Admin&&y.jsxs("button",{type:"button",className:"admin-button admin-button--primary",onClick:()=>D(!0),children:[y.jsx(uP,{size:18,"aria-hidden":!0}),"Novo usuario"]})]}),y.jsx("section",{className:"admin-metrics",children:N.map(X=>y.jsxs("article",{className:`metric-card${X.tone?` metric-card--${X.tone}`:""}`,children:[y.jsx("span",{className:"metric-card__label",children:X.label}),y.jsx("span",{className:"metric-card__value",children:X.value})]},X.id))}),y.jsxs("section",{className:"admin-card",children:[y.jsx("div",{className:"admin-card__header",children:y.jsxs("div",{children:[y.jsx("h2",{children:"Equipe cadastrada"}),y.jsx("p",{children:"Visualize permissoes e status de acesso em tempo real."})]})}),y.jsxs("div",{className:"admin-toolbar admin-toolbar--stack",children:[y.jsxs("div",{className:"admin-toolbar__search",children:[y.jsx(IA,{className:"admin-toolbar__icon","aria-hidden":!0}),y.jsx("input",{type:"search",value:v,onChange:X=>A(X.target.value),placeholder:"Buscar por nome ou email",className:"admin-input"})]}),y.jsxs("div",{className:"admin-toolbar__filters",children:[y.jsxs("div",{className:"admin-toolbar__filters-group",children:[y.jsx("span",{className:"admin-toolbar__label",children:"Status"}),y.jsx("div",{className:"filter-pill-group",children:AP.map(X=>{const me=d===X,O=X==="all"?t.length:j[X];return y.jsxs("button",{type:"button",className:`filter-pill${me?" filter-pill--active":""}`,onClick:()=>m(X),children:[y.jsx("span",{children:SP[X]}),y.jsx("span",{className:"filter-pill__count",children:O})]},X)})})]}),y.jsxs("div",{className:"admin-toolbar__filters-group",children:[y.jsx("span",{className:"admin-toolbar__label",children:"Perfil"}),y.jsx("div",{className:"filter-pill-group",children:yE.map(X=>{const me=p===X,O=X==="all"?t.length:M[X];return y.jsxs("button",{type:"button",className:`filter-pill${me?" filter-pill--active":""}`,onClick:()=>g(X),children:[y.jsx("span",{children:xP[X]}),y.jsx("span",{className:"filter-pill__count",children:O})]},X)})})]})]})]}),y.jsx("div",{className:"admin-table-container",role:"region","aria-live":"polite",children:Ye.length>0?y.jsxs("table",{className:"admin-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",children:"Nome"}),y.jsx("th",{scope:"col",children:"Email"}),y.jsx("th",{scope:"col",children:"Perfil"}),y.jsx("th",{scope:"col",children:"Status"}),y.jsx("th",{scope:"col",children:"Criado em"}),y.jsx("th",{scope:"col",className:"table-actions__header",children:"Acoes"})]})}),y.jsx("tbody",{children:Ye.map(X=>{const me=X.status===Cn.Active;return y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("div",{className:"table-primary",children:X.name})}),y.jsx("td",{className:"table-mono",children:X.email}),y.jsx("td",{children:y.jsx(TP,{role:X.role})}),y.jsx("td",{children:y.jsx(EP,{status:X.status})}),y.jsx("td",{className:"table-date",children:X.createdAt?wP(X.createdAt):"Sem registro"}),y.jsx("td",{children:y.jsx("div",{className:"table-actions table-actions--wrap",children:(e==null?void 0:e.role)===_n.Admin&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",className:`admin-chip-button ${me?"admin-chip-button--warning":"admin-chip-button--success"}`,onClick:()=>{C(X),oe(!0)},children:[me?y.jsx(L4,{size:16,"aria-hidden":!0}):y.jsx(ih,{size:16,"aria-hidden":!0}),me?"Desativar":"Ativar"]}),y.jsxs("button",{type:"button",className:"admin-link admin-link--danger",onClick:()=>{C(X),ne(!0)},children:[y.jsx(DA,{size:16,"aria-hidden":!0}),"Excluir"]})]})})})]},X.id)})})]}):y.jsxs("div",{className:"table-empty-state",children:[y.jsx(OA,{size:32,"aria-hidden":!0}),y.jsx("h3",{children:"Nenhum usuario com esse recorte"}),y.jsx("p",{children:"Ajuste filtros ou crie um novo acesso para sua equipe."})]})})]}),T&&y.jsx("div",{className:"admin-modal__backdrop",role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"admin-modal admin-modal--wide",children:[y.jsxs("div",{className:"admin-modal__body",children:[y.jsx("h3",{children:"Criar novo usuario"}),y.jsx("p",{children:"Defina as informacoes iniciais do colaborador e o perfil de acesso."}),y.jsxs("div",{className:"admin-modal__form",children:[y.jsxs("div",{className:"admin-field admin-field--full",children:[y.jsx("label",{htmlFor:"new-user-name",children:"Nome completo"}),y.jsx("input",{id:"new-user-name",type:"text",className:"admin-input",value:L.name,onChange:X=>$(me=>({...me,name:X.target.value})),placeholder:"Ex: Ana Ribeiro"})]}),y.jsxs("div",{className:"admin-field admin-field--full",children:[y.jsx("label",{htmlFor:"new-user-email",children:"Email"}),y.jsx("input",{id:"new-user-email",type:"email",className:"admin-input",value:L.email,onChange:X=>$(me=>({...me,email:X.target.value})),placeholder:"nome@empresa.com"})]}),y.jsxs("div",{className:"admin-field",children:[y.jsx("label",{htmlFor:"new-user-role",children:"Perfil"}),y.jsx("select",{id:"new-user-role",className:"admin-input",value:L.role,onChange:X=>$(me=>({...me,role:X.target.value})),children:yE.filter(X=>X!=="all").map(X=>y.jsx("option",{value:X,children:jA[X]},X))})]}),y.jsxs("div",{className:"admin-field",children:[y.jsx("label",{htmlFor:"new-user-password",children:"Senha provisoria"}),y.jsx("input",{id:"new-user-password",type:"password",className:"admin-input",value:L.password,onChange:X=>$(me=>({...me,password:X.target.value})),placeholder:"Minimo 8 caracteres"})]})]})]}),y.jsxs("div",{className:"admin-modal__actions",children:[y.jsx("button",{type:"button",className:"admin-button admin-button--ghost",onClick:()=>{D(!1),$({email:"",name:"",role:_n.User,password:""})},children:"Cancelar"}),y.jsx("button",{type:"button",className:"admin-button admin-button--primary",onClick:it,disabled:k,children:k?"Criando...":"Criar usuario"})]})]})}),Q&&te&&y.jsx("div",{className:"admin-modal__backdrop",role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"admin-modal",children:[y.jsxs("div",{className:"admin-modal__body",children:[y.jsx("h3",{children:"Excluir usuario"}),y.jsxs("p",{children:["Tem certeza de que deseja remover ",y.jsx("strong",{children:te.name}),"? Essa acao e permanente."]})]}),y.jsxs("div",{className:"admin-modal__actions",children:[y.jsx("button",{type:"button",className:"admin-button admin-button--ghost",onClick:()=>{ne(!1),C(null)},children:"Manter"}),y.jsx("button",{type:"button",className:"admin-button admin-button--danger",onClick:W,disabled:x,children:x?"Excluindo...":"Excluir"})]})]})}),se&&te&&y.jsx("div",{className:"admin-modal__backdrop",role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"admin-modal",children:[y.jsxs("div",{className:"admin-modal__body",children:[y.jsx("h3",{children:"Atualizar status"}),y.jsxs("p",{children:["Deseja ",te.status===Cn.Active?"desativar":"ativar"," o usuario"," ",y.jsx("strong",{children:te.name}),"?"]})]}),y.jsxs("div",{className:"admin-modal__actions",children:[y.jsx("button",{type:"button",className:"admin-button admin-button--ghost",onClick:()=>{oe(!1),C(null)},children:"Cancelar"}),y.jsx("button",{type:"button",className:`admin-button ${te.status===Cn.Active?"admin-button--warning":"admin-button--success"}`,onClick:ce,disabled:x,children:x?te.status===Cn.Active?"Desativando...":"Ativando...":te.status===Cn.Active?"Desativar":"Ativar"})]})]})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="type.googleapis.com/google.protobuf.Int64Value",CP="type.googleapis.com/google.protobuf.UInt64Value";function LA(r,e){const t={};for(const a in r)r.hasOwnProperty(a)&&(t[a]=e(r[a]));return t}function ah(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>ah(e));if(typeof r=="function"||typeof r=="object")return LA(r,e=>ah(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Io(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case NP:case CP:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Io(e)):typeof r=="function"||typeof r=="object"?LA(r,e=>Io(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hn extends or{constructor(e,t,a){super(`${ey}/${e}`,t||""),this.details=a,Object.setPrototypeOf(this,hn.prototype)}}function IP(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function sh(r,e){let t=IP(r),a=t,o;try{const u=e&&e.error;if(u){const d=u.status;if(typeof d=="string"){if(!_E[d])return new hn("internal","internal");t=_E[d],a=d}const m=u.message;typeof m=="string"&&(a=m),o=u.details,o!==void 0&&(o=Io(o))}}catch{}return t==="ok"?null:new hn(t,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,In(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||t.get().then(u=>this.auth=u,()=>{}),this.messaging||a.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="us-central1",DP=/^data: (.*?)(?:\n|$)/;function OP(r){let e=null;return{promise:new Promise((t,a)=>{e=setTimeout(()=>{a(new hn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class PP{constructor(e,t,a,o,u=Bp,d=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new kP(e,t,a,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Bp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function MP(r,e,t){const a=vi(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${t}`,a&&(dh(r.emulatorOrigin),hh("Functions",!0))}function VP(r,e,t){const a=o=>LP(r,e,o,t||{});return a.stream=(o,u)=>zP(r,e,o,u),a}async function jP(r,e,t,a){t["Content-Type"]="application/json";let o;try{o=await a(r,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function UA(r,e){const t={},a=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return a.authToken&&(t.Authorization="Bearer "+a.authToken),a.messagingToken&&(t["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=a.appCheckToken),t}function LP(r,e,t,a){const o=r._url(e);return UP(r,o,t,a)}async function UP(r,e,t,a){t=ah(t);const o={data:t},u=await UA(r,a),d=a.timeout||7e4,m=OP(d),p=await Promise.race([jP(e,o,u,r.fetchImpl),m.promise,r.cancelAllRequests]);if(m.cancel(),!p)throw new hn("cancelled","Firebase Functions instance was deleted.");const g=sh(p.status,p.json);if(g)throw g;if(!p.json)throw new hn("internal","Response is not valid JSON object.");let v=p.json.data;if(typeof v>"u"&&(v=p.json.result),typeof v>"u")throw new hn("internal","Response is missing data field.");return{data:Io(v)}}function zP(r,e,t,a){const o=r._url(e);return BP(r,o,t,a||{})}async function BP(r,e,t,a){var o;t=ah(t);const u={data:t},d=await UA(r,a);d["Content-Type"]="application/json",d.Accept="text/event-stream";let m;try{m=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(u),headers:d,signal:a==null?void 0:a.signal})}catch(D){if(D instanceof Error&&D.name==="AbortError"){const B=new hn("cancelled","Request was cancelled.");return{data:Promise.reject(B),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(B)}}}}}}const k=sh(0,null);return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}let p,g;const v=new Promise((D,k)=>{p=D,g=k});(o=a==null?void 0:a.signal)===null||o===void 0||o.addEventListener("abort",()=>{const D=new hn("cancelled","Request was cancelled.");g(D)});const A=m.body.getReader(),T=qP(A,p,g,a==null?void 0:a.signal);return{stream:{[Symbol.asyncIterator](){const D=T.getReader();return{async next(){const{value:k,done:B}=await D.read();return{value:k,done:B}},async return(){return await D.cancel(),{done:!0,value:void 0}}}}},data:v}}function qP(r,e,t,a){const o=(d,m)=>{const p=d.match(DP);if(!p)return;const g=p[1];try{const v=JSON.parse(g);if("result"in v){e(Io(v.result));return}if("message"in v){m.enqueue(Io(v.message));return}if("error"in v){const A=sh(0,v);m.error(A),t(A);return}}catch(v){if(v instanceof hn){m.error(v),t(v);return}}},u=new TextDecoder;return new ReadableStream({start(d){let m="";return p();async function p(){if(a!=null&&a.aborted){const g=new hn("cancelled","Request was cancelled");return d.error(g),t(g),Promise.resolve()}try{const{value:g,done:v}=await r.read();if(v){m.trim()&&o(m.trim(),d),d.close();return}if(a!=null&&a.aborted){const T=new hn("cancelled","Request was cancelled");d.error(T),t(T),await r.cancel();return}m+=u.decode(g,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const T of A)T.trim()&&o(T.trim(),d);return p()}catch(g){const v=g instanceof hn?g:sh(0,null);d.error(v),t(v)}}},cancel(){return r.cancel()}})}const vE="@firebase/functions",bE="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="auth-internal",HP="app-check-internal",GP="messaging-internal";function $P(r){const e=(t,{instanceIdentifier:a})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider(FP),d=t.getProvider(GP),m=t.getProvider(HP);return new PP(o,u,d,m,a)};ua(new di(ey,e,"PUBLIC").setMultipleInstances(!0)),Kn(vE,bE,r),Kn(vE,bE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r=fh(),e=Bp){const a=ku(at(r),ey).getImmediate({identifier:e}),o=Xp("functions");return o&&BA(a,...o),a}function BA(r,e,t){MP(at(r),e,t)}function qA(r,e,t){return VP(at(r),e,t)}$P();const Sd=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:hn,connectFunctionsEmulator:BA,getFunctions:zA,httpsCallable:qA},Symbol.toStringTag,{value:"Module"})),FA={[qe.Aprovado]:"Aprovado",[qe.Reprovado]:"Reprovado",[qe.EmAnalise]:"Em análise",[qe.Pendente]:"Pendente"},KP=({status:r})=>{const e=r.replace("_","-");return y.jsx("span",{className:`status-chip status-chip--${e}`,children:FA[r]})},EE=r=>{if(!r)return null;const e=typeof r=="string"?new Date(r):r;return Number.isNaN(e.getTime())?null:new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"short"}).format(e)},TE=r=>{if(!r)return null;const e=typeof r=="string"?new Date(r):r;return Number.isNaN(e.getTime())?null:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(e)},ct=({label:r,value:e})=>{const t=e==null||e===""||typeof e=="string"&&e.trim()===""||Array.isArray(e)&&e.length===0;return y.jsxs("div",{className:"detail-grid__item",children:[y.jsx("span",{className:"detail-grid__label",children:r}),y.jsx("span",{className:"detail-grid__value",children:t?y.jsx("span",{className:"detail-grid__empty",children:"—"}):e})]})},YP=()=>{var Q,ne,se,oe,te,C,x,R,P,j;const{id:r}=DE(),e=ya(),{user:t}=Ea(),[a,o]=U.useState(null),[u,d]=U.useState(!0),[m,p]=U.useState("dados-gerais"),[g,v]=U.useState(!1),[A,T]=U.useState(""),[D,k]=U.useState(!1);U.useEffect(()=>{(async()=>{if(r){d(!0);try{const N=await Ft.getSupplierById(r);N&&o(N)}finally{d(!1)}}})()},[r]);const B=async M=>{if(r){k(!0);try{const N=await Ft.updateSupplierStatus(r,M,M===qe.Reprovado?A:void 0);if(o(N),M===qe.Aprovado)try{const Ye=zA(void 0,"southamerica-east1");await qA(Ye,"createSiengeCreditor")({supplierId:r}),alert("Fornecedor aprovado e enviado ao Sienge com sucesso!")}catch(Ye){console.error("Erro ao enviar para Sienge:",Ye),alert(`Fornecedor aprovado, mas ocorreu erro ao enviar ao Sienge: ${Ye.message}`)}v(!1),T("")}catch(N){console.error(`Failed to ${M} supplier`,N),alert(M===qe.Aprovado?"Erro ao aprovar fornecedor.":"Erro ao reprovar fornecedor.")}finally{k(!1)}}};if(u)return y.jsxs("div",{className:"admin-page__loading",children:[y.jsx(yi,{className:"admin-spinner"}),y.jsx("span",{children:"Carregando credor..."})]});if(!a)return y.jsx("div",{className:"admin-page__loading",children:y.jsx("span",{children:"Fornecedor não encontrado."})});const L=EE(a.createdAt),$=EE(a.approvedAt);return y.jsxs("div",{className:"admin-page",children:[y.jsxs("header",{className:"admin-page__header",children:[y.jsxs("div",{className:"detail-header",children:[y.jsxs("button",{type:"button",className:"admin-link detail-header__back",onClick:()=>e(-1),children:[y.jsx(V4,{size:18,"aria-hidden":!0}),"Voltar"]}),y.jsx("h1",{children:a.companyName}),y.jsx("p",{className:"admin-page__subtitle",children:"Dados completos, histórico e documentos enviados pelo credor."})]}),y.jsxs("div",{className:"detail-header__meta",children:[y.jsx(KP,{status:a.status}),L&&y.jsxs("span",{className:"detail-header__timestamp",children:["Recebido em ",L]})]})]}),y.jsx("section",{className:"admin-card detail-summary",children:y.jsxs("div",{className:"detail-summary__grid",children:[y.jsxs("div",{className:"detail-summary__item",children:[y.jsx("span",{className:"detail-summary__label",children:"Responsável pelo envio"}),y.jsx("span",{className:"detail-summary__value",children:a.submittedBy||"—"})]}),y.jsxs("div",{className:"detail-summary__item",children:[y.jsx("span",{className:"detail-summary__label",children:"E-mail principal"}),y.jsx("span",{className:"detail-summary__value",children:a.email})]}),y.jsxs("div",{className:"detail-summary__item",children:[y.jsx("span",{className:"detail-summary__label",children:"Telefone"}),y.jsx("span",{className:"detail-summary__value",children:a.phone||"—"})]}),y.jsxs("div",{className:"detail-summary__item",children:[y.jsx("span",{className:"detail-summary__label",children:"Status atual"}),y.jsx("span",{className:"detail-summary__value",children:FA[a.status]})]}),$&&y.jsxs("div",{className:"detail-summary__item",children:[y.jsx("span",{className:"detail-summary__label",children:"Aprovado em"}),y.jsx("span",{className:"detail-summary__value",children:$})]}),a.approvedByName&&y.jsxs("div",{className:"detail-summary__item",children:[y.jsx("span",{className:"detail-summary__label",children:"Aprovado por"}),y.jsx("span",{className:"detail-summary__value",children:a.approvedByName})]}),a.status===qe.Reprovado&&a.rejectionReason&&y.jsxs("div",{className:"detail-summary__item detail-summary__item--full",children:[y.jsx("span",{className:"detail-summary__label",children:"Motivo da reprovação"}),y.jsx("span",{className:"detail-summary__value detail-summary__value--danger",children:a.rejectionReason})]})]})}),y.jsxs("section",{className:"admin-card",children:[y.jsx("div",{className:"detail-tabs",role:"tablist","aria-label":"Seções do cadastro",children:[["dados-gerais","Dados Gerais"],["endereco","Endereço"],["dados-bancarios","Dados Bancários"]].map(([M,N])=>y.jsx("button",{type:"button",role:"tab","aria-selected":m===M,className:`detail-tabs__button${m===M?" detail-tabs__button--active":""}`,onClick:()=>p(M),children:N},M))}),y.jsxs("div",{className:"detail-panel",children:[m==="dados-gerais"&&y.jsxs("div",{className:"detail-grid",role:"region","aria-label":"Dados gerais do fornecedor",children:[y.jsx(ct,{label:"Razão Social",value:a.companyName}),y.jsx(ct,{label:"Nome Fantasia",value:a.tradeName}),y.jsx(ct,{label:"Tipo de Pessoa",value:a.personType==="J"?"Jurídica":"Física"}),y.jsx(ct,{label:"CNPJ/CPF",value:y.jsx("span",{className:"table-mono",children:a.cnpj})}),y.jsx(ct,{label:"Inscrição Estadual",value:a.stateRegistration}),y.jsx(ct,{label:"Tipo de IE",value:a.stateRegistrationType==="C"?"Contribuinte":a.stateRegistrationType==="I"?"Isento":a.stateRegistrationType==="N"?"Não contribuinte":a.stateRegistrationType}),y.jsx(ct,{label:"Inscrição Municipal",value:a.municipalRegistration}),y.jsx(ct,{label:"Website",value:a.website})]}),m==="endereco"&&y.jsxs("div",{className:"detail-grid",role:"region","aria-label":"Endereço do fornecedor",children:[y.jsx(ct,{label:"CEP",value:a.address.zipCode}),y.jsx(ct,{label:"Estado",value:a.address.state}),y.jsx(ct,{label:"Cidade",value:a.address.city}),y.jsx(ct,{label:"Bairro",value:a.address.neighborhood}),y.jsx(ct,{label:"Rua/Avenida",value:a.address.street}),y.jsx(ct,{label:"Número",value:a.address.number}),y.jsx(ct,{label:"Complemento",value:a.address.complement})]}),m==="dados-bancarios"&&y.jsxs("div",{className:"detail-grid",role:"region","aria-label":"Dados bancários do fornecedor",children:[y.jsx(ct,{label:"Banco",value:(Q=a.bankData)==null?void 0:Q.bank}),y.jsx(ct,{label:"Código do Banco",value:(ne=a.bankData)==null?void 0:ne.bankCode}),y.jsx(ct,{label:"Agência",value:(se=a.bankData)==null?void 0:se.agency}),y.jsx(ct,{label:"Dígito da Agência",value:(oe=a.bankData)==null?void 0:oe.agencyDigit}),y.jsx(ct,{label:"Conta",value:(te=a.bankData)==null?void 0:te.account}),y.jsx(ct,{label:"Dígito da Conta",value:(C=a.bankData)==null?void 0:C.accountDigit}),y.jsx(ct,{label:"Tipo de Conta",value:((x=a.bankData)==null?void 0:x.accountType)==="corrente"?"Corrente":((R=a.bankData)==null?void 0:R.accountType)==="poupanca"?"Poupança":(P=a.bankData)==null?void 0:P.accountType}),y.jsx(ct,{label:"Chave PIX",value:(j=a.bankData)==null?void 0:j.pixKey})]})]})]}),y.jsxs("section",{className:"admin-card",children:[y.jsx("header",{className:"admin-card__header",children:y.jsxs("div",{children:[y.jsx("h2",{children:"Documentos enviados"}),y.jsx("p",{children:"Arquivos anexados pelo fornecedor durante o cadastro."})]})}),y.jsx("div",{className:"detail-documents",role:"list",children:a.uploadedDocuments&&a.uploadedDocuments.length>0?a.uploadedDocuments.map((M,N)=>{const Ye=M.uploadedAt instanceof Date?TE(M.uploadedAt):M.uploadedAt?TE(new Date(M.uploadedAt)):null;return y.jsxs("article",{className:"document-card",role:"listitem",children:[y.jsx("div",{className:"document-card__icon",children:y.jsx(zp,{size:20,"aria-hidden":!0})}),y.jsxs("div",{className:"document-card__meta",children:[y.jsx("span",{className:"document-card__title",children:M.docName}),Ye&&y.jsxs("span",{className:"document-card__timestamp",children:["Enviado em ",Ye]})]}),M.url&&y.jsxs("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"admin-link",children:[y.jsx(K4,{size:16,"aria-hidden":!0}),"Abrir"]})]},`${M.storagePath}-${N}`)}):y.jsxs("div",{className:"table-empty-state",children:[y.jsx(zp,{size:32,"aria-hidden":!0}),y.jsx("h3",{children:"Sem arquivos anexados"}),y.jsx("p",{children:"Nenhum documento foi enviado para este cadastro."})]})})]}),(t==null?void 0:t.role)===_n.Admin&&a.status!==qe.Aprovado&&y.jsxs("section",{className:"admin-card detail-actions",children:[y.jsxs("div",{className:"detail-actions__content",children:[y.jsx("h2",{children:"Decisão"}),y.jsx("p",{children:"Valide os documentos e confirme sua decisão para liberar o cadastro."})]}),y.jsxs("div",{className:"detail-actions__buttons",children:[y.jsxs("button",{type:"button",className:"admin-button admin-button--danger",onClick:()=>v(!0),disabled:D,children:[y.jsx(PA,{size:18,"aria-hidden":!0}),"Reprovar"]}),y.jsxs("button",{type:"button",className:"admin-button admin-button--success",onClick:()=>B(qe.Aprovado),disabled:D,children:[D?y.jsx(yi,{className:"admin-spinner admin-spinner--inline"}):y.jsx(q4,{size:18,"aria-hidden":!0}),"Aprovar"]})]})]}),g&&y.jsx("div",{className:"admin-modal__backdrop",role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"admin-modal admin-modal--wide",children:[y.jsxs("div",{className:"admin-modal__body",children:[y.jsx("h3",{children:"Reprovar cadastro"}),y.jsx("p",{children:"Descreva o motivo para o fornecedor ser notificado com as orientações corretas."}),y.jsxs("div",{className:"detail-reject",children:[y.jsx("div",{className:"detail-reject__icon",children:y.jsx(jh,{size:24,"aria-hidden":!0})}),y.jsx("textarea",{className:"admin-input admin-textarea",placeholder:"Ex: Documentação fiscal incompleta.",value:A,onChange:M=>T(M.target.value),rows:5})]})]}),y.jsxs("div",{className:"admin-modal__actions",children:[y.jsx("button",{type:"button",className:"admin-button admin-button--ghost",onClick:()=>{v(!1),T("")},children:"Cancelar"}),y.jsx("button",{type:"button",className:"admin-button admin-button--danger",onClick:()=>B(qe.Reprovado),disabled:!A||D,children:D?"Enviando...":"Confirmar reprovação"})]})]})})]})},QP=()=>{const{user:r,logout:e}=Ea(),t=ya(),a=_i(),o=async()=>{await e(),t("/admin/login")},[u,d]=AE.useState(()=>{const p=Xg();return typeof document<"u"&&Vh(p),p}),m=()=>{d(p=>Wg(p))};return y.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-md w-full",children:y.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-indigo-400",children:"Portal de Fornecedores"}),y.jsx("span",{className:"ml-4 text-sm text-gray-600 dark:text-gray-400 hidden sm:inline",children:"Painel Administrativo"})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[y.jsxs("button",{onClick:()=>t("/admin/dashboard"),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${a.pathname==="/admin/dashboard"?"bg-blue-100 text-blue-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800"}`,children:[y.jsx(z4,{className:"h-4 w-4 mr-2"}),"Fornecedores"]}),(r==null?void 0:r.role)===_n.Admin&&y.jsxs("button",{onClick:()=>t("/admin/users"),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${a.pathname==="/admin/users"?"bg-blue-100 text-blue-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800"}`,children:[y.jsx(OA,{className:"h-4 w-4 mr-2"}),"Usuários"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-gray-700 dark:text-gray-300 hidden md:inline",children:r==null?void 0:r.email}),y.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/50 hover:bg-red-200 dark:hover:bg-red-900/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition","aria-label":"Logout",children:[y.jsx(Z4,{className:"h-4 w-4 mr-2"}),"Sair"]}),y.jsx("button",{onClick:m,className:"p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:u==="dark"?y.jsx(Zg,{className:"h-5 w-5 text-yellow-500"}):y.jsx(Jg,{className:"h-5 w-5 text-gray-700"})})]})]})})},up=({children:r})=>{const{user:e,loading:t}=Ea();return t?y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:y.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):e?y.jsx(y.Fragment,{children:r}):y.jsx(Ud,{to:"/admin/login",replace:!0})},XP=({children:r})=>{const{user:e,loading:t}=Ea();return t?y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:y.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):e?e.role!==_n.Admin?y.jsx(Ud,{to:"/admin/dashboard",replace:!0}):y.jsx(y.Fragment,{children:r}):y.jsx(Ud,{to:"/admin/login",replace:!0})},cp=({children:r})=>y.jsxs("div",{className:"admin-shell",children:[y.jsx(QP,{}),y.jsx("main",{className:"admin-main",children:r})]}),WP=()=>{const{user:r}=Ea();return y.jsxs(gx,{children:[y.jsx(Xi,{path:"/",element:y.jsx(hP,{})}),y.jsx(Xi,{path:"/register/:token",element:y.jsx(fP,{})}),y.jsx(Xi,{path:"/admin/login",element:y.jsx(mP,{})}),y.jsx(Xi,{path:"/admin/dashboard",element:y.jsx(up,{children:y.jsx(cp,{children:y.jsx(vP,{})})})}),y.jsx(Xi,{path:"/admin/users",element:y.jsx(up,{children:y.jsx(XP,{children:y.jsx(cp,{children:y.jsx(RP,{})})})})}),y.jsx(Xi,{path:"/admin/supplier/:id",element:y.jsx(up,{children:y.jsx(cp,{children:y.jsx(YP,{})})})}),y.jsx(Xi,{path:"*",element:y.jsx(Ud,{to:r?"/admin/dashboard":"/"})})]})},JP=()=>y.jsx(R4,{children:y.jsx(zx,{children:y.jsx(WP,{})})}),HA=document.getElementById("root");if(!HA)throw new Error("Could not find root element to mount to");const ZP=S1.createRoot(HA);ZP.render(y.jsx(AE.StrictMode,{children:y.jsx(JP,{})}));
