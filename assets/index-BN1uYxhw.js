(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function nE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function q1(){if(Zv)return $l;Zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=t,$l.jsxs=t,$l}var Jv;function F1(){return Jv||(Jv=1,Cm.exports=q1()),Cm.exports}var v=F1(),Im={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function H1(){if(e_)return Re;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,F={};function j(O,re,ce){this.props=O,this.context=re,this.refs=F,this.updater=ce||D}j.prototype.isReactComponent={},j.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=j.prototype;function G(O,re,ce){this.props=O,this.context=re,this.refs=F,this.updater=ce||D}var ee=G.prototype=new K;ee.constructor=G,I(ee,j.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function k(O,re,ce,se,ve,Ie){return ce=Ie.ref,{$$typeof:r,type:O,key:re,ref:ce!==void 0?ce:null,props:Ie}}function S(O,re){return k(O.type,re,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return re[ce]})}var P=/\/+/g;function U(O,re){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):re.toString(36)}function C(){}function Nt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ue(O,re,ce,se,ve){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(Ie){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case r:case e:xe=!0;break;case E:return xe=O._init,ue(xe(O._payload),re,ce,se,ve)}}if(xe)return ve=ve(O),xe=se===""?"."+U(O,0):se,ie(ve)?(ce="",xe!=null&&(ce=xe.replace(P,"$&/")+"/"),ue(ve,re,ce,"",function(ir){return ir})):ve!=null&&(R(ve)&&(ve=S(ve,ce+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(P,"$&/")+"/")+xe)),re.push(ve)),1;xe=0;var Vt=se===""?".":se+":";if(ie(O))for(var tt=0;tt<O.length;tt++)se=O[tt],Ie=Vt+U(se,tt),xe+=ue(se,re,ce,Ie,ve);else if(tt=w(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(se=O.next()).done;)se=se.value,Ie=Vt+U(se,tt++),xe+=ue(se,re,ce,Ie,ve);else if(Ie==="object"){if(typeof O.then=="function")return ue(Nt(O),re,ce,se,ve);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function X(O,re,ce){if(O==null)return O;var se=[],ve=0;return ue(O,se,"","",function(Ie){return re.call(ce,Ie,ve++)}),se}function le(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Re.Children={map:X,forEach:function(O,re,ce){X(O,function(){re.apply(this,arguments)},ce)},count:function(O){var re=0;return X(O,function(){re++}),re},toArray:function(O){return X(O,function(re){return re})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=j,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ae.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,re,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=I({},O.props),ve=O.key,Ie=void 0;if(re!=null)for(xe in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(ve=""+re.key),re)!de.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(se[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)se.children=ce;else if(1<xe){for(var Vt=Array(xe),tt=0;tt<xe;tt++)Vt[tt]=arguments[tt+2];se.children=Vt}return k(O.type,ve,void 0,void 0,Ie,se)},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,re,ce){var se,ve={},Ie=null;if(re!=null)for(se in re.key!==void 0&&(Ie=""+re.key),re)de.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=re[se]);var xe=arguments.length-2;if(xe===1)ve.children=ce;else if(1<xe){for(var Vt=Array(xe),tt=0;tt<xe;tt++)Vt[tt]=arguments[tt+2];ve.children=Vt}if(O&&O.defaultProps)for(se in xe=O.defaultProps,xe)ve[se]===void 0&&(ve[se]=xe[se]);return k(O,Ie,void 0,void 0,null,ve)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=R,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:le}},Re.memo=function(O,re){return{$$typeof:p,type:O,compare:re===void 0?null:re}},Re.startTransition=function(O){var re=ae.T,ce={};ae.T=ce;try{var se=O(),ve=ae.S;ve!==null&&ve(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,pe)}catch(Ie){pe(Ie)}finally{ae.T=re}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(O){return ae.H.use(O)},Re.useActionState=function(O,re,ce){return ae.H.useActionState(O,re,ce)},Re.useCallback=function(O,re){return ae.H.useCallback(O,re)},Re.useContext=function(O){return ae.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,re){return ae.H.useDeferredValue(O,re)},Re.useEffect=function(O,re,ce){var se=ae.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,re)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(O,re,ce){return ae.H.useImperativeHandle(O,re,ce)},Re.useInsertionEffect=function(O,re){return ae.H.useInsertionEffect(O,re)},Re.useLayoutEffect=function(O,re){return ae.H.useLayoutEffect(O,re)},Re.useMemo=function(O,re){return ae.H.useMemo(O,re)},Re.useOptimistic=function(O,re){return ae.H.useOptimistic(O,re)},Re.useReducer=function(O,re,ce){return ae.H.useReducer(O,re,ce)},Re.useRef=function(O){return ae.H.useRef(O)},Re.useState=function(O){return ae.H.useState(O)},Re.useSyncExternalStore=function(O,re,ce){return ae.H.useSyncExternalStore(O,re,ce)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.0",Re}var t_;function Ig(){return t_||(t_=1,Im.exports=H1()),Im.exports}var z=Ig();const rE=nE(z);var km={exports:{}},Kl={},Dm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function G1(){return n_||(n_=1,function(r){function e(X,le){var pe=X.length;X.push(le);e:for(;0<pe;){var Be=pe-1>>>1,O=X[Be];if(0<o(O,le))X[Be]=le,X[pe]=O,pe=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],pe=X.pop();if(pe!==le){X[0]=pe;e:for(var Be=0,O=X.length,re=O>>>1;Be<re;){var ce=2*(Be+1)-1,se=X[ce],ve=ce+1,Ie=X[ve];if(0>o(se,pe))ve<O&&0>o(Ie,se)?(X[Be]=Ie,X[ve]=pe,Be=ve):(X[Be]=se,X[ce]=pe,Be=ce);else if(ve<O&&0>o(Ie,pe))X[Be]=Ie,X[ve]=pe,Be=ve;else break e}}return le}function o(X,le){var pe=X.sortIndex-le.sortIndex;return pe!==0?pe:X.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,A=null,w=3,D=!1,I=!1,F=!1,j=!1,K=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var le=t(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=X)s(p),le.sortIndex=le.expirationTime,e(g,le);else break;le=t(p)}}function ae(X){if(F=!1,ie(X),!I)if(t(g)!==null)I=!0,de||(de=!0,U());else{var le=t(p);le!==null&&ue(ae,le.startTime-X)}}var de=!1,k=-1,S=5,R=-1;function M(){return j?!0:!(r.unstable_now()-R<S)}function P(){if(j=!1,de){var X=r.unstable_now();R=X;var le=!0;try{e:{I=!1,F&&(F=!1,G(k),k=-1),D=!0;var pe=w;try{t:{for(ie(X),A=t(g);A!==null&&!(A.expirationTime>X&&M());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var O=Be(A.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){A.callback=O,ie(X),le=!0;break t}A===t(g)&&s(g),ie(X)}else s(g);A=t(g)}if(A!==null)le=!0;else{var re=t(p);re!==null&&ue(ae,re.startTime-X),le=!1}}break e}finally{A=null,w=pe,D=!1}le=void 0}}finally{le?U():de=!1}}}var U;if(typeof ee=="function")U=function(){ee(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Nt=C.port2;C.port1.onmessage=P,U=function(){Nt.postMessage(null)}}else U=function(){K(P,0)};function ue(X,le){k=K(function(){X(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var pe=w;w=le;try{return X()}finally{w=pe}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=w;w=X;try{return le()}finally{w=pe}},r.unstable_scheduleCallback=function(X,le,pe){var Be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,X={id:E++,callback:le,priorityLevel:X,startTime:pe,expirationTime:O,sortIndex:-1},pe>Be?(X.sortIndex=pe,e(p,X),t(g)===null&&X===t(p)&&(F?(G(k),k=-1):F=!0,ue(ae,pe-Be))):(X.sortIndex=O,e(g,X),I||D||(I=!0,de||(de=!0,U()))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var le=w;return function(){var pe=w;w=le;try{return X.apply(this,arguments)}finally{w=pe}}}}(Om)),Om}var r_;function $1(){return r_||(r_=1,Dm.exports=G1()),Dm.exports}var Mm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function K1(){if(i_)return en;i_=1;var r=Ig();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:p,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},en.flushSync=function(g){var p=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=E,s.d.f()}},en.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},en.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},en.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:D}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},en.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},en.requestFormReset=function(g){s.d.r(g)},en.unstable_batchedUpdates=function(g,p){return g(p)},en.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.1.0",en}var s_;function Q1(){if(s_)return Mm.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=K1(),Mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function Y1(){if(a_)return Kl;a_=1;var r=$1(),e=Ig(),t=Q1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return m(d),n;if(f===l)return m(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var b=!1,T=d.child;T;){if(T===a){b=!0,a=d,l=f;break}if(T===l){b=!0,l=d,a=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===a){b=!0,a=f,l=d;break}if(T===l){b=!0,l=f,a=d;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case j:return"Profiler";case F:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case ee:return(n.displayName||"Context")+".Provider";case G:return(n._context.displayName||"Context")+".Consumer";case ie:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return i=n.displayName||null,i!==null?i:Nt(n.type)||"Memo";case S:i=n._payload,n=n._init;try{return Nt(n(i))}catch{}}return null}var ue=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function re(n){return{current:n}}function ce(n){0>O||(n.current=Be[O],Be[O]=null,O--)}function se(n,i){O++,Be[O]=n.current,n.current=i}var ve=re(null),Ie=re(null),xe=re(null),Vt=re(null);function tt(n,i){switch(se(xe,i),se(Ie,n),se(ve,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Sv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Sv(i),n=Rv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ve),se(ve,n)}function ir(){ce(ve),ce(Ie),ce(xe)}function yi(n){n.memoizedState!==null&&se(Vt,n);var i=ve.current,a=Rv(i,n.type);i!==a&&(se(Ie,n),se(ve,a))}function Or(n){Ie.current===n&&(ce(ve),ce(Ie)),Vt.current===n&&(ce(Vt),Bl._currentValue=pe)}var bs=Object.prototype.hasOwnProperty,Es=r.unstable_scheduleCallback,Ts=r.unstable_cancelCallback,Lo=r.unstable_shouldYield,Lu=r.unstable_requestPaint,Cn=r.unstable_now,Nd=r.unstable_getCurrentPriorityLevel,Uo=r.unstable_ImmediatePriority,_a=r.unstable_UserBlockingPriority,ws=r.unstable_NormalPriority,Cd=r.unstable_LowPriority,ba=r.unstable_IdlePriority,zo=r.log,Uu=r.unstable_setDisableYieldValue,ut=null,Ge=null;function vn(n){if(typeof zo=="function"&&Uu(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,n)}catch{}}var Zt=Math.clz32?Math.clz32:xs,zu=Math.log,Id=Math.LN2;function xs(n){return n>>>=0,n===0?32:31-(zu(n)/Id|0)|0}var As=256,Ss=4194304;function $n(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ea(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=$n(l):(b&=T,b!==0?d=$n(b):a||(a=T&~n,a!==0&&(d=$n(a))))):(T=l&~f,T!==0?d=$n(T):b!==0?d=$n(b):a||(a=l&~n,a!==0&&(d=$n(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Rs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Bo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var n=As;return As<<=1,(As&4194048)===0&&(As=256),n}function Fo(){var n=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),n}function Mr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Vr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ho(n,i,a,l,d,f){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,N=n.expirationTimes,H=n.hiddenUpdates;for(a=b&~a;0<a;){var W=31-Zt(a),te=1<<W;T[W]=0,N[W]=-1;var $=H[W];if($!==null)for(H[W]=null,W=0;W<$.length;W++){var Q=$[W];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&sr(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(b&~i))}function sr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Zt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Go(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Zt(a),d=1<<l;d&i|n[l]&i&&(n[l]|=i),a&=~d}}function vi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ta(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _i(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:$v(n.type))}function Bu(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var it=Math.random().toString(36).slice(2),Ct="__reactFiber$"+it,bt="__reactProps$"+it,In="__reactContainer$"+it,$o="__reactEvents$"+it,kd="__reactListeners$"+it,bi="__reactHandles$"+it,qu="__reactResources$"+it,Ns="__reactMarker$"+it;function Ei(n){delete n[Ct],delete n[bt],delete n[$o],delete n[kd],delete n[bi]}function Pr(n){var i=n[Ct];if(i)return i;for(var a=n.parentNode;a;){if(i=a[In]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=kv(n);n!==null;){if(a=n[Ct])return a;n=kv(n)}return i}n=a,a=n.parentNode}return null}function ar(n){if(n=n[Ct]||n[In]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function or(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function an(n){var i=n[qu];return i||(i=n[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(n){n[Ns]=!0}var Ko=new Set,wa={};function Kn(n,i){jr(n,i),jr(n+"Capture",i)}function jr(n,i){for(wa[n]=i,n=0;n<i.length;n++)Ko.add(i[n])}var Fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hu={},Cs={};function Gu(n){return bs.call(Cs,n)?!0:bs.call(Hu,n)?!1:Fu.test(n)?Cs[n]=!0:(Hu[n]=!0,!1)}function Ti(n,i,a){if(Gu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function lr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Ft(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Is,$u;function Lr(n){if(Is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Is=i&&i[1]||"",$u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+n+$u}var xa=!1;function Aa(n,i){if(!n||xa)return"";xa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var $=Q}Reflect.construct(n,[],te)}else{try{te.call()}catch(Q){$=Q}n.call(te.prototype)}}else{try{throw Error()}catch(Q){$=Q}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var N=b.split(`
`),H=T.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===H.length)for(l=N.length-1,d=H.length-1;1<=l&&0<=d&&N[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==H[d]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=d);break}}}finally{xa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Lr(a):""}function Qo(n){switch(n.tag){case 26:case 27:case 5:return Lr(n.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return Aa(n.type,!1);case 11:return Aa(n.type.render,!1);case 1:return Aa(n.type,!0);case 31:return Lr("Activity");default:return""}}function Sa(n){try{var i="";do i+=Qo(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dd(n){var i=Yo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,f.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ra(n){n._valueTracker||(n._valueTracker=Dd(n))}function Xo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Yo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function ks(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Od=/[\n"\\]/g;function Et(n){return n.replace(Od,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(n,i,a,l,d,f,b,T){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+on(i)):n.value!==""+on(i)&&(n.value=""+on(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?wi(n,b,on(i)):a!=null?wi(n,b,on(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+on(T):n.removeAttribute("name")}function Ds(n,i,a,l,d,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function wi(n,i,a){i==="number"&&ks(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ur(n,i,a,l){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Qe(n,i,a){if(i!=null&&(i=""+on(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+on(a):""}function Os(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function kn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Ms.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Wo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Ku(n,d,l)}else for(var f in i)i.hasOwnProperty(f)&&Ku(n,f,i[f])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(n){return Vd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var zr=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Br=null,qr=null;function Jo(n){var i=ar(n);if(i&&(n=i.stateNode)){var a=n[bt]||null;e:switch(n=i.stateNode,i.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var d=l[bt]||null;if(!d)throw Error(s(90));_n(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Xo(l)}break e;case"textarea":Qe(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ur(n,!!a.multiple,i,!1)}}}var ur=!1;function Qu(n,i,a){if(ur)return n(i,a);ur=!0;try{var l=n(i);return l}finally{if(ur=!1,(Br!==null||qr!==null)&&(Bc(),Br&&(i=Br,n=qr,qr=Br=null,Jo(i),n)))for(i=0;i<n.length;i++)Jo(n[i])}}function Vs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Qn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{On=!1}var cr=null,xi=null,Fr=null;function el(){if(Fr)return Fr;var n,i=xi,a=i.length,l,d="value"in cr?cr.value:cr.textContent,f=d.length;for(n=0;n<a&&i[n]===d[n];n++);var b=a-n;for(l=1;l<=b&&i[a-l]===d[f-l];l++);return Fr=d.slice(n,1<l?1-l:void 0)}function hr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function dr(){return!0}function tl(){return!1}function Pt(n){function i(a,l,d,f,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?dr:tl,this.isPropagationStopped=tl,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Pt(Fe),js=E({},Fe,{view:0,detail:0}),Yu=Pt(js),Ia,ka,fr,Ls=E({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fr&&(fr&&n.type==="mousemove"?(Ia=n.screenX-fr.screenX,ka=n.screenY-fr.screenY):ka=Ia=0,fr=n),Ia)},movementY:function(n){return"movementY"in n?n.movementY:ka}}),Mn=Pt(Ls),Xu=E({},Ls,{dataTransfer:0}),Pd=Pt(Xu),Us=E({},js,{relatedTarget:0}),Da=Pt(Us),nl=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Pt(nl),Wu=E({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ma=Pt(Wu),jd=E({},Fe,{data:0}),rl=Pt(jd),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ju[n])?!!i[n]:!1}function Bs(){return il}var ec=E({},js,{key:function(n){if(n.key){var i=zs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(n){return n.type==="keypress"?hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Va=Pt(ec),tc=E({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Pt(tc),Hr=E({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),nc=Pt(Hr),rc=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=Pt(rc),sc=E({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=Pt(sc),ln=E({},Fe,{newState:0,oldState:0}),ac=Pt(ln),oc=[9,13,27,32],mr=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var y=Qn&&"TextEvent"in window&&!c,_=Qn&&(!mr||c&&8<c&&11>=c),x=" ",B=!1;function Y(n,i){switch(n){case"keyup":return oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function It(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(B=!0,x);case"textInput":return n=i.data,n===x&&B?null:n;default:return null}}function je(n,i){if(Pe)return n==="compositionend"||!mr&&Y(n,i)?(n=el(),Fr=xi=cr=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!jt[n.type]:i==="textarea"}function Gr(n,i,a,l){Br?qr?qr.push(l):qr=[l]:Br=l,i=Kc(i,"onChange"),0<i.length&&(a=new Ca("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ht=null,gr=null;function al(n){Ev(n,0)}function lc(n){var i=or(n);if(Xo(i))return n}function qp(n,i){if(n==="change")return i}var Fp=!1;if(Qn){var Ld;if(Qn){var Ud="oninput"in document;if(!Ud){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),Ud=typeof Hp.oninput=="function"}Ld=Ud}else Ld=!1;Fp=Ld&&(!document.documentMode||9<document.documentMode)}function Gp(){Ht&&(Ht.detachEvent("onpropertychange",$p),gr=Ht=null)}function $p(n){if(n.propertyName==="value"&&lc(gr)){var i=[];Gr(i,gr,n,Dn(n)),Qu(al,i)}}function vx(n,i,a){n==="focusin"?(Gp(),Ht=i,gr=a,Ht.attachEvent("onpropertychange",$p)):n==="focusout"&&Gp()}function _x(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lc(gr)}function bx(n,i){if(n==="click")return lc(i)}function Ex(n,i){if(n==="input"||n==="change")return lc(i)}function Tx(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:Tx;function ol(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bs.call(i,d)||!bn(n[d],i[d]))return!1}return!0}function Kp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qp(n,i){var a=Kp(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kp(a)}}function Yp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Yp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Xp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ks(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ks(n.document)}return i}function zd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var wx=Qn&&"documentMode"in document&&11>=document.documentMode,ja=null,Bd=null,ll=null,qd=!1;function Wp(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qd||ja==null||ja!==ks(l)||(l=ja,"selectionStart"in l&&zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Kc(Bd,"onSelect"),0<l.length&&(i=new Ca("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=ja)))}function qs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var La={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Fd={},Zp={};Qn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Fs(n){if(Fd[n])return Fd[n];if(!La[n])return n;var i=La[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return Fd[n]=i[a];return n}var Jp=Fs("animationend"),ey=Fs("animationiteration"),ty=Fs("animationstart"),xx=Fs("transitionrun"),Ax=Fs("transitionstart"),Sx=Fs("transitioncancel"),ny=Fs("transitionend"),ry=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function Yn(n,i){ry.set(n,i),Kn(i,[n])}var iy=new WeakMap;function Vn(n,i){if(typeof n=="object"&&n!==null){var a=iy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Sa(i)},iy.set(n,i),i)}return{value:n,source:i,stack:Sa(i)}}var Pn=[],Ua=0,Gd=0;function uc(){for(var n=Ua,i=Gd=Ua=0;i<n;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var d=Pn[i];Pn[i++]=null;var f=Pn[i];if(Pn[i++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}f!==0&&sy(a,d,f)}}function cc(n,i,a,l){Pn[Ua++]=n,Pn[Ua++]=i,Pn[Ua++]=a,Pn[Ua++]=l,Gd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function $d(n,i,a,l){return cc(n,i,a,l),hc(n)}function za(n,i){return cc(n,null,null,i),hc(n)}function sy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&i!==null&&(d=31-Zt(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function hc(n){if(50<Ol)throw Ol=0,Jf=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ba={};function Rx(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,l){return new Rx(n,i,a,l)}function Kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $r(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ay(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function dc(n,i,a,l,d,f){var b=0;if(l=n,typeof n=="function")Kd(n)&&(b=1);else if(typeof n=="string")b=C1(n,a,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=En(31,a,i,d),n.elementType=R,n.lanes=f,n;case I:return Hs(a.children,d,f,i);case F:b=8,d|=24;break;case j:return n=En(12,a,i,d|2),n.elementType=j,n.lanes=f,n;case ae:return n=En(13,a,i,d),n.elementType=ae,n.lanes=f,n;case de:return n=En(19,a,i,d),n.elementType=de,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:case ee:b=10;break e;case G:b=9;break e;case ie:b=11;break e;case k:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=En(b,a,i,d),i.elementType=n,i.type=l,i.lanes=f,i}function Hs(n,i,a,l){return n=En(7,n,l,i),n.lanes=a,n}function Qd(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function Yd(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var qa=[],Fa=0,fc=null,mc=0,jn=[],Ln=0,Gs=null,Kr=1,Qr="";function $s(n,i){qa[Fa++]=mc,qa[Fa++]=fc,fc=n,mc=i}function oy(n,i,a){jn[Ln++]=Kr,jn[Ln++]=Qr,jn[Ln++]=Gs,Gs=n;var l=Kr;n=Qr;var d=32-Zt(l)-1;l&=~(1<<d),a+=1;var f=32-Zt(i)+d;if(30<f){var b=d-d%5;f=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Kr=1<<32-Zt(i)+d|a<<d|l,Qr=f+n}else Kr=1<<f|a<<d|l,Qr=n}function Xd(n){n.return!==null&&($s(n,1),oy(n,1,0))}function Wd(n){for(;n===fc;)fc=qa[--Fa],qa[Fa]=null,mc=qa[--Fa],qa[Fa]=null;for(;n===Gs;)Gs=jn[--Ln],jn[Ln]=null,Qr=jn[--Ln],jn[Ln]=null,Kr=jn[--Ln],jn[Ln]=null}var un=null,ct=null,qe=!1,Ks=null,pr=!1,Zd=Error(s(519));function Qs(n){var i=Error(s(418,""));throw hl(Vn(i,n)),Zd}function ly(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Ct]=n,i[bt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Oe(Vl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Os(i,l.value,l.defaultValue,l.children),Ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Av(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Qc),i=!0):i=!1,i||Qs(n)}function uy(n){for(un=n.return;un;)switch(un.tag){case 5:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:un=un.return}}function ul(n){if(n!==un)return!1;if(!qe)return uy(n),qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||gm(n.type,n.memoizedProps)),a=!a),a&&ct&&Qs(n),uy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ct=Wn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ct=null}}else i===27?(i=ct,zi(n.type)?(n=_m,_m=null,ct=n):ct=i):ct=un?Wn(n.stateNode.nextSibling):null;return!0}function cl(){ct=un=null,qe=!1}function cy(){var n=Ks;return n!==null&&(mn===null?mn=n:mn.push.apply(mn,n),Ks=null),n}function hl(n){Ks===null?Ks=[n]:Ks.push(n)}var Jd=re(null),Ys=null,Yr=null;function Ai(n,i,a){se(Jd,i._currentValue),i._currentValue=a}function Xr(n){n._currentValue=Jd.current,ce(Jd)}function ef(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function tf(n,i,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var b=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var N=0;N<i.length;N++)if(T.context===i[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ef(f.return,a,n),l||(b=null);break e}f=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),ef(b,a,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function dl(n,i,a,l){n=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=d.type;bn(d.pendingProps.value,b.value)||(n!==null?n.push(T):n=[T])}}else if(d===Vt.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Bl):n=[Bl])}d=d.return}n!==null&&tf(i,n,a,l),i.flags|=262144}function gc(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xs(n){Ys=n,Yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return hy(Ys,n)}function pc(n,i){return Ys===null&&Xs(n),hy(n,i)}function hy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yr===null){if(n===null)throw Error(s(308));Yr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Yr=Yr.next=i;return a}var Nx=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Cx=r.unstable_scheduleCallback,Ix=r.unstable_NormalPriority,Dt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new Nx,data:new Map,refCount:0}}function fl(n){n.refCount--,n.refCount===0&&Cx(Ix,function(){n.controller.abort()})}var ml=null,rf=0,Ha=0,Ga=null;function kx(n,i){if(ml===null){var a=ml=[];rf=0,Ha=am(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,i.then(dy,dy),i}function dy(){if(--rf===0&&ml!==null){Ga!==null&&(Ga.status="fulfilled");var n=ml;ml=null,Ha=0,Ga=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Dx(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var fy=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kx(n,i),fy!==null&&fy(n,i)};var Ws=re(null);function sf(){var n=Ws.current;return n!==null?n:nt.pooledCache}function yc(n,i){i===null?se(Ws,Ws.current):se(Ws,i.pool)}function my(){var n=sf();return n===null?null:{parent:Dt._currentValue,pool:n}}var gl=Error(s(460)),gy=Error(s(474)),vc=Error(s(542)),af={then:function(){}};function py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _c(){}function yy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(_c,_c),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,_y(n),n;default:if(typeof i.status=="string")i.then(_c,_c);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,_y(n),n}throw pl=i,gl}}var pl=null;function vy(){if(pl===null)throw Error(s(459));var n=pl;return pl=null,n}function _y(n){if(n===gl||n===vc)throw Error(s(483))}var Si=!1;function of(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ri(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ni(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=hc(n),sy(n,null,a),i}return cc(n,l,i,a),hc(n)}function yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Go(n,a)}}function uf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var cf=!1;function vl(){if(cf){var n=Ga;if(n!==null)throw n}}function _l(n,i,a,l){cf=!1;var d=n.updateQueue;Si=!1;var f=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var N=T,H=N.next;N.next=null,b===null?f=H:b.next=H,b=N;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==b&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=N))}if(f!==null){var te=d.baseState;b=0,W=H=N=null,T=f;do{var $=T.lane&-536870913,Q=$!==T.lane;if(Q?(Le&$)===$:(l&$)===$){$!==0&&$===Ha&&(cf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=n,_e=T;$=i;var We=a;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){te=we.call(We,te,$);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,$=typeof we=="function"?we.call(We,te,$):we,$==null)break e;te=E({},te,$);break e;case 2:Si=!0}}$=T.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[$]:Q.push($))}else Q={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=Q,N=te):W=W.next=Q,b|=$;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);W===null&&(N=te),d.baseState=N,d.firstBaseUpdate=H,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),Pi|=b,n.lanes=b,n.memoizedState=te}}function by(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ey(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)by(a[n],i)}var $a=re(null),bc=re(0);function Ty(n,i){n=ri,se(bc,n),se($a,i),ri=n|i.baseLanes}function hf(){se(bc,ri),se($a,$a.current)}function df(){ri=bc.current,ce($a),ce(bc)}var Ci=0,Ne=null,Ye=null,Tt=null,Ec=!1,Ka=!1,Zs=!1,Tc=0,bl=0,Qa=null,Ox=0;function yt(){throw Error(s(321))}function ff(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!bn(n[a],i[a]))return!1;return!0}function mf(n,i,a,l,d,f){return Ci=f,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?s0:a0,Zs=!1,f=a(l,d),Zs=!1,Ka&&(f=xy(i,a,l,d)),wy(n),f}function wy(n){X.H=Nc;var i=Ye!==null&&Ye.next!==null;if(Ci=0,Tt=Ye=Ne=null,Ec=!1,bl=0,Qa=null,i)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&gc(n)&&(Lt=!0))}function xy(n,i,a,l){Ne=n;var d=0;do{if(Ka&&(Qa=null),bl=0,Ka=!1,25<=d)throw Error(s(301));if(d+=1,Tt=Ye=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=zx,f=i(a,l)}while(Ka);return f}function Mx(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?El(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ne.flags|=1024),i}function gf(){var n=Tc!==0;return Tc=0,n}function pf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function yf(n){if(Ec){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ec=!1}Ci=0,Tt=Ye=Ne=null,Ka=!1,bl=Tc=0,Qa=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ne.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function wt(){if(Ye===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=Tt===null?Ne.memoizedState:Tt.next;if(i!==null)Tt=i,Ye=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Tt===null?Ne.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(n){var i=bl;return bl+=1,Qa===null&&(Qa=[]),n=yy(Qa,n,i),i=Ne,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?s0:a0),n}function wc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return El(n);if(n.$$typeof===ee)return Jt(n)}throw Error(s(438,String(n)))}function _f(n){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vf(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function Wr(n,i){return typeof i=="function"?i(n):i}function xc(n){var i=wt();return bf(i,Ye,n)}function bf(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var b=d.next;d.next=f.next,f.next=b}i.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{i=d.next;var T=b=null,N=null,H=i,W=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Le&te)===te:(Ci&te)===te){var $=H.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Ha&&(W=!0);else if((Ci&$)===$){H=H.next,$===Ha&&(W=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=te,b=f):N=N.next=te,Ne.lanes|=$,Pi|=$;te=H.action,Zs&&a(f,te),f=H.hasEagerState?H.eagerState:a(f,te)}else $={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=$,b=f):N=N.next=$,Ne.lanes|=te,Pi|=te;H=H.next}while(H!==null&&H!==i);if(N===null?b=f:N.next=T,!bn(f,n.memoizedState)&&(Lt=!0,W&&(a=Ga,a!==null)))throw a;n.memoizedState=f,n.baseState=b,n.baseQueue=N,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Ef(n){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do f=n(f,b.action),b=b.next;while(b!==d);bn(f,i.memoizedState)||(Lt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Ay(n,i,a){var l=Ne,d=wt(),f=qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!bn((Ye||d).memoizedState,a);b&&(d.memoizedState=a,Lt=!0),d=d.queue;var T=Ny.bind(null,l,d,n);if(Tl(2048,8,T,[n]),d.getSnapshot!==i||b||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Ac(),Ry.bind(null,l,d,a,i),null),nt===null)throw Error(s(349));f||(Ci&124)!==0||Sy(l,i,a)}return a}function Sy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=vf(),Ne.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ry(n,i,a,l){i.value=a,i.getSnapshot=l,Cy(i)&&Iy(n)}function Ny(n,i,a){return a(function(){Cy(i)&&Iy(n)})}function Cy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!bn(n,a)}catch{return!0}}function Iy(n){var i=za(n,2);i!==null&&Sn(i,n,2)}function Tf(n){var i=dn();if(typeof n=="function"){var a=n;if(n=a(),Zs){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:n},i}function ky(n,i,a,l){return n.baseState=a,bf(n,Ye,typeof l=="function"?l:Wr)}function Vx(n,i,a,l,d){if(Rc(n))throw Error(s(485));if(n=i.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Dy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Dy(n,i){var a=i.action,l=i.payload,d=n.state;if(i.isTransition){var f=X.T,b={};X.T=b;try{var T=a(d,l),N=X.S;N!==null&&N(b,T),Oy(n,i,T)}catch(H){wf(n,i,H)}finally{X.T=f}}else try{f=a(d,l),Oy(n,i,f)}catch(H){wf(n,i,H)}}function Oy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){My(n,i,l)},function(l){return wf(n,i,l)}):My(n,i,a)}function My(n,i,a){i.status="fulfilled",i.value=a,Vy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Dy(n,a)))}function wf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Vy(i),i=i.next;while(i!==l)}n.action=null}function Vy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Py(n,i){return i}function jy(n,i){if(qe){var a=nt.formState;if(a!==null){e:{var l=Ne;if(qe){if(ct){t:{for(var d=ct,f=pr;d.nodeType!==8;){if(!f){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ct=Wn(d.nextSibling),l=d.data==="F!";break e}}Qs(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:i},a.queue=l,a=n0.bind(null,Ne,l),l.dispatch=a,l=Tf(!1),f=Nf.bind(null,Ne,!1,l.queue),l=dn(),d={state:i,dispatch:null,action:n,pending:null},l.queue=d,a=Vx.bind(null,Ne,d,f,a),d.dispatch=a,l.memoizedState=n,[i,a,!1]}function Ly(n){var i=wt();return Uy(i,Ye,n)}function Uy(n,i,a){if(i=bf(n,i,Py)[0],n=xc(Wr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(b){throw b===gl?vc:b}else l=i;i=wt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ya(9,Ac(),Px.bind(null,d,a),null)),[l,f,n]}function Px(n,i){n.action=i}function zy(n){var i=wt(),a=Ye;if(a!==null)return Uy(i,a,n);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ya(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=vf(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Ac(){return{destroy:void 0,resource:void 0}}function By(){return wt().memoizedState}function Sc(n,i,a,l){var d=dn();l=l===void 0?null:l,Ne.flags|=n,d.memoizedState=Ya(1|i,Ac(),a,l)}function Tl(n,i,a,l){var d=wt();l=l===void 0?null:l;var f=d.memoizedState.inst;Ye!==null&&l!==null&&ff(l,Ye.memoizedState.deps)?d.memoizedState=Ya(i,f,a,l):(Ne.flags|=n,d.memoizedState=Ya(1|i,f,a,l))}function qy(n,i){Sc(8390656,8,n,i)}function Fy(n,i){Tl(2048,8,n,i)}function Hy(n,i){return Tl(4,2,n,i)}function Gy(n,i){return Tl(4,4,n,i)}function $y(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ky(n,i,a){a=a!=null?a.concat([n]):null,Tl(4,4,$y.bind(null,i,n),a)}function xf(){}function Qy(n,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ff(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Yy(n,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ff(i,l[1]))return l[0];if(l=n(),Zs){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Af(n,i,a){return a===void 0||(Ci&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Z0(),Ne.lanes|=n,Pi|=n,a)}function Xy(n,i,a,l){return bn(a,i)?a:$a.current!==null?(n=Af(n,a,l),bn(n,i)||(Lt=!0),n):(Ci&42)===0?(Lt=!0,n.memoizedState=a):(n=Z0(),Ne.lanes|=n,Pi|=n,i)}function Wy(n,i,a,l,d){var f=le.p;le.p=f!==0&&8>f?f:8;var b=X.T,T={};X.T=T,Nf(n,!1,i,a);try{var N=d(),H=X.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=Dx(N,l);wl(n,i,W,An(n))}else wl(n,i,l,An(n))}catch(te){wl(n,i,{then:function(){},status:"rejected",reason:te},An())}finally{le.p=f,X.T=b}}function jx(){}function Sf(n,i,a,l){if(n.tag!==5)throw Error(s(476));var d=Zy(n).queue;Wy(n,d,i,pe,a===null?jx:function(){return Jy(n),a(l)})}function Zy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Jy(n){var i=Zy(n).next.queue;wl(n,i,{},An())}function Rf(){return Jt(Bl)}function e0(){return wt().memoizedState}function t0(){return wt().memoizedState}function Lx(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();n=Ri(a);var l=Ni(i,n,a);l!==null&&(Sn(l,i,a),yl(l,i,a)),i={cache:nf()},n.payload=i;return}i=i.return}}function Ux(n,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(n)?r0(i,a):(a=$d(n,i,a,l),a!==null&&(Sn(a,n,l),i0(a,i,l)))}function n0(n,i,a){var l=An();wl(n,i,a,l)}function wl(n,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(n))r0(i,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var b=i.lastRenderedState,T=f(b,a);if(d.hasEagerState=!0,d.eagerState=T,bn(T,b))return cc(n,i,d,0),nt===null&&uc(),!1}catch{}finally{}if(a=$d(n,i,d,l),a!==null)return Sn(a,n,l),i0(a,i,l),!0}return!1}function Nf(n,i,a,l){if(l={lane:2,revertLane:am(),action:l,hasEagerState:!1,eagerState:null,next:null},Rc(n)){if(i)throw Error(s(479))}else i=$d(n,a,l,2),i!==null&&Sn(i,n,2)}function Rc(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function r0(n,i){Ka=Ec=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function i0(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Go(n,a)}}var Nc={readContext:Jt,use:wc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},s0={readContext:Jt,use:wc,useCallback:function(n,i){return dn().memoizedState=[n,i===void 0?null:i],n},useContext:Jt,useEffect:qy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Sc(4194308,4,$y.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Sc(4194308,4,n,i)},useInsertionEffect:function(n,i){Sc(4,2,n,i)},useMemo:function(n,i){var a=dn();i=i===void 0?null:i;var l=n();if(Zs){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=dn();if(a!==void 0){var d=a(i);if(Zs){vn(!0);try{a(i)}finally{vn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=Ux.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=dn();return n={current:n},i.memoizedState=n},useState:function(n){n=Tf(n);var i=n.queue,a=n0.bind(null,Ne,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(n,i){var a=dn();return Af(a,n,i)},useTransition:function(){var n=Tf(!1);return n=Wy.bind(null,Ne,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ne,d=dn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Le&124)!==0||Sy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,qy(Ny.bind(null,l,f,n),[n]),l.flags|=2048,Ya(9,Ac(),Ry.bind(null,l,f,a,i),null),a},useId:function(){var n=dn(),i=nt.identifierPrefix;if(qe){var a=Qr,l=Kr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Tc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Ox++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Rf,useFormState:jy,useActionState:jy,useOptimistic:function(n){var i=dn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Nf.bind(null,Ne,!0,a),a.dispatch=i,[n,i]},useMemoCache:_f,useCacheRefresh:function(){return dn().memoizedState=Lx.bind(null,Ne)}},a0={readContext:Jt,use:wc,useCallback:Qy,useContext:Jt,useEffect:Fy,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Gy,useMemo:Yy,useReducer:xc,useRef:By,useState:function(){return xc(Wr)},useDebugValue:xf,useDeferredValue:function(n,i){var a=wt();return Xy(a,Ye.memoizedState,n,i)},useTransition:function(){var n=xc(Wr)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:El(n),i]},useSyncExternalStore:Ay,useId:e0,useHostTransitionStatus:Rf,useFormState:Ly,useActionState:Ly,useOptimistic:function(n,i){var a=wt();return ky(a,Ye,n,i)},useMemoCache:_f,useCacheRefresh:t0},zx={readContext:Jt,use:wc,useCallback:Qy,useContext:Jt,useEffect:Fy,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Gy,useMemo:Yy,useReducer:Ef,useRef:By,useState:function(){return Ef(Wr)},useDebugValue:xf,useDeferredValue:function(n,i){var a=wt();return Ye===null?Af(a,n,i):Xy(a,Ye.memoizedState,n,i)},useTransition:function(){var n=Ef(Wr)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:El(n),i]},useSyncExternalStore:Ay,useId:e0,useHostTransitionStatus:Rf,useFormState:zy,useActionState:zy,useOptimistic:function(n,i){var a=wt();return Ye!==null?ky(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:t0},Xa=null,xl=0;function Cc(n){var i=xl;return xl+=1,Xa===null&&(Xa=[]),yy(Xa,n,i)}function Al(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ic(n,i){throw i.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function o0(n){var i=n._init;return i(n._payload)}function l0(n){function i(L,V){if(n){var q=L.deletions;q===null?(L.deletions=[V],L.flags|=16):q.push(V)}}function a(L,V){if(!n)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function d(L,V){return L=$r(L,V),L.index=0,L.sibling=null,L}function f(L,V,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<V?(L.flags|=67108866,V):q):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function b(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,q,Z){return V===null||V.tag!==6?(V=Qd(q,L.mode,Z),V.return=L,V):(V=d(V,q),V.return=L,V)}function N(L,V,q,Z){var me=q.type;return me===I?W(L,V,q.props.children,Z,q.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&o0(me)===V.type)?(V=d(V,q.props),Al(V,q),V.return=L,V):(V=dc(q.type,q.key,q.props,null,L.mode,Z),Al(V,q),V.return=L,V)}function H(L,V,q,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Yd(q,L.mode,Z),V.return=L,V):(V=d(V,q.children||[]),V.return=L,V)}function W(L,V,q,Z,me){return V===null||V.tag!==7?(V=Hs(q,L.mode,Z,me),V.return=L,V):(V=d(V,q),V.return=L,V)}function te(L,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qd(""+V,L.mode,q),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return q=dc(V.type,V.key,V.props,null,L.mode,q),Al(q,V),q.return=L,q;case D:return V=Yd(V,L.mode,q),V.return=L,V;case S:var Z=V._init;return V=Z(V._payload),te(L,V,q)}if(ue(V)||U(V))return V=Hs(V,L.mode,q,null),V.return=L,V;if(typeof V.then=="function")return te(L,Cc(V),q);if(V.$$typeof===ee)return te(L,pc(L,V),q);Ic(L,V)}return null}function $(L,V,q,Z){var me=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:T(L,V,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===me?N(L,V,q,Z):null;case D:return q.key===me?H(L,V,q,Z):null;case S:return me=q._init,q=me(q._payload),$(L,V,q,Z)}if(ue(q)||U(q))return me!==null?null:W(L,V,q,Z,null);if(typeof q.then=="function")return $(L,V,Cc(q),Z);if(q.$$typeof===ee)return $(L,V,pc(L,q),Z);Ic(L,q)}return null}function Q(L,V,q,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(V,L,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?q:Z.key)||null,N(V,L,Z,me);case D:return L=L.get(Z.key===null?q:Z.key)||null,H(V,L,Z,me);case S:var ke=Z._init;return Z=ke(Z._payload),Q(L,V,q,Z,me)}if(ue(Z)||U(Z))return L=L.get(q)||null,W(V,L,Z,me,null);if(typeof Z.then=="function")return Q(L,V,q,Cc(Z),me);if(Z.$$typeof===ee)return Q(L,V,q,pc(V,Z),me);Ic(V,Z)}return null}function we(L,V,q,Z){for(var me=null,ke=null,ge=V,be=V=0,zt=null;ge!==null&&be<q.length;be++){ge.index>be?(zt=ge,ge=null):zt=ge.sibling;var ze=$(L,ge,q[be],Z);if(ze===null){ge===null&&(ge=zt);break}n&&ge&&ze.alternate===null&&i(L,ge),V=f(ze,V,be),ke===null?me=ze:ke.sibling=ze,ke=ze,ge=zt}if(be===q.length)return a(L,ge),qe&&$s(L,be),me;if(ge===null){for(;be<q.length;be++)ge=te(L,q[be],Z),ge!==null&&(V=f(ge,V,be),ke===null?me=ge:ke.sibling=ge,ke=ge);return qe&&$s(L,be),me}for(ge=l(ge);be<q.length;be++)zt=Q(ge,L,be,q[be],Z),zt!==null&&(n&&zt.alternate!==null&&ge.delete(zt.key===null?be:zt.key),V=f(zt,V,be),ke===null?me=zt:ke.sibling=zt,ke=zt);return n&&ge.forEach(function(Gi){return i(L,Gi)}),qe&&$s(L,be),me}function _e(L,V,q,Z){if(q==null)throw Error(s(151));for(var me=null,ke=null,ge=V,be=V=0,zt=null,ze=q.next();ge!==null&&!ze.done;be++,ze=q.next()){ge.index>be?(zt=ge,ge=null):zt=ge.sibling;var Gi=$(L,ge,ze.value,Z);if(Gi===null){ge===null&&(ge=zt);break}n&&ge&&Gi.alternate===null&&i(L,ge),V=f(Gi,V,be),ke===null?me=Gi:ke.sibling=Gi,ke=Gi,ge=zt}if(ze.done)return a(L,ge),qe&&$s(L,be),me;if(ge===null){for(;!ze.done;be++,ze=q.next())ze=te(L,ze.value,Z),ze!==null&&(V=f(ze,V,be),ke===null?me=ze:ke.sibling=ze,ke=ze);return qe&&$s(L,be),me}for(ge=l(ge);!ze.done;be++,ze=q.next())ze=Q(ge,L,be,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&ge.delete(ze.key===null?be:ze.key),V=f(ze,V,be),ke===null?me=ze:ke.sibling=ze,ke=ze);return n&&ge.forEach(function(B1){return i(L,B1)}),qe&&$s(L,be),me}function We(L,V,q,Z){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var me=q.key;V!==null;){if(V.key===me){if(me=q.type,me===I){if(V.tag===7){a(L,V.sibling),Z=d(V,q.props.children),Z.return=L,L=Z;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&o0(me)===V.type){a(L,V.sibling),Z=d(V,q.props),Al(Z,q),Z.return=L,L=Z;break e}a(L,V);break}else i(L,V);V=V.sibling}q.type===I?(Z=Hs(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=dc(q.type,q.key,q.props,null,L.mode,Z),Al(Z,q),Z.return=L,L=Z)}return b(L);case D:e:{for(me=q.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(L,V.sibling),Z=d(V,q.children||[]),Z.return=L,L=Z;break e}else{a(L,V);break}else i(L,V);V=V.sibling}Z=Yd(q,L.mode,Z),Z.return=L,L=Z}return b(L);case S:return me=q._init,q=me(q._payload),We(L,V,q,Z)}if(ue(q))return we(L,V,q,Z);if(U(q)){if(me=U(q),typeof me!="function")throw Error(s(150));return q=me.call(q),_e(L,V,q,Z)}if(typeof q.then=="function")return We(L,V,Cc(q),Z);if(q.$$typeof===ee)return We(L,V,pc(L,q),Z);Ic(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(L,V.sibling),Z=d(V,q),Z.return=L,L=Z):(a(L,V),Z=Qd(q,L.mode,Z),Z.return=L,L=Z),b(L)):a(L,V)}return function(L,V,q,Z){try{xl=0;var me=We(L,V,q,Z);return Xa=null,me}catch(ge){if(ge===gl||ge===vc)throw ge;var ke=En(29,ge,null,L.mode);return ke.lanes=Z,ke.return=L,ke}finally{}}}var Wa=l0(!0),u0=l0(!1),Un=re(null),yr=null;function Ii(n){var i=n.alternate;se(Ot,Ot.current&1),se(Un,n),yr===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(yr=n)}function c0(n){if(n.tag===22){if(se(Ot,Ot.current),se(Un,n),yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(yr=n)}}else ki()}function ki(){se(Ot,Ot.current),se(Un,Un.current)}function Zr(n){ce(Un),yr===n&&(yr=null),ce(Ot)}var Ot=re(0);function kc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cf(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var If={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=An(),d=Ri(l);d.payload=i,a!=null&&(d.callback=a),i=Ni(n,d,l),i!==null&&(Sn(i,n,l),yl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=An(),d=Ri(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ni(n,d,l),i!==null&&(Sn(i,n,l),yl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=An(),l=Ri(a);l.tag=2,i!=null&&(l.callback=i),i=Ni(n,l,a),i!==null&&(Sn(i,n,a),yl(i,n,a))}};function h0(n,i,a,l,d,f,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,b):i.prototype&&i.prototype.isPureReactComponent?!ol(a,l)||!ol(d,f):!0}function d0(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&If.enqueueReplaceState(i,i.state,null)}function Js(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function f0(n){Dc(n)}function m0(n){console.error(n)}function g0(n){Dc(n)}function Oc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function p0(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function kf(n,i,a){return a=Ri(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(n,i)},a}function y0(n){return n=Ri(n),n.tag=3,n}function v0(n,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){p0(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){p0(i,a,l),typeof d!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Bx(n,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,d,!0),a=Un.current,a!==null){switch(a.tag){case 13:return yr===null?tm():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rm(n,l,d)),!1;case 22:return a.flags|=65536,l===af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rm(n,l,d)),!1}throw Error(s(435,a.tag))}return rm(n,l,d),tm(),!1}if(qe)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Zd&&(n=Error(s(422),{cause:l}),hl(Vn(n,a)))):(l!==Zd&&(i=Error(s(423),{cause:l}),hl(Vn(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Vn(l,a),d=kf(n.stateNode,l,d),uf(n,d),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:l});if(f=Vn(f,a),Dl===null?Dl=[f]:Dl.push(f),ht!==4&&(ht=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=kf(a.stateNode,l,n),uf(a,n),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ji===null||!ji.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=y0(d),v0(d,n,a,l),uf(a,d),!1}a=a.return}while(a!==null);return!1}var _0=Error(s(461)),Lt=!1;function Gt(n,i,a,l){i.child=n===null?u0(i,null,a,l):Wa(i,n.child,a,l)}function b0(n,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Xs(i),l=mf(n,i,a,b,f,d),T=gf(),n!==null&&!Lt?(pf(n,i,d),Jr(n,i,d)):(qe&&T&&Xd(i),i.flags|=1,Gt(n,i,l,d),i.child)}function E0(n,i,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!Kd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,T0(n,i,f,l,d)):(n=dc(a.type,null,l,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,!Uf(n,d)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(b,l)&&n.ref===i.ref)return Jr(n,i,d)}return i.flags|=1,n=$r(f,l),n.ref=i.ref,n.return=i,i.child=n}function T0(n,i,a,l,d){if(n!==null){var f=n.memoizedProps;if(ol(f,l)&&n.ref===i.ref)if(Lt=!1,i.pendingProps=l=f,Uf(n,d))(n.flags&131072)!==0&&(Lt=!0);else return i.lanes=n.lanes,Jr(n,i,d)}return Df(n,i,a,l,d)}function w0(n,i,a){var l=i.pendingProps,d=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(d=i.child=n.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return x0(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&yc(i,f!==null?f.cachePool:null),f!==null?Ty(i,f):hf(),c0(i);else return i.lanes=i.childLanes=536870912,x0(n,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(yc(i,f.cachePool),Ty(i,f),ki(),i.memoizedState=null):(n!==null&&yc(i,null),hf(),ki());return Gt(n,i,d,a),i.child}function x0(n,i,a,l){var d=sf();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&yc(i,null),hf(),c0(i),n!==null&&dl(n,i,l,!0),null}function Mc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Df(n,i,a,l,d){return Xs(i),a=mf(n,i,a,l,void 0,d),l=gf(),n!==null&&!Lt?(pf(n,i,d),Jr(n,i,d)):(qe&&l&&Xd(i),i.flags|=1,Gt(n,i,a,d),i.child)}function A0(n,i,a,l,d,f){return Xs(i),i.updateQueue=null,a=xy(i,l,a,d),wy(n),l=gf(),n!==null&&!Lt?(pf(n,i,f),Jr(n,i,f)):(qe&&l&&Xd(i),i.flags|=1,Gt(n,i,a,f),i.child)}function S0(n,i,a,l,d){if(Xs(i),i.stateNode===null){var f=Ba,b=a.contextType;typeof b=="object"&&b!==null&&(f=Jt(b)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},of(i),b=a.contextType,f.context=typeof b=="object"&&b!==null?Jt(b):Ba,f.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Cf(i,a,b,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&If.enqueueReplaceState(f,f.state,null),_l(i,l,f,d),vl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){f=i.stateNode;var T=i.memoizedProps,N=Js(a,T);f.props=N;var H=f.context,W=a.contextType;b=Ba,typeof W=="object"&&W!==null&&(b=Jt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==b)&&d0(i,f,l,b),Si=!1;var $=i.memoizedState;f.state=$,_l(i,l,f,d),vl(),H=i.memoizedState,T||$!==H||Si?(typeof te=="function"&&(Cf(i,a,te,l),H=i.memoizedState),(N=Si||h0(i,a,N,l,$,H,b))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=b,l=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,lf(n,i),b=i.memoizedProps,W=Js(a,b),f.props=W,te=i.pendingProps,$=f.context,H=a.contextType,N=Ba,typeof H=="object"&&H!==null&&(N=Jt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==te||$!==N)&&d0(i,f,l,N),Si=!1,$=i.memoizedState,f.state=$,_l(i,l,f,d),vl();var Q=i.memoizedState;b!==te||$!==Q||Si||n!==null&&n.dependencies!==null&&gc(n.dependencies)?(typeof T=="function"&&(Cf(i,a,T,l),Q=i.memoizedState),(W=Si||h0(i,a,W,l,$,Q,N)||n!==null&&n.dependencies!==null&&gc(n.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),f.props=l,f.state=Q,f.context=N,l=W):(typeof f.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),l=!1)}return f=l,Mc(n,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,n!==null&&l?(i.child=Wa(i,n.child,null,d),i.child=Wa(i,null,a,d)):Gt(n,i,a,d),i.memoizedState=f.state,n=i.child):n=Jr(n,i,d),n}function R0(n,i,a,l){return cl(),i.flags|=256,Gt(n,i,a,l),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(n){return{baseLanes:n,cachePool:my()}}function Vf(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=zn),n}function N0(n,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,b;if((b=f)||(b=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(d?Ii(i):ki(),qe){var T=ct,N;if(N=T){e:{for(N=T,T=pr;N.nodeType!==8;){if(!T){T=null;break e}if(N=Wn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:Gs!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},N=En(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,un=i,ct=null,N=!0):N=!1}N||Qs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return vm(T)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return T=l.children,l=l.fallback,d?(ki(),d=i.mode,T=Vc({mode:"hidden",children:T},d),l=Hs(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,d=i.child,d.memoizedState=Mf(a),d.childLanes=Vf(n,b,a),i.memoizedState=Of,l):(Ii(i),Pf(i,T))}if(N=n.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(f)i.flags&256?(Ii(i),i.flags&=-257,i=jf(n,i,a)):i.memoizedState!==null?(ki(),i.child=n.child,i.flags|=128,i=null):(ki(),d=l.fallback,T=i.mode,l=Vc({mode:"visible",children:l.children},T),d=Hs(d,T,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,Wa(i,n.child,null,a),l=i.child,l.memoizedState=Mf(a),l.childLanes=Vf(n,b,a),i.memoizedState=Of,i=d);else if(Ii(i),vm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(s(419)),l.stack="",l.digest=b,hl({value:l,source:null,stack:null}),i=jf(n,i,a)}else if(Lt||dl(n,i,a,!1),b=(a&n.childLanes)!==0,Lt||b){if(b=nt,b!==null&&(l=a&-a,l=(l&42)!==0?1:vi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,za(n,l),Sn(b,n,l),_0;T.data==="$?"||tm(),i=jf(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,ct=Wn(T.nextSibling),un=i,qe=!0,Ks=null,pr=!1,n!==null&&(jn[Ln++]=Kr,jn[Ln++]=Qr,jn[Ln++]=Gs,Kr=n.id,Qr=n.overflow,Gs=i),i=Pf(i,l.children),i.flags|=4096);return i}return d?(ki(),d=l.fallback,T=i.mode,N=n.child,H=N.sibling,l=$r(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?d=$r(H,d):(d=Hs(d,T,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,T=n.child.memoizedState,T===null?T=Mf(a):(N=T.cachePool,N!==null?(H=Dt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=my(),T={baseLanes:T.baseLanes|a,cachePool:N}),d.memoizedState=T,d.childLanes=Vf(n,b,a),i.memoizedState=Of,l):(Ii(i),a=n.child,n=a.sibling,a=$r(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=a,i.memoizedState=null,a)}function Pf(n,i){return i=Vc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Vc(n,i){return n=En(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function jf(n,i,a){return Wa(i,n.child,null,a),n=Pf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function C0(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),ef(n.return,i,a)}function Lf(n,i,a,l,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function I0(n,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;if(Gt(n,i,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&C0(n,a,i);else if(n.tag===19)C0(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ot,l),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Lf(i,!1,d,a,f);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&kc(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Lf(i,!0,a,null,f);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Pi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(dl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=$r(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=$r(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Uf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gc(n)))}function qx(n,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),Ai(i,Dt,n.memoizedState.cache),cl();break;case 27:case 5:yi(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:Ai(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ii(i),i.flags|=128,null):(a&i.child.childLanes)!==0?N0(n,i,a):(Ii(i),n=Jr(n,i,a),n!==null?n.sibling:null);Ii(i);break;case 19:var d=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(n,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return I0(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return i.lanes=0,w0(n,i,a);case 24:Ai(i,Dt,n.memoizedState.cache)}return Jr(n,i,a)}function k0(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Uf(n,a)&&(i.flags&128)===0)return Lt=!1,qx(n,i,a);Lt=(n.flags&131072)!==0}else Lt=!1,qe&&(i.flags&1048576)!==0&&oy(i,mc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Kd(l)?(n=Js(l,n),i.tag=1,i=S0(null,i,l,n,a)):(i.tag=0,i=Df(null,i,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===ie){i.tag=11,i=b0(null,i,l,n,a);break e}else if(d===k){i.tag=14,i=E0(null,i,l,n,a);break e}}throw i=Nt(l)||l,Error(s(306,i,""))}}return i;case 0:return Df(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Js(l,i.pendingProps),S0(n,i,l,d,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,lf(n,i),_l(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Ai(i,Dt,l),l!==f.cache&&tf(i,[Dt],a,!0),vl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=R0(n,i,l,a);break e}else if(l!==d){d=Vn(Error(s(424)),i),hl(d),i=R0(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=Wn(n.firstChild),un=i,qe=!0,Ks=null,pr=!0,a=u0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cl(),l===d){i=Jr(n,i,a);break e}Gt(n,i,l,a)}i=i.child}return i;case 26:return Mc(n,i),n===null?(a=Vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,n=i.pendingProps,l=Yc(xe.current).createElement(a),l[Ct]=i,l[bt]=n,Kt(l,a,n),pt(l),i.stateNode=l):i.memoizedState=Vv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return yi(i),n===null&&qe&&(l=i.stateNode=Dv(i.type,i.pendingProps,xe.current),un=i,pr=!0,d=ct,zi(i.type)?(_m=d,ct=Wn(l.firstChild)):ct=d),Gt(n,i,i.pendingProps.children,a),Mc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((d=l=ct)&&(l=p1(l,i.type,i.pendingProps,pr),l!==null?(i.stateNode=l,un=i,ct=Wn(l.firstChild),pr=!1,d=!0):d=!1),d||Qs(i)),yi(i),d=i.type,f=i.pendingProps,b=n!==null?n.memoizedProps:null,l=f.children,gm(d,f)?l=null:b!==null&&gm(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=mf(n,i,Mx,null,null,a),Bl._currentValue=d),Mc(n,i),Gt(n,i,l,a),i.child;case 6:return n===null&&qe&&((n=a=ct)&&(a=y1(a,i.pendingProps,pr),a!==null?(i.stateNode=a,un=i,ct=null,n=!0):n=!1),n||Qs(i)),null;case 13:return N0(n,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Wa(i,null,l,a):Gt(n,i,l,a),i.child;case 11:return b0(n,i,i.type,i.pendingProps,a);case 7:return Gt(n,i,i.pendingProps,a),i.child;case 8:return Gt(n,i,i.pendingProps.children,a),i.child;case 12:return Gt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ai(i,i.type,l.value),Gt(n,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Xs(i),d=Jt(d),l=l(d),i.flags|=1,Gt(n,i,l,a),i.child;case 14:return E0(n,i,i.type,i.pendingProps,a);case 15:return T0(n,i,i.type,i.pendingProps,a);case 19:return I0(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Vc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=$r(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return w0(n,i,a);case 24:return Xs(i),l=Jt(Dt),n===null?(d=sf(),d===null&&(d=nt,f=nf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},of(i),Ai(i,Dt,d)):((n.lanes&a)!==0&&(lf(n,i),_l(i,null,null,a),vl()),d=n.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ai(i,Dt,l)):(l=f.cache,Ai(i,Dt,l),l!==d.cache&&tf(i,[Dt],a,!0))),Gt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ei(n){n.flags|=4}function D0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zv(i)){if(i=Un.current,i!==null&&((Le&4194048)===Le?yr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==yr))throw pl=af,gy;n.flags|=8192}}function Pc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Fo():536870912,n.lanes|=i,to|=i)}function Sl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function Fx(n,i,a){var l=i.pendingProps;switch(Wd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xr(Dt),ir(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ul(i)?ei(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cy())),ot(i),null;case 26:return a=i.memoizedState,n===null?(ei(i),a!==null?(ot(i),D0(i,a)):(ot(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ei(i),ot(i),D0(i,a)):(ot(i),i.flags&=-16777217):(n.memoizedProps!==l&&ei(i),ot(i),i.flags&=-16777217),null;case 27:Or(i),a=xe.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}n=ve.current,ul(i)?ly(i):(n=Dv(d,l,a),i.stateNode=n,ei(i))}return ot(i),null;case 5:if(Or(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(n=ve.current,ul(i))ly(i);else{switch(d=Yc(xe.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Ct]=i,n[bt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(Kt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ei(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=xe.current,ul(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,d=un,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Ct]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Av(n.nodeValue,a)),n||Qs(i)}else n=Yc(n).createTextNode(l),n[Ct]=i,i.stateNode=n}return ot(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=ul(i),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),d=!1}else d=cy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Pc(i,i.updateQueue),ot(i),null;case 4:return ir(),n===null&&cm(i.stateNode.containerInfo),ot(i),null;case 10:return Xr(i.type),ot(i),null;case 19:if(ce(Ot),d=i.memoizedState,d===null)return ot(i),null;if(l=(i.flags&128)!==0,f=d.rendering,f===null)if(l)Sl(d,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(f=kc(n),f!==null){for(i.flags|=128,Sl(d,!1),n=f.updateQueue,i.updateQueue=n,Pc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ay(a,n),a=a.sibling;return se(Ot,Ot.current&1|2),i.child}n=n.sibling}d.tail!==null&&Cn()>Uc&&(i.flags|=128,l=!0,Sl(d,!1),i.lanes=4194304)}else{if(!l)if(n=kc(f),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Pc(i,n),Sl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!qe)return ot(i),null}else 2*Cn()-d.renderingStartTime>Uc&&a!==536870912&&(i.flags|=128,l=!0,Sl(d,!1),i.lanes=4194304);d.isBackwards?(f.sibling=i.child,i.child=f):(n=d.last,n!==null?n.sibling=f:i.child=f,d.last=f)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Cn(),i.sibling=null,n=Ot.current,se(Ot,l?n&1|2:n&1),i):(ot(i),null);case 22:case 23:return Zr(i),df(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Pc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ce(Ws),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xr(Dt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Hx(n,i){switch(Wd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Xr(Dt),ir(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Or(i),null;case 13:if(Zr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ce(Ot),null;case 4:return ir(),null;case 10:return Xr(i.type),null;case 22:case 23:return Zr(i),df(),n!==null&&ce(Ws),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Xr(Dt),null;case 25:return null;default:return null}}function O0(n,i){switch(Wd(i),i.tag){case 3:Xr(Dt),ir();break;case 26:case 27:case 5:Or(i);break;case 4:ir();break;case 13:Zr(i);break;case 19:ce(Ot);break;case 10:Xr(i.type);break;case 22:case 23:Zr(i),df(),n!==null&&ce(Ws);break;case 24:Xr(Dt)}}function Rl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==d)}}catch(T){Ze(i,i.return,T)}}function Di(n,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=i;var N=a,H=T;try{H()}catch(W){Ze(d,N,W)}}}l=l.next}while(l!==f)}}catch(W){Ze(i,i.return,W)}}function M0(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Ey(i,a)}catch(l){Ze(n,n.return,l)}}}function V0(n,i,a){a.props=Js(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,i,l)}}function Nl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){Ze(n,i,d)}}function vr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ze(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ze(n,i,d)}else a.current=null}function P0(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ze(n,n.return,d)}}function zf(n,i,a){try{var l=n.stateNode;h1(l,n.type,a,i),l[bt]=i}catch(d){Ze(n,n.return,d)}}function j0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function Bf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||j0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qc));else if(l!==4&&(l===27&&zi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(qf(n,i,a),n=n.sibling;n!==null;)qf(n,i,a),n=n.sibling}function jc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&zi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(jc(n,i,a),n=n.sibling;n!==null;)jc(n,i,a),n=n.sibling}function L0(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Kt(i,l,a),i[Ct]=n,i[bt]=a}catch(f){Ze(n,n.return,f)}}var ti=!1,vt=!1,Ff=!1,U0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Gx(n,i){if(n=n.containerInfo,fm=th,n=Xp(n),zd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,T=-1,N=-1,H=0,W=0,te=n,$=null;t:for(;;){for(var Q;te!==a||d!==0&&te.nodeType!==3||(T=b+d),te!==f||l!==0&&te.nodeType!==3||(N=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)$=te,te=Q;for(;;){if(te===n)break t;if($===a&&++H===d&&(T=b),$===f&&++W===l&&(N=b),(Q=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Q}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:n,selectionRange:a},th=!1,Ut=i;Ut!==null;)if(i=Ut,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ut=n;else for(;Ut!==null;){switch(i=Ut,f=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var we=Js(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ut=n;break}Ut=i.return}}function z0(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(n,a),l&4&&Rl(5,a);break;case 1:if(Oi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(b){Ze(a,a.return,b)}else{var d=Js(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Ze(a,a.return,b)}}l&64&&M0(a),l&512&&Nl(a,a.return);break;case 3:if(Oi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ey(n,i)}catch(b){Ze(a,a.return,b)}}break;case 27:i===null&&l&4&&L0(a);case 26:case 5:Oi(n,a),i===null&&l&4&&P0(a),l&512&&Nl(a,a.return);break;case 12:Oi(n,a);break;case 13:Oi(n,a),l&4&&F0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=e1.bind(null,a),v1(n,a))));break;case 22:if(l=a.memoizedState!==null||ti,!l){i=i!==null&&i.memoizedState!==null||vt,d=ti;var f=vt;ti=l,(vt=i)&&!f?Mi(n,a,(a.subtreeFlags&8772)!==0):Oi(n,a),ti=d,vt=f}break;case 30:break;default:Oi(n,a)}}function B0(n){var i=n.alternate;i!==null&&(n.alternate=null,B0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ei(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,fn=!1;function ni(n,i,a){for(a=a.child;a!==null;)q0(n,i,a),a=a.sibling}function q0(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:vt||vr(a,i),ni(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||vr(a,i);var l=st,d=fn;zi(a.type)&&(st=a.stateNode,fn=!1),ni(n,i,a),jl(a.stateNode),st=l,fn=d;break;case 5:vt||vr(a,i);case 6:if(l=st,d=fn,st=null,ni(n,i,a),st=l,fn=d,st!==null)if(fn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(f){Ze(a,i,f)}else try{st.removeChild(a.stateNode)}catch(f){Ze(a,i,f)}break;case 18:st!==null&&(fn?(n=st,Iv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Gl(n)):Iv(st,a.stateNode));break;case 4:l=st,d=fn,st=a.stateNode.containerInfo,fn=!0,ni(n,i,a),st=l,fn=d;break;case 0:case 11:case 14:case 15:vt||Di(2,a,i),vt||Di(4,a,i),ni(n,i,a);break;case 1:vt||(vr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V0(a,i,l)),ni(n,i,a);break;case 21:ni(n,i,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,ni(n,i,a),vt=l;break;default:ni(n,i,a)}}function F0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(a){Ze(i,i.return,a)}}function $x(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new U0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new U0),i;default:throw Error(s(435,n.tag))}}function Hf(n,i){var a=$x(n);i.forEach(function(l){var d=t1.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Tn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(zi(T.type)){st=T.stateNode,fn=!1;break e}break;case 5:st=T.stateNode,fn=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(st===null)throw Error(s(160));q0(f,b,d),st=null,fn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)H0(i,n),i=i.sibling}var Xn=null;function H0(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(i,n),wn(n),l&4&&(Di(3,n,n.return),Rl(3,n),Di(5,n,n.return));break;case 1:Tn(i,n),wn(n),l&512&&(vt||a===null||vr(a,a.return)),l&64&&ti&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Xn;if(Tn(i,n),wn(n),l&512&&(vt||a===null||vr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ns]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Kt(f,l,a),f[Ct]=n,pt(f),l=f;break e;case"link":var b=Lv("link","href",d).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;case"meta":if(b=Lv("meta","content",d).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=n,pt(f),l=f}n.stateNode=l}else Uv(d,n.type,n.stateNode);else n.stateNode=jv(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Uv(d,n.type,n.stateNode):jv(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&zf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,n),wn(n),l&512&&(vt||a===null||vr(a,a.return)),a!==null&&l&4&&zf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,n),wn(n),l&512&&(vt||a===null||vr(a,a.return)),n.flags&32){d=n.stateNode;try{kn(d,"")}catch(Q){Ze(n,n.return,Q)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,zf(n,d,a!==null?a.memoizedProps:d)),l&1024&&(Ff=!0);break;case 6:if(Tn(i,n),wn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){Ze(n,n.return,Q)}}break;case 3:if(Zc=null,d=Xn,Xn=Xc(i.containerInfo),Tn(i,n),Xn=d,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(Q){Ze(n,n.return,Q)}Ff&&(Ff=!1,G0(n));break;case 4:l=Xn,Xn=Xc(n.stateNode.containerInfo),Tn(i,n),wn(n),Xn=l;break;case 12:Tn(i,n),wn(n);break;case 13:Tn(i,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xf=Cn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hf(n,l)));break;case 22:d=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=ti,W=vt;if(ti=H||d,vt=W||N,Tn(i,n),vt=W,ti=H,wn(n),l&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||N||ti||vt||ea(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(f=N.stateNode,d)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=N.stateNode;var te=N.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Ze(N,N.return,Q)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(Q){Ze(N,N.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hf(n,a))));break;case 19:Tn(i,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Hf(n,l)));break;case 30:break;case 21:break;default:Tn(i,n),wn(n)}}function wn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(j0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Bf(n);jc(n,f,d);break;case 5:var b=a.stateNode;a.flags&32&&(kn(b,""),a.flags&=-33);var T=Bf(n);jc(n,T,b);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Bf(n);qf(n,H,N);break;default:throw Error(s(161))}}catch(W){Ze(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function G0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;G0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)z0(n,i.alternate,i),i=i.sibling}function ea(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Di(4,i,i.return),ea(i);break;case 1:vr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&V0(i,i.return,a),ea(i);break;case 27:jl(i.stateNode);case 26:case 5:vr(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}n=n.sibling}}function Mi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=n,f=i,b=f.flags;switch(f.tag){case 0:case 11:case 15:Mi(d,f,a),Rl(4,f);break;case 1:if(Mi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)by(N[d],T)}catch(H){Ze(l,l.return,H)}}a&&b&64&&M0(f),Nl(f,f.return);break;case 27:L0(f);case 26:case 5:Mi(d,f,a),a&&l===null&&b&4&&P0(f),Nl(f,f.return);break;case 12:Mi(d,f,a);break;case 13:Mi(d,f,a),a&&b&4&&F0(d,f);break;case 22:f.memoizedState===null&&Mi(d,f,a),Nl(f,f.return);break;case 30:break;default:Mi(d,f,a)}i=i.sibling}}function Gf(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&fl(a))}function $f(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&fl(n))}function _r(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$0(n,i,a,l),i=i.sibling}function $0(n,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:_r(n,i,a,l),d&2048&&Rl(9,i);break;case 1:_r(n,i,a,l);break;case 3:_r(n,i,a,l),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&fl(n)));break;case 12:if(d&2048){_r(n,i,a,l),n=i.stateNode;try{var f=i.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Ze(i,i.return,N)}}else _r(n,i,a,l);break;case 13:_r(n,i,a,l);break;case 23:break;case 22:f=i.stateNode,b=i.alternate,i.memoizedState!==null?f._visibility&2?_r(n,i,a,l):Cl(n,i):f._visibility&2?_r(n,i,a,l):(f._visibility|=2,Za(n,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Gf(b,i);break;case 24:_r(n,i,a,l),d&2048&&$f(i.alternate,i);break;default:_r(n,i,a,l)}}function Za(n,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=n,b=i,T=a,N=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Za(f,b,T,N,d),Rl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?Za(f,b,T,N,d):Cl(f,b):(W._visibility|=2,Za(f,b,T,N,d)),d&&H&2048&&Gf(b.alternate,b);break;case 24:Za(f,b,T,N,d),d&&H&2048&&$f(b.alternate,b);break;default:Za(f,b,T,N,d)}i=i.sibling}}function Cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,d=l.flags;switch(l.tag){case 22:Cl(a,l),d&2048&&Gf(l.alternate,l);break;case 24:Cl(a,l),d&2048&&$f(l.alternate,l);break;default:Cl(a,l)}i=i.sibling}}var Il=8192;function Ja(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)K0(n),n=n.sibling}function K0(n){switch(n.tag){case 26:Ja(n),n.flags&Il&&n.memoizedState!==null&&k1(Xn,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var i=Xn;Xn=Xc(n.stateNode.containerInfo),Ja(n),Xn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ja(n),Il=i):Ja(n));break;default:Ja(n)}}function Q0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function kl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,X0(l,n)}Q0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Y0(n),n=n.sibling}function Y0(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&Di(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Lc(n)):kl(n);break;default:kl(n)}}function Lc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,X0(l,n)}Q0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Di(8,i,i.return),Lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(i));break;default:Lc(i)}n=n.sibling}}function X0(n,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Di(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=n;Ut!==null;){l=Ut;var d=l.sibling,f=l.return;if(B0(l),l===a){Ut=null;break e}if(d!==null){d.return=f,Ut=d;break e}Ut=f}}}var Kx={getCacheForType:function(n){var i=Jt(Dt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Qx=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,De=null,Le=0,Ke=0,xn=null,Vi=!1,eo=!1,Kf=!1,ri=0,ht=0,Pi=0,ta=0,Qf=0,zn=0,to=0,Dl=null,mn=null,Yf=!1,Xf=0,Uc=1/0,zc=null,ji=null,$t=0,Li=null,no=null,ro=0,Wf=0,Zf=null,W0=null,Ol=0,Jf=null;function An(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=Ha;return n!==0?n:am()}return _i()}function Z0(){zn===0&&(zn=(Le&536870912)===0||qe?qo():536870912);var n=Un.current;return n!==null&&(n.flags|=32),zn}function Sn(n,i,a){(n===nt&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(io(n,0),Ui(n,Le,zn,!1)),Vr(n,a),(($e&2)===0||n!==nt)&&(n===nt&&(($e&2)===0&&(ta|=a),ht===4&&Ui(n,Le,zn,!1)),br(n))}function J0(n,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Rs(n,i),d=l?Wx(n,i):nm(n,i,!0),f=l;do{if(d===0){eo&&!l&&Ui(n,i,0,!1);break}else{if(a=n.current.alternate,f&&!Yx(a)){d=nm(n,i,!1),f=!1;continue}if(d===2){if(f=i,n.errorRecoveryDisabledLanes&f)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=n;d=Dl;var N=T.current.memoizedState.isDehydrated;if(N&&(io(T,b).flags|=256),b=nm(T,b,!1),b!==2){if(Kf&&!N){T.errorRecoveryDisabledLanes|=f,ta|=f,d=4;break e}f=mn,mn=d,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}d=b}if(f=!1,d!==2)continue}}if(d===1){io(n,0),Ui(n,i,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ui(l,i,zn,!Vi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Xf+300-Cn(),10<d)){if(Ui(l,i,zn,!Vi),Ea(l,0,!0)!==0)break e;l.timeoutHandle=Nv(ev.bind(null,l,a,mn,zc,Yf,i,zn,ta,to,Vi,f,2,-0,0),d);break e}ev(l,a,mn,zc,Yf,i,zn,ta,to,Vi,f,0,-0,0)}}break}while(!0);br(n)}function ev(n,i,a,l,d,f,b,T,N,H,W,te,$,Q){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:I1},K0(i),te=D1(),te!==null)){n.cancelPendingCommit=te(ov.bind(null,n,i,f,a,l,d,b,T,N,W,1,$,Q)),Ui(n,f,b,!H);return}ov(n,i,f,a,l,d,b,T,N)}function Yx(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ui(n,i,a,l){i&=~Qf,i&=~ta,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var d=i;0<d;){var f=31-Zt(d),b=1<<f;l[f]=-1,d&=~b}a!==0&&sr(n,a,i)}function Bc(){return($e&6)===0?(Ml(0),!1):!0}function em(){if(De!==null){if(Ke===0)var n=De.return;else n=De,Yr=Ys=null,yf(n),Xa=null,xl=0,n=De;for(;n!==null;)O0(n.alternate,n),n=n.return;De=null}}function io(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,f1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),em(),nt=n,De=a=$r(n.current,null),Le=i,Ke=0,xn=null,Vi=!1,eo=Rs(n,i),Kf=!1,to=zn=Qf=ta=Pi=ht=0,mn=Dl=null,Yf=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var d=31-Zt(l),f=1<<d;i|=n[d],l&=~f}return ri=i,uc(),a}function tv(n,i){Ne=null,X.H=Nc,i===gl||i===vc?(i=vy(),Ke=3):i===gy?(i=vy(),Ke=4):Ke=i===_0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,De===null&&(ht=1,Oc(n,Vn(i,n.current)))}function nv(){var n=X.H;return X.H=Nc,n===null?Nc:n}function rv(){var n=X.A;return X.A=Kx,n}function tm(){ht=4,Vi||(Le&4194048)!==Le&&Un.current!==null||(eo=!0),(Pi&134217727)===0&&(ta&134217727)===0||nt===null||Ui(nt,Le,zn,!1)}function nm(n,i,a){var l=$e;$e|=2;var d=nv(),f=rv();(nt!==n||Le!==i)&&(zc=null,io(n,i)),i=!1;var b=ht;e:do try{if(Ke!==0&&De!==null){var T=De,N=xn;switch(Ke){case 8:em(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var H=Ke;if(Ke=0,xn=null,so(n,T,N,H),a&&eo){b=0;break e}break;default:H=Ke,Ke=0,xn=null,so(n,T,N,H)}}Xx(),b=ht;break}catch(W){tv(n,W)}while(!0);return i&&n.shellSuspendCounter++,Yr=Ys=null,$e=l,X.H=d,X.A=f,De===null&&(nt=null,Le=0,uc()),b}function Xx(){for(;De!==null;)iv(De)}function Wx(n,i){var a=$e;$e|=2;var l=nv(),d=rv();nt!==n||Le!==i?(zc=null,Uc=Cn()+500,io(n,i)):eo=Rs(n,i);e:do try{if(Ke!==0&&De!==null){i=De;var f=xn;t:switch(Ke){case 1:Ke=0,xn=null,so(n,i,f,1);break;case 2:case 9:if(py(f)){Ke=0,xn=null,sv(i);break}i=function(){Ke!==2&&Ke!==9||nt!==n||(Ke=7),br(n)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:py(f)?(Ke=0,xn=null,sv(i)):(Ke=0,xn=null,so(n,i,f,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var T=De;if(!b||zv(b)){Ke=0,xn=null;var N=T.sibling;if(N!==null)De=N;else{var H=T.return;H!==null?(De=H,qc(H)):De=null}break t}}Ke=0,xn=null,so(n,i,f,5);break;case 6:Ke=0,xn=null,so(n,i,f,6);break;case 8:em(),ht=6;break e;default:throw Error(s(462))}}Zx();break}catch(W){tv(n,W)}while(!0);return Yr=Ys=null,X.H=l,X.A=d,$e=a,De!==null?0:(nt=null,Le=0,uc(),ht)}function Zx(){for(;De!==null&&!Lo();)iv(De)}function iv(n){var i=k0(n.alternate,n,ri);n.memoizedProps=n.pendingProps,i===null?qc(n):De=i}function sv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=A0(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=A0(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:yf(i);default:O0(a,i),i=De=ay(i,ri),i=k0(a,i,ri)}n.memoizedProps=n.pendingProps,i===null?qc(n):De=i}function so(n,i,a,l){Yr=Ys=null,yf(i),Xa=null,xl=0;var d=i.return;try{if(Bx(n,d,i,a,Le)){ht=1,Oc(n,Vn(a,n.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;ht=1,Oc(n,Vn(a,n.current)),De=null;return}i.flags&32768?(qe||l===1?n=!0:eo||(Le&536870912)!==0?n=!1:(Vi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),av(i,n)):qc(i)}function qc(n){var i=n;do{if((i.flags&32768)!==0){av(i,Vi);return}n=i.return;var a=Fx(i.alternate,i,ri);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);ht===0&&(ht=5)}function av(n,i){do{var a=Hx(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ht=6,De=null}function ov(n,i,a,l,d,f,b,T,N){n.cancelPendingCommit=null;do Fc();while($t!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Gd,Ho(n,a,f,b,T,N),n===nt&&(De=nt=null,Le=0),no=i,Li=n,ro=a,Wf=f,Zf=d,W0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,n1(ws,function(){return dv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=le.p,le.p=2,b=$e,$e|=4;try{Gx(n,i,a)}finally{$e=b,le.p=d,X.T=l}}$t=1,lv(),uv(),cv()}}function lv(){if($t===1){$t=0;var n=Li,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var d=$e;$e|=4;try{H0(i,n);var f=mm,b=Xp(n.containerInfo),T=f.focusedElem,N=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&Yp(T.ownerDocument.documentElement,T)){if(N!==null&&zd(T)){var H=N.start,W=N.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var te=T.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Q=$.getSelection(),we=T.textContent.length,_e=Math.min(N.start,we),We=N.end===void 0?_e:Math.min(N.end,we);!Q.extend&&_e>We&&(b=We,We=_e,_e=b);var L=Qp(T,_e),V=Qp(T,We);if(L&&V&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=te.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),_e>We?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(te=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}th=!!fm,mm=fm=null}finally{$e=d,le.p=l,X.T=a}}n.current=i,$t=2}}function uv(){if($t===2){$t=0;var n=Li,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var d=$e;$e|=4;try{z0(n,i.alternate,i)}finally{$e=d,le.p=l,X.T=a}}$t=3}}function cv(){if($t===4||$t===3){$t=0,Lu();var n=Li,i=no,a=ro,l=W0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,no=Li=null,hv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ji=null),Ta(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,d=le.p,le.p=2,X.T=null;try{for(var f=n.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{X.T=i,le.p=d}}(ro&3)!==0&&Fc(),br(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===Jf?Ol++:(Ol=0,Jf=n):Ol=0,Ml(0)}}function hv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,fl(i)))}function Fc(n){return lv(),uv(),cv(),dv()}function dv(){if($t!==5)return!1;var n=Li,i=Wf;Wf=0;var a=Ta(ro),l=X.T,d=le.p;try{le.p=32>a?32:a,X.T=null,a=Zf,Zf=null;var f=Li,b=ro;if($t=0,no=Li=null,ro=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,Y0(f.current),$0(f,f.current,b,a),$e=T,Ml(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,f)}catch{}return!0}finally{le.p=d,X.T=l,hv(n,i)}}function fv(n,i,a){i=Vn(a,i),i=kf(n.stateNode,i,2),n=Ni(n,i,2),n!==null&&(Vr(n,2),br(n))}function Ze(n,i,a){if(n.tag===3)fv(n,n,a);else for(;i!==null;){if(i.tag===3){fv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ji===null||!ji.has(l))){n=Vn(a,n),a=y0(2),l=Ni(i,a,2),l!==null&&(v0(a,l,i,n),Vr(l,2),br(l));break}}i=i.return}}function rm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Qx;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Kf=!0,d.add(a),n=Jx.bind(null,n,i,a),i.then(n,n))}function Jx(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Cn()-Xf?($e&2)===0&&io(n,0):Qf|=a,to===Le&&(to=0)),br(n)}function mv(n,i){i===0&&(i=Fo()),n=za(n,i),n!==null&&(Vr(n,i),br(n))}function e1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),mv(n,a)}function t1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),mv(n,a)}function n1(n,i){return Es(n,i)}var Hc=null,ao=null,im=!1,Gc=!1,sm=!1,na=0;function br(n){n!==ao&&n.next===null&&(ao===null?Hc=ao=n:ao=ao.next=n),Gc=!0,im||(im=!0,i1())}function Ml(n,i){if(!sm&&Gc){sm=!0;do for(var a=!1,l=Hc;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Zt(42|n)+1)-1,f&=d&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,vv(l,f))}else f=Le,f=Ea(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rs(l,f)||(a=!0,vv(l,f));l=l.next}while(a);sm=!1}}function r1(){gv()}function gv(){Gc=im=!1;var n=0;na!==0&&(d1()&&(n=na),na=0);for(var i=Cn(),a=null,l=Hc;l!==null;){var d=l.next,f=pv(l,i);f===0?(l.next=null,a===null?Hc=d:a.next=d,d===null&&(ao=a)):(a=l,(n!==0||(f&3)!==0)&&(Gc=!0)),l=d}Ml(n)}function pv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var b=31-Zt(f),T=1<<b,N=d[b];N===-1?((T&a)===0||(T&l)!==0)&&(d[b]=Bo(T,i)):N<=i&&(n.expiredLanes|=T),f&=~T}if(i=nt,a=Le,a=Ea(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Rs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Ts(l),Ta(a)){case 2:case 8:a=_a;break;case 32:a=ws;break;case 268435456:a=ba;break;default:a=ws}return l=yv.bind(null,n),a=Es(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Ts(l),n.callbackPriority=2,n.callbackNode=null,2}function yv(n,i){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Fc()&&n.callbackNode!==a)return null;var l=Le;return l=Ea(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(J0(n,l,i),pv(n,Cn()),n.callbackNode!=null&&n.callbackNode===a?yv.bind(null,n):null)}function vv(n,i){if(Fc())return null;J0(n,i,!0)}function i1(){m1(function(){($e&6)!==0?Es(Uo,r1):gv()})}function am(){return na===0&&(na=qo()),na}function _v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Na(""+n)}function bv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function s1(n,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=_v((d[bt]||null).action),b=l.submitter;b&&(i=(i=b[bt]||null)?_v(i.formAction):b.getAttribute("formAction"),i!==null&&(f=i,b=null));var T=new Ca("action","action",null,l,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var N=b?bv(d,b):new FormData(d);Sf(a,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=b?bv(d,b):new FormData(d),Sf(a,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var om=0;om<Hd.length;om++){var lm=Hd[om],a1=lm.toLowerCase(),o1=lm[0].toUpperCase()+lm.slice(1);Yn(a1,"on"+o1)}Yn(Jp,"onAnimationEnd"),Yn(ey,"onAnimationIteration"),Yn(ty,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(xx,"onTransitionRun"),Yn(Ax,"onTransitionStart"),Yn(Sx,"onTransitionCancel"),Yn(ny,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Ev(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(W){Dc(W)}d.currentTarget=null,f=N}else for(b=0;b<l.length;b++){if(T=l[b],N=T.instance,H=T.currentTarget,T=T.listener,N!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(W){Dc(W)}d.currentTarget=null,f=N}}}}function Oe(n,i){var a=i[$o];a===void 0&&(a=i[$o]=new Set);var l=n+"__bubble";a.has(l)||(Tv(i,n,2,!1),a.add(l))}function um(n,i,a){var l=0;i&&(l|=4),Tv(a,n,l,i)}var $c="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[$c]){n[$c]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(l1.has(a)||um(a,!1,n),um(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$c]||(i[$c]=!0,um("selectionchange",!1,i))}}function Tv(n,i,a,l){switch($v(i)){case 2:var d=V1;break;case 8:d=P1;break;default:d=xm}a=d.bind(null,i,a,n),d=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function hm(n,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Pr(T),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=f=b;continue e}T=T.parentNode}}l=l.return}Qu(function(){var H=f,W=Dn(a),te=[];e:{var $=ry.get(n);if($!==void 0){var Q=Ca,we=n;switch(n){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":Q=Va;break;case"focusin":we="focus",Q=Da;break;case"focusout":we="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=nc;break;case Jp:case ey:case ty:Q=Oa;break;case ny:Q=ic;break;case"scroll":case"scrollend":Q=Yu;break;case"wheel":Q=Pa;break;case"copy":case"cut":case"paste":Q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=sl;break;case"toggle":case"beforetoggle":Q=ac}var _e=(i&4)!==0,We=!_e&&(n==="scroll"||n==="scrollend"),L=_e?$!==null?$+"Capture":null:$;_e=[];for(var V=H,q;V!==null;){var Z=V;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=Vs(V,L),Z!=null&&_e.push(Pl(V,Z,q))),We)break;V=V.return}0<_e.length&&($=new Q($,we,null,a,W),te.push({event:$,listeners:_e}))}}if((i&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&a!==zr&&(we=a.relatedTarget||a.fromElement)&&(Pr(we)||we[In]))break e;if((Q||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(we=a.relatedTarget||a.toElement,Q=H,we=we?Pr(we):null,we!==null&&(We=u(we),_e=we.tag,we!==We||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(Q=null,we=H),Q!==we)){if(_e=Mn,Z="onMouseLeave",L="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(_e=sl,Z="onPointerLeave",L="onPointerEnter",V="pointer"),We=Q==null?$:or(Q),q=we==null?$:or(we),$=new _e(Z,V+"leave",Q,a,W),$.target=We,$.relatedTarget=q,Z=null,Pr(W)===H&&(_e=new _e(L,V+"enter",we,a,W),_e.target=q,_e.relatedTarget=We,Z=_e),We=Z,Q&&we)t:{for(_e=Q,L=we,V=0,q=_e;q;q=oo(q))V++;for(q=0,Z=L;Z;Z=oo(Z))q++;for(;0<V-q;)_e=oo(_e),V--;for(;0<q-V;)L=oo(L),q--;for(;V--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=oo(_e),L=oo(L)}_e=null}else _e=null;Q!==null&&wv(te,$,Q,_e,!1),we!==null&&We!==null&&wv(te,We,we,_e,!0)}}e:{if($=H?or(H):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var me=qp;else if(kt($))if(Fp)me=Ex;else{me=_x;var ke=vx}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Zo(H.elementType)&&(me=qp):me=bx;if(me&&(me=me(n,H))){Gr(te,me,a,W);break e}ke&&ke(n,$,H),n==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&wi($,"number",$.value)}switch(ke=H?or(H):window,n){case"focusin":(kt(ke)||ke.contentEditable==="true")&&(ja=ke,Bd=H,ll=null);break;case"focusout":ll=Bd=ja=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,Wp(te,a,W);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":Wp(te,a,W)}var ge;if(mr)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Pe?Y(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(Pe||be!=="onCompositionStart"?be==="onCompositionEnd"&&Pe&&(ge=el()):(cr=W,xi="value"in cr?cr.value:cr.textContent,Pe=!0)),ke=Kc(H,be),0<ke.length&&(be=new rl(be,n,null,a,W),te.push({event:be,listeners:ke}),ge?be.data=ge:(ge=oe(a),ge!==null&&(be.data=ge)))),(ge=y?It(n,a):je(n,a))&&(be=Kc(H,"onBeforeInput"),0<be.length&&(ke=new rl("onBeforeInput","beforeinput",null,a,W),te.push({event:ke,listeners:be}),ke.data=ge)),s1(te,n,H,a,W)}Ev(te,i)})}function Pl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Kc(n,i){for(var a=i+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Vs(n,a),d!=null&&l.unshift(Pl(n,d,f)),d=Vs(n,i),d!=null&&l.push(Pl(n,d,f))),n.tag===3)return l;n=n.return}return[]}function oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function wv(n,i,a,l,d){for(var f=i._reactName,b=[];a!==null&&a!==l;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||H===null||(N=H,d?(H=Vs(a,f),H!=null&&b.unshift(Pl(a,H,N))):d||(H=Vs(a,f),H!=null&&b.push(Pl(a,H,N)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var u1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function xv(n){return(typeof n=="string"?n:""+n).replace(u1,`
`).replace(c1,"")}function Av(n,i){return i=xv(i),xv(n)===i}function Qc(){}function Xe(n,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(n,""+l);break;case"className":lr(n,"class",l);break;case"tabIndex":lr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(n,a,l);break;case"style":Wo(n,l,f);break;case"data":if(i!=="object"){lr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Na(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Xe(n,i,"name",d.name,d,null),Xe(n,i,"formEncType",d.formEncType,d,null),Xe(n,i,"formMethod",d.formMethod,d,null),Xe(n,i,"formTarget",d.formTarget,d,null)):(Xe(n,i,"encType",d.encType,d,null),Xe(n,i,"method",d.method,d,null),Xe(n,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Na(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Qc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Na(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Ti(n,"popover",l);break;case"xlinkActuate":Ft(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ti(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Md.get(a)||a,Ti(n,a,l))}}function dm(n,i,a,l,d,f){switch(a){case"style":Wo(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?kn(n,l):(typeof l=="number"||typeof l=="bigint")&&kn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=n[bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ti(n,a,l)}}}function Kt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(n,i,f,b,a,null)}}d&&Xe(n,i,"srcSet",a.srcSet,a,null),l&&Xe(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var T=f=b=d=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":b=W;break;case"checked":N=W;break;case"defaultChecked":H=W;break;case"value":f=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Xe(n,i,l,W,a,null)}}Ds(n,f,T,N,H,b,d,!1),Ra(n);return;case"select":Oe("invalid",n),l=b=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:Xe(n,i,d,T,a,null)}i=f,a=b,n.multiple=!!l,i!=null?Ur(n,!!l,i,!1):a!=null&&Ur(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),f=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(n,i,b,T,a,null)}Os(n,l,d,f),Ra(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(n,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Oe(Vl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(n,i,H,l,a,null)}return;default:if(Zo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&dm(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(n,i,T,l,a,null))}function h1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,b=null,T=null,N=null,H=null,W=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Q)||Xe(n,i,Q,null,l,te)}}for(var $ in l){var Q=l[$];if(te=a[$],l.hasOwnProperty($)&&(Q!=null||te!=null))switch($){case"type":f=Q;break;case"name":d=Q;break;case"checked":H=Q;break;case"defaultChecked":W=Q;break;case"value":b=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==te&&Xe(n,i,$,Q,l,te)}}_n(n,b,T,N,H,W,f,d);return;case"select":Q=b=T=$=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(f)||Xe(n,i,f,null,l,N)}for(d in l)if(f=l[d],N=a[d],l.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":$=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==N&&Xe(n,i,d,f,l,N)}i=T,a=b,l=Q,$!=null?Ur(n,!!a,$,!1):!!l!=!!a&&(i!=null?Ur(n,!!a,i,!0):Ur(n,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(n,i,T,null,l,d)}for(b in l)if(d=l[b],f=a[b],l.hasOwnProperty(b)&&(d!=null||f!=null))switch(b){case"value":$=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Xe(n,i,b,d,l,f)}Qe(n,$,Q);return;case"option":for(var we in a)if($=a[we],a.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Xe(n,i,we,null,l,$)}for(N in l)if($=l[N],Q=a[N],l.hasOwnProperty(N)&&$!==Q&&($!=null||Q!=null))switch(N){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xe(n,i,N,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)$=a[_e],a.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e)&&Xe(n,i,_e,null,l,$);for(H in l)if($=l[H],Q=a[H],l.hasOwnProperty(H)&&$!==Q&&($!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Xe(n,i,H,$,l,Q)}return;default:if(Zo(i)){for(var We in a)$=a[We],a.hasOwnProperty(We)&&$!==void 0&&!l.hasOwnProperty(We)&&dm(n,i,We,void 0,l,$);for(W in l)$=l[W],Q=a[W],!l.hasOwnProperty(W)||$===Q||$===void 0&&Q===void 0||dm(n,i,W,$,l,Q);return}}for(var L in a)$=a[L],a.hasOwnProperty(L)&&$!=null&&!l.hasOwnProperty(L)&&Xe(n,i,L,null,l,$);for(te in l)$=l[te],Q=a[te],!l.hasOwnProperty(te)||$===Q||$==null&&Q==null||Xe(n,i,te,$,l,Q)}var fm=null,mm=null;function Yc(n){return n.nodeType===9?n:n.ownerDocument}function Sv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function gm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pm=null;function d1(){var n=window.event;return n&&n.type==="popstate"?n===pm?!1:(pm=n,!0):(pm=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(n){return Cv.resolve(null).then(n).catch(g1)}:Nv;function g1(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function Iv(n,i){var a=i,l=0,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&jl(b.documentElement),a&2&&jl(b.body),a&4)for(a=b.head,jl(a),b=a.firstChild;b;){var T=b.nextSibling,N=b.nodeName;b[Ns]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(d===0){n.removeChild(f),Gl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Gl(i)}function ym(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Ei(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function p1(n,i,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ns])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=Wn(n.nextSibling),n===null)break}return null}function y1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Wn(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function v1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Wn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var _m=null;function kv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Dv(n,i,a){switch(i=Yc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function jl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ei(n)}var Bn=new Map,Ov=new Set;function Xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ii=le.d;le.d={f:_1,r:b1,D:E1,C:T1,L:w1,m:x1,X:S1,S:A1,M:R1};function _1(){var n=ii.f(),i=Bc();return n||i}function b1(n){var i=ar(n);i!==null&&i.tag===5&&i.type==="form"?Jy(i):ii.r(n)}var lo=typeof document>"u"?null:document;function Mv(n,i,a){var l=lo;if(l&&typeof i=="string"&&i){var d=Et(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Ov.has(d)||(Ov.add(d),n={rel:n,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Kt(i,"link",n),pt(i),l.head.appendChild(i)))}}function E1(n){ii.D(n),Mv("dns-prefetch",n,null)}function T1(n,i){ii.C(n,i),Mv("preconnect",n,i)}function w1(n,i,a){ii.L(n,i,a);var l=lo;if(l&&n&&i){var d='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Et(a.imageSizes)+'"]')):d+='[href="'+Et(n)+'"]';var f=d;switch(i){case"style":f=uo(n);break;case"script":f=co(n)}Bn.has(f)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Bn.set(f,n),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ll(f))||i==="script"&&l.querySelector(Ul(f))||(i=l.createElement("link"),Kt(i,"link",n),pt(i),l.head.appendChild(i)))}}function x1(n,i){ii.m(n,i);var a=lo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=co(n)}if(!Bn.has(f)&&(n=E({rel:"modulepreload",href:n},i),Bn.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(f)))return}l=a.createElement("link"),Kt(l,"link",n),pt(l),a.head.appendChild(l)}}}function A1(n,i,a){ii.S(n,i,a);var l=lo;if(l&&n){var d=an(l).hoistableStyles,f=uo(n);i=i||"default";var b=d.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Ll(f)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Bn.get(f))&&bm(n,a);var N=b=l.createElement("link");pt(N),Kt(N,"link",n),N._p=new Promise(function(H,W){N.onload=H,N.onerror=W}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(f,b)}}}function S1(n,i){ii.X(n,i);var a=lo;if(a&&n){var l=an(a).hoistableScripts,d=co(n),f=l.get(d);f||(f=a.querySelector(Ul(d)),f||(n=E({src:n,async:!0},i),(i=Bn.get(d))&&Em(n,i),f=a.createElement("script"),pt(f),Kt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function R1(n,i){ii.M(n,i);var a=lo;if(a&&n){var l=an(a).hoistableScripts,d=co(n),f=l.get(d);f||(f=a.querySelector(Ul(d)),f||(n=E({src:n,async:!0,type:"module"},i),(i=Bn.get(d))&&Em(n,i),f=a.createElement("script"),pt(f),Kt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Vv(n,i,a,l){var d=(d=xe.current)?Xc(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=an(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=uo(a.href);var f=an(d).hoistableStyles,b=f.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,b),(f=d.querySelector(Ll(n)))&&!f._p&&(b.instance=f,b.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),f||N1(d,n,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=an(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function uo(n){return'href="'+Et(n)+'"'}function Ll(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function N1(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),pt(i),n.head.appendChild(i))}function co(n){return'[src="'+Et(n)+'"]'}function Ul(n){return"script[async]"+n}function jv(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Kt(l,"style",d),Wc(l,a.precedence,n),i.instance=l;case"stylesheet":d=uo(a.href);var f=n.querySelector(Ll(d));if(f)return i.state.loading|=4,i.instance=f,pt(f),f;l=Pv(a),(d=Bn.get(d))&&bm(l,d),f=(n.ownerDocument||n).createElement("link"),pt(f);var b=f;return b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),Kt(f,"link",l),i.state.loading|=4,Wc(f,a.precedence,n),i.instance=f;case"script":return f=co(a.src),(d=n.querySelector(Ul(f)))?(i.instance=d,pt(d),d):(l=a,(d=Bn.get(f))&&(l=E({},a),Em(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),pt(d),Kt(d,"link",l),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wc(l,a.precedence,n));return i.instance}function Wc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function bm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Em(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Zc=null;function Lv(n,i,a){if(Zc===null){var l=new Map,d=Zc=new Map;d.set(a,l)}else d=Zc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Ns]||f[Ct]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(i)||"";b=n+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function Uv(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function C1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function I1(){}function k1(n,i,a){if(zl===null)throw Error(s(475));var l=zl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=uo(a.href),f=n.querySelector(Ll(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Jc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=f,pt(f);return}f=n.ownerDocument||n,a=Pv(a),(d=Bn.get(d))&&bm(a,d),f=f.createElement("link"),pt(f);var b=f;b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),Kt(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Jc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function D1(){if(zl===null)throw Error(s(475));var n=zl;return n.stylesheets&&n.count===0&&Tm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Tm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var eh=null;function Tm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,eh=new Map,i.forEach(O1,n),eh=null,Jc.call(n))}function O1(n,i){if(!(i.state.loading&4)){var a=eh.get(n);if(a)var l=a.get(null);else{a=new Map,eh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var b=d[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=i.instance,b=d.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,d),a.set(b,d),this.count++,l=Jc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var Bl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function M1(n,i,a,l,d,f,b,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bv(n,i,a,l,d,f,b,T,N,H,W,te){return n=new M1(n,i,a,b,T,N,H,te),i=1,f===!0&&(i|=24),f=En(3,null,null,i),n.current=f,f.stateNode=n,i=nf(),i.refCount++,n.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},of(f),n}function qv(n){return n?(n=Ba,n):Ba}function Fv(n,i,a,l,d,f){d=qv(d),l.context===null?l.context=d:l.pendingContext=d,l=Ri(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ni(n,l,i),a!==null&&(Sn(a,n,i),yl(a,n,i))}function Hv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function wm(n,i){Hv(n,i),(n=n.alternate)&&Hv(n,i)}function Gv(n){if(n.tag===13){var i=za(n,67108864);i!==null&&Sn(i,n,67108864),wm(n,67108864)}}var th=!0;function V1(n,i,a,l){var d=X.T;X.T=null;var f=le.p;try{le.p=2,xm(n,i,a,l)}finally{le.p=f,X.T=d}}function P1(n,i,a,l){var d=X.T;X.T=null;var f=le.p;try{le.p=8,xm(n,i,a,l)}finally{le.p=f,X.T=d}}function xm(n,i,a,l){if(th){var d=Am(l);if(d===null)hm(n,i,l,nh,a),Kv(n,l);else if(L1(d,n,i,a,l))l.stopPropagation();else if(Kv(n,l),i&4&&-1<j1.indexOf(n)){for(;d!==null;){var f=ar(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=$n(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var N=1<<31-Zt(b);T.entanglements[1]|=N,b&=~N}br(f),($e&6)===0&&(Uc=Cn()+500,Ml(0))}}break;case 13:T=za(f,2),T!==null&&Sn(T,f,2),Bc(),wm(f,2)}if(f=Am(l),f===null&&hm(n,i,l,nh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else hm(n,i,l,null,a)}}function Am(n){return n=Dn(n),Sm(n)}var nh=null;function Sm(n){if(nh=null,n=Pr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return nh=n,null}function $v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nd()){case Uo:return 2;case _a:return 8;case ws:case Cd:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Rm=!1,Bi=null,qi=null,Fi=null,ql=new Map,Fl=new Map,Hi=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(n,i){switch(n){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Hl(n,i,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=ar(i),i!==null&&Gv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function L1(n,i,a,l,d){switch(i){case"focusin":return Bi=Hl(Bi,n,i,a,l,d),!0;case"dragenter":return qi=Hl(qi,n,i,a,l,d),!0;case"mouseover":return Fi=Hl(Fi,n,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return ql.set(f,Hl(ql.get(f)||null,n,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Fl.set(f,Hl(Fl.get(f)||null,n,i,a,l,d)),!0}return!1}function Qv(n){var i=Pr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Bu(n.priority,function(){if(a.tag===13){var l=An();l=vi(l);var d=za(a,l);d!==null&&Sn(d,a,l),wm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Am(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);zr=l,a.target.dispatchEvent(l),zr=null}else return i=ar(a),i!==null&&Gv(i),n.blockedOn=a,!1;i.shift()}return!0}function Yv(n,i,a){rh(n)&&a.delete(i)}function U1(){Rm=!1,Bi!==null&&rh(Bi)&&(Bi=null),qi!==null&&rh(qi)&&(qi=null),Fi!==null&&rh(Fi)&&(Fi=null),ql.forEach(Yv),Fl.forEach(Yv)}function ih(n,i){n.blockedOn===i&&(n.blockedOn=null,Rm||(Rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,U1)))}var sh=null;function Xv(n){sh!==n&&(sh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sh===n&&(sh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],d=n[i+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var f=ar(a);f!==null&&(n.splice(i,3),i-=3,Sf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Gl(n){function i(N){return ih(N,n)}Bi!==null&&ih(Bi,n),qi!==null&&ih(qi,n),Fi!==null&&ih(Fi,n),ql.forEach(i),Fl.forEach(i);for(var a=0;a<Hi.length;a++){var l=Hi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&Hi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],b=d[bt]||null;if(typeof f=="function")b||Xv(a);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,b=f[bt]||null)T=b.formAction;else if(Sm(d)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Xv(a)}}}function Nm(n){this._internalRoot=n}ah.prototype.render=Nm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Fv(a,l,n,i,null,null)},ah.prototype.unmount=Nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Fv(n.current,2,null,n,null,null),Bc(),i[In]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var i=_i();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Hi.length&&i!==0&&i<Hi[a].priority;a++);Hi.splice(a,0,n),a===0&&Qv(n)}};var Wv=e.version;if(Wv!=="19.1.0")throw Error(s(527,Wv,"19.1.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ut=oh.inject(z1),Ge=oh}catch{}}return Kl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",d=f0,f=m0,b=g0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Bv(n,1,!1,null,null,a,l,d,f,b,T,null),n[In]=i.current,cm(n),new Nm(i)},Kl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=f0,b=m0,T=g0,N=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=Bv(n,1,!0,i,a??null,l,d,f,b,T,N,H),i.context=qv(null),a=i.current,l=An(),l=vi(l),d=Ri(l),d.callback=null,Ni(a,d,l),a=l,i.current.lanes=a,Vr(i,a),br(i),n[In]=i.current,cm(n),new ah(i)},Kl.version="19.1.0",Kl}var o_;function X1(){if(o_)return km.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),km.exports=Y1(),km.exports}var W1=X1();const Z1=nE(W1);var Ql={},l_;function J1(){if(l_)return Ql;l_=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=h,Ql.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,D){const I=new u,F=w.length;if(F<2)return I;const j=(D==null?void 0:D.decode)||E;let K=0;do{const G=w.indexOf("=",K);if(G===-1)break;const ee=w.indexOf(";",K),ie=ee===-1?F:ee;if(G>ie){K=w.lastIndexOf(";",G-1)+1;continue}const ae=m(w,K,G),de=g(w,G,ae),k=w.slice(ae,de);if(I[k]===void 0){let S=m(w,G+1,ie),R=g(w,ie,S);const M=j(w.slice(S,R));I[k]=M}K=ie+1}while(K<F);return I}function m(w,D,I){do{const F=w.charCodeAt(D);if(F!==32&&F!==9)return D}while(++D<I);return I}function g(w,D,I){for(;D>I;){const F=w.charCodeAt(--D);if(F!==32&&F!==9)return D+1}return I}function p(w,D,I){const F=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=F(D);if(!e.test(j))throw new TypeError(`argument val is invalid: ${D}`);let K=w+"="+j;if(!I)return K;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);K+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);K+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);K+="; Path="+I.path}if(I.expires){if(!A(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);K+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(K+="; HttpOnly"),I.secure&&(K+="; Secure"),I.partitioned&&(K+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return K}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Ql}J1();var u_="popstate";function eA(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:g=""}=fa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),tg("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:du(u))}function s(o,u){Gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return nA(e,t,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function c_(r,e){return{usr:r.state,key:r.key,idx:e}}function tg(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:t,key:e&&e.key||s||tA()}}function du({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function fa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function nA(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let j=E(),K=j==null?null:j-p;p=j,g&&g({action:m,location:F.location,delta:K})}function w(j,K){m="PUSH";let G=tg(F.location,j,K);t&&t(G,j),p=E()+1;let ee=c_(G,p),ie=F.createHref(G);try{h.pushState(ee,"",ie)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ie)}u&&g&&g({action:m,location:F.location,delta:1})}function D(j,K){m="REPLACE";let G=tg(F.location,j,K);t&&t(G,j),p=E();let ee=c_(G,p),ie=F.createHref(G);h.replaceState(ee,"",ie),u&&g&&g({action:m,location:F.location,delta:0})}function I(j){return rA(j)}let F={get action(){return m},get location(){return r(o,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(u_,A),g=j,()=>{o.removeEventListener(u_,A),g=null}},createHref(j){return e(o,j)},createURL:I,encodeLocation(j){let K=I(j);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:D,go(j){return h.go(j)}};return F}function rA(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:du(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function iE(r,e,t="/"){return iA(r,e,t,!1)}function iA(r,e,t,s){let o=typeof e=="string"?fa(e):e,u=ci(o.pathname||"/",t);if(u==null)return null;let h=sE(r);sA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=pA(u);m=mA(h[g],p,s)}return m}function sE(r,e=[],t=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(at(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=oi([s,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sE(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:dA(p,u.index),routesMeta:E})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of aE(u.path))o(u,h,g)}),e}function aE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=aE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function sA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:fA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var aA=/^:[\w-]+$/,oA=3,lA=2,uA=1,cA=10,hA=-2,h_=r=>r==="*";function dA(r,e){let t=r.split("/"),s=t.length;return t.some(h_)&&(s+=hA),e&&(s+=lA),t.filter(o=>!h_(o)).reduce((o,u)=>o+(aA.test(u)?oA:u===""?uA:cA),s)}function fA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function mA(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Mh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),w=g.route;if(!A&&p&&t&&!s[s.length-1].route.index&&(A=Mh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:oi([u,A.pathname]),pathnameBase:bA(oi([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=oi([u,A.pathnameBase]))}return h}function Mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=gA(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:A},w)=>{if(E==="*"){let I=m[w]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const D=m[w];return A&&!D?p[E]=void 0:p[E]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function gA(r,e=!1,t=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ci(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function yA(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?fa(r):r;return{pathname:t?t.startsWith("/")?t:vA(t,e):e,search:EA(s),hash:TA(o)}}function vA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kg(r){let e=_A(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Dg(r,e,t,s=!1){let o;typeof r=="string"?o=fa(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let g=yA(o,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var oi=r=>r.join("/").replace(/\/\/+/g,"/"),bA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),EA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,TA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function wA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var oE=["POST","PUT","PATCH","DELETE"];new Set(oE);var xA=["GET",...oE];new Set(xA);var No=z.createContext(null);No.displayName="DataRouter";var ed=z.createContext(null);ed.displayName="DataRouterState";var lE=z.createContext({isTransitioning:!1});lE.displayName="ViewTransition";var AA=z.createContext(new Map);AA.displayName="Fetchers";var SA=z.createContext(null);SA.displayName="Await";var nr=z.createContext(null);nr.displayName="Navigation";var xu=z.createContext(null);xu.displayName="Location";var rr=z.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Og=z.createContext(null);Og.displayName="RouteError";function RA(r,{relative:e}={}){at(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(nr),{hash:o,pathname:u,search:h}=Au(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:oi([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Co(){return z.useContext(xu)!=null}function pi(){return at(Co(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(xu).location}var uE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cE(r){z.useContext(nr).static||z.useLayoutEffect(r)}function gs(){let{isDataRoute:r}=z.useContext(rr);return r?zA():NA()}function NA(){at(Co(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(No),{basename:e,navigator:t}=z.useContext(nr),{matches:s}=z.useContext(rr),{pathname:o}=pi(),u=JSON.stringify(kg(s)),h=z.useRef(!1);return cE(()=>{h.current=!0}),z.useCallback((g,p={})=>{if(Gn(h.current,uE),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=Dg(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:oi([e,E.pathname])),(p.replace?t.replace:t.push)(E,p.state,p)},[e,t,u,o,r])}z.createContext(null);function hE(){let{matches:r}=z.useContext(rr),e=r[r.length-1];return e?e.params:{}}function Au(r,{relative:e}={}){let{matches:t}=z.useContext(rr),{pathname:s}=pi(),o=JSON.stringify(kg(t));return z.useMemo(()=>Dg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function CA(r,e){return dE(r,e)}function dE(r,e,t,s){var K;at(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(nr),{matches:u}=z.useContext(rr),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",E=h&&h.route;{let G=E&&E.path||"";fE(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=pi(),w;if(e){let G=typeof e=="string"?fa(e):e;at(p==="/"||((K=G.pathname)==null?void 0:K.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),w=G}else w=A;let D=w.pathname||"/",I=D;if(p!=="/"){let G=p.replace(/^\//,"").split("/");I="/"+D.replace(/^\//,"").split("/").slice(G.length).join("/")}let F=iE(r,{pathname:I});Gn(E||F!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Gn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=MA(F&&F.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:oi([p,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:oi([p,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,s);return e&&j?z.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function IA(){let r=UA(),e=wA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,h)}var kA=z.createElement(IA,null),DA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(rr.Provider,{value:this.props.routeContext},z.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OA({routeContext:r,match:e,children:t}){let s=z.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(rr.Provider,{value:r},t)}function MA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);at(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:A}=t,w=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!A||A[p.route.id]===void 0);if(p.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let A,w=!1,D=null,I=null;t&&(A=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||kA,h&&(m<0&&E===0?(fE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):m===E&&(w=!0,I=p.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),j=()=>{let K;return A?K=D:w?K=I:p.route.Component?K=z.createElement(p.route.Component,null):p.route.element?K=p.route.element:K=g,z.createElement(OA,{match:p,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:K})};return t&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?z.createElement(DA,{location:t.location,revalidation:t.revalidation,component:D,error:A,children:j(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):j()},null)}function Mg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(r){let e=z.useContext(No);return at(e,Mg(r)),e}function PA(r){let e=z.useContext(ed);return at(e,Mg(r)),e}function jA(r){let e=z.useContext(rr);return at(e,Mg(r)),e}function Vg(r){let e=jA(r),t=e.matches[e.matches.length-1];return at(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function LA(){return Vg("useRouteId")}function UA(){var s;let r=z.useContext(Og),e=PA("useRouteError"),t=Vg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function zA(){let{router:r}=VA("useNavigate"),e=Vg("useNavigate"),t=z.useRef(!1);return cE(()=>{t.current=!0}),z.useCallback(async(o,u={})=>{Gn(t.current,uE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var d_={};function fE(r,e,t){!e&&!d_[r]&&(d_[r]=!0,Gn(!1,t))}z.memo(BA);function BA({routes:r,future:e,state:t}){return dE(r,void 0,t,e)}function mE({to:r,replace:e,state:t,relative:s}){at(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(nr);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(rr),{pathname:h}=pi(),m=gs(),g=Dg(r,kg(u),h,s==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:s})},[m,p,s,e,t]),null}function Qi(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qA({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=fa(t));let{pathname:g="/",search:p="",hash:E="",state:A=null,key:w="default"}=t,D=z.useMemo(()=>{let I=ci(g,h);return I==null?null:{location:{pathname:I,search:p,hash:E,state:A,key:w},navigationType:s}},[h,g,p,E,A,w,s]);return Gn(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(nr.Provider,{value:m},z.createElement(xu.Provider,{children:e,value:D}))}function FA({children:r,location:e}){return CA(ng(r),e)}function ng(r,e=[]){let t=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){t.push.apply(t,ng(s.props.children,u));return}at(s.type===Qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ng(s.props.children,u)),t.push(h)}),t}var Th="get",wh="application/x-www-form-urlencoded";function td(r){return r!=null&&typeof r.tagName=="string"}function HA(r){return td(r)&&r.tagName.toLowerCase()==="button"}function GA(r){return td(r)&&r.tagName.toLowerCase()==="form"}function $A(r){return td(r)&&r.tagName.toLowerCase()==="input"}function KA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function QA(r,e){return r.button===0&&(!e||e==="_self")&&!KA(r)}var lh=null;function YA(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var XA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(r){return r!=null&&!XA.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function WA(r,e){let t,s,o,u,h;if(GA(r)){let m=r.getAttribute("action");s=m?ci(m,e):null,t=r.getAttribute("method")||Th,o=Pm(r.getAttribute("enctype"))||wh,u=new FormData(r)}else if(HA(r)||$A(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ci(g,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||Th,o=Pm(r.getAttribute("formenctype"))||Pm(m.getAttribute("enctype"))||wh,u=new FormData(m,r),!YA()){let{name:p,type:E,value:A}=r;if(E==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,A)}}else{if(td(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Th,s=null,o=wh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Pg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ZA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eS(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ZA(u,t);return h.links?h.links():[]}return[]}));return iS(s.flat(1).filter(JA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(r,e,t,s,o,u){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var E;return t[p].pathname!==g.pathname||((E=t[p].route.path)==null?void 0:E.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var A;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tS(r,e,{includeHydrateFallback:t}={}){return nS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nS(r){return[...new Set(r)]}function rS(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function iS(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(rS(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=new Set([100,101,204,205]);function aS(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function gE(){let r=z.useContext(No);return Pg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oS(){let r=z.useContext(ed);return Pg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jg=z.createContext(void 0);jg.displayName="FrameworkContext";function pE(){let r=z.useContext(jg);return Pg(r,"You must render this element inside a <HydratedRouter> element"),r}function lS(r,e){let t=z.useContext(jg),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:A}=e,w=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=K=>{K.forEach(G=>{h(G.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),z.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let D=()=>{o(!0)},I=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Yl(m,D),onBlur:Yl(g,I),onMouseEnter:Yl(p,D),onMouseLeave:Yl(E,I),onTouchStart:Yl(A,D)}]:[!1,w,{}]}function Yl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function uS({page:r,...e}){let{router:t}=gE(),s=z.useMemo(()=>iE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(hS,{page:r,matches:s,...e}):null}function cS(r){let{manifest:e,routeModules:t}=pE(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return eS(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function hS({page:r,matches:e,...t}){let s=pi(),{manifest:o,routeModules:u}=pE(),{basename:h}=gE(),{loaderData:m,matches:g}=oS(),p=z.useMemo(()=>f_(r,e,g,o,s,"data"),[r,e,g,o,s]),E=z.useMemo(()=>f_(r,e,g,o,s,"assets"),[r,e,g,o,s]),A=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,F=!1;if(e.forEach(K=>{var ee;let G=o.routes[K.route.id];!G||!G.hasLoader||(!p.some(ie=>ie.route.id===K.route.id)&&K.route.id in m&&((ee=u[K.route.id])!=null&&ee.shouldRevalidate)||G.hasClientLoader?F=!0:I.add(K.route.id))}),I.size===0)return[];let j=aS(r,h);return F&&I.size>0&&j.searchParams.set("_routes",e.filter(K=>I.has(K.route.id)).map(K=>K.route.id).join(",")),[j.pathname+j.search]},[h,m,s,o,p,e,r,u]),w=z.useMemo(()=>tS(E,o),[E,o]),D=cS(E);return z.createElement(z.Fragment,null,A.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),D.map(({key:I,link:F})=>z.createElement("link",{key:I,...F})))}function dS(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yE&&(window.__reactRouterVersion="7.6.3")}catch{}function fS({basename:r,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=eA({window:t,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>h(g))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(qA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var vE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nd=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:A,...w},D){let{basename:I}=z.useContext(nr),F=typeof p=="string"&&vE.test(p),j,K=!1;if(typeof p=="string"&&F&&(j=p,yE))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=ci(M.pathname,I);M.origin===R.origin&&P!=null?p=P+M.search+M.hash:K=!0}catch{Gn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=RA(p,{relative:o}),[ee,ie,ae]=lS(s,w),de=yS(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function k(R){e&&e(R),R.defaultPrevented||de(R)}let S=z.createElement("a",{...w,...ae,href:j||G,onClick:K||u?e:k,ref:dS(D,ie),target:g,"data-discover":!F&&t==="render"?"true":void 0});return ee&&!F?z.createElement(z.Fragment,null,S,z.createElement(uS,{page:G})):S});nd.displayName="Link";var mS=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let A=Au(h,{relative:p.relative}),w=pi(),D=z.useContext(ed),{navigator:I,basename:F}=z.useContext(nr),j=D!=null&&TS(A)&&m===!0,K=I.encodeLocation?I.encodeLocation(A).pathname:A.pathname,G=w.pathname,ee=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(G=G.toLowerCase(),ee=ee?ee.toLowerCase():null,K=K.toLowerCase()),ee&&F&&(ee=ci(ee,F)||ee);const ie=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=G===K||!o&&G.startsWith(K)&&G.charAt(ie)==="/",de=ee!=null&&(ee===K||!o&&ee.startsWith(K)&&ee.charAt(K.length)==="/"),k={isActive:ae,isPending:de,isTransitioning:j},S=ae?e:void 0,R;typeof s=="function"?R=s(k):R=[s,ae?"active":null,de?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(k):u;return z.createElement(nd,{...p,"aria-current":S,className:R,ref:E,style:M,to:h,viewTransition:m},typeof g=="function"?g(k):g)});mS.displayName="NavLink";var gS=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Th,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:A,...w},D)=>{let I=bS(),F=ES(m,{relative:p}),j=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&vE.test(m),G=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let ie=ee.nativeEvent.submitter,ae=(ie==null?void 0:ie.getAttribute("formmethod"))||h;I(ie||ee.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:A})};return z.createElement("form",{ref:D,method:j,action:F,onSubmit:s?g:G,...w,"data-discover":!K&&r==="render"?"true":void 0})});gS.displayName="Form";function pS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _E(r){let e=z.useContext(No);return at(e,pS(r)),e}function yS(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=gs(),g=pi(),p=Au(r,{relative:u});return z.useCallback(E=>{if(QA(E,e)){E.preventDefault();let A=t!==void 0?t:du(g)===du(p);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,t,s,e,r,o,u,h])}var vS=0,_S=()=>`__${String(++vS)}__`;function bS(){let{router:r}=_E("useSubmit"),{basename:e}=z.useContext(nr),t=LA();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=WA(s,e);if(o.navigate===!1){let E=o.fetcherKey||_S();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function ES(r,{relative:e}={}){let{basename:t}=z.useContext(nr),s=z.useContext(rr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(r||".",{relative:e})},h=pi();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:oi([t,u.pathname])),du(u)}function TS(r,e={}){let t=z.useContext(lE);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_E("useViewTransitionState"),o=Au(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ci(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ci(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Mh(o.pathname,h)!=null||Mh(o.pathname,u)!=null}[...sS];const wS=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},xS=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(w=64)),s.push(t[E],t[A],t[w],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const p=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new AS;const w=u<<2|m>>4;if(s.push(w),p!==64){const D=m<<4&240|p>>2;if(s.push(D),A!==64){const I=p<<6&192|A;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(r){const e=bE(r);return EE.encodeByteArray(e,!0)},Vh=function(r){return SS(r).replace(/\./g,"")},TE=function(r){try{return EE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>RS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TE(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return wS()||NS()||CS()||IS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wE=r=>{var e,t;return(t=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},xE=r=>{const e=wE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},AE=()=>{var r;return(r=rd())===null||r===void 0?void 0:r.config},SE=r=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vh(JSON.stringify(t)),Vh(JSON.stringify(h)),""].join(".")}const su={};function DS(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function OS(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let g_=!1;function Ug(r,e){if(typeof window>"u"||typeof document>"u"||!ps(window.location.host)||su[r]===e||su[r]||g_)return;su[r]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=DS().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{g_=!0,h()},w}function E(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=OS(s),D=t("text"),I=document.getElementById(D)||document.createElement("span"),F=t("learnmore"),j=document.getElementById(F)||document.createElement("a"),K=t("preprendIcon"),G=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),E(j,F);const ie=p();g(G,K),ee.append(G,I,j,ie),document.body.appendChild(ee)}u?(I.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function VS(){var r;const e=(r=rd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class Dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=FS,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?HS(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Dr(o,m,s)}}function HS(r,e){return r.replace(GS,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const GS=/\{\$([^}]+)}/g;function $S(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function oa(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(p_(u)&&p_(h)){if(!oa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function p_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function eu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function KS(r,e){const t=new QS(r,e);return t.subscribe.bind(t)}class QS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");YS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r){return r&&r._delegate?r._delegate:r}class os{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new kS;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZS(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(r){return r===ra?void 0:r}function ZS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const eR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},tR=Me.INFO,nR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},rR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=nR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const iR=(r,e)=>e.some(t=>r instanceof t);let y_,v_;function sR(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,rg=new WeakMap,CE=new WeakMap,Lm=new WeakMap,Bg=new WeakMap;function oR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ns(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&NE.set(t,r)}).catch(()=>{}),Bg.set(e,r),e}function lR(r){if(rg.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});rg.set(r,e)}let ig={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return rg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||CE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function uR(r){ig=r(ig)}function cR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Um(this),e,...t);return CE.set(s,e.sort?e.sort():[e]),ns(s)}:aR().includes(r)?function(...e){return r.apply(Um(this),e),ns(NE.get(this))}:function(...e){return ns(r.apply(Um(this),e))}}function hR(r){return typeof r=="function"?cR(r):(r instanceof IDBTransaction&&lR(r),iR(r,sR())?new Proxy(r,ig):r)}function ns(r){if(r instanceof IDBRequest)return oR(r);if(Lm.has(r))return Lm.get(r);const e=hR(r);return e!==r&&(Lm.set(r,e),Bg.set(e,r)),e}const Um=r=>Bg.get(r);function dR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ns(h.result),g.oldVersion,g.newVersion,ns(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const fR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],zm=new Map;function __(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=mR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fR.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return zm.set(e,u),u}uR(r=>({...r,get:(e,t,s)=>__(e,t)||r.get(e,t,s),has:(e,t)=>!!__(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function pR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",b_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new zg("@firebase/app"),yR="@firebase/app-compat",vR="@firebase/analytics-compat",_R="@firebase/analytics",bR="@firebase/app-check-compat",ER="@firebase/app-check",TR="@firebase/auth",wR="@firebase/auth-compat",xR="@firebase/database",AR="@firebase/data-connect",SR="@firebase/database-compat",RR="@firebase/functions",NR="@firebase/functions-compat",CR="@firebase/installations",IR="@firebase/installations-compat",kR="@firebase/messaging",DR="@firebase/messaging-compat",OR="@firebase/performance",MR="@firebase/performance-compat",VR="@firebase/remote-config",PR="@firebase/remote-config-compat",jR="@firebase/storage",LR="@firebase/storage-compat",UR="@firebase/firestore",zR="@firebase/ai",BR="@firebase/firestore-compat",qR="firebase",FR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",HR={[sg]:"fire-core",[yR]:"fire-core-compat",[_R]:"fire-analytics",[vR]:"fire-analytics-compat",[ER]:"fire-app-check",[bR]:"fire-app-check-compat",[TR]:"fire-auth",[wR]:"fire-auth-compat",[xR]:"fire-rtdb",[AR]:"fire-data-connect",[SR]:"fire-rtdb-compat",[RR]:"fire-fn",[NR]:"fire-fn-compat",[CR]:"fire-iid",[IR]:"fire-iid-compat",[kR]:"fire-fcm",[DR]:"fire-fcm-compat",[OR]:"fire-perf",[MR]:"fire-perf-compat",[VR]:"fire-rc",[PR]:"fire-rc-compat",[jR]:"fire-gcs",[LR]:"fire-gcs-compat",[UR]:"fire-fst",[BR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,GR=new Map,og=new Map;function E_(r,e){try{r.container.addComponent(e)}catch(t){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function la(r){const e=r.name;if(og.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,r);for(const t of Ph.values())E_(t,r);for(const t of GR.values())E_(t,r);return!0}function id(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Su("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=FR;function IE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ag,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(t||(t=AE()),!t)throw rs.create("no-options");const u=Ph.get(o);if(u){if(oa(t,u.options)&&oa(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new JS(o);for(const g of og.values())h.addComponent(g);const m=new KR(t,s,h);return Ph.set(o,m),m}function qg(r=ag){const e=Ph.get(r);if(!e&&r===ag&&AE())return IE();if(!e)throw rs.create("no-app",{appName:r});return e}function xr(r,e,t){var s;let o=(s=HR[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(m.join(" "));return}la(new os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",YR=1,fu="firebase-heartbeat-store";let Bm=null;function kE(){return Bm||(Bm=dR(QR,YR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(t){console.warn(t)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function XR(r){try{const t=(await kE()).transaction(fu),s=await t.objectStore(fu).get(DE(r));return await t.done,s}catch(e){if(e instanceof Dr)hi.warn(e.message);else{const t=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(t.message)}}}async function T_(r,e){try{const s=(await kE()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,DE(r)),await s.done}catch(t){if(t instanceof Dr)hi.warn(t.message);else{const s=rs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hi.warn(s.message)}}}function DE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=1024,ZR=30;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new t2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ZR){const h=n2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=w_(),{heartbeatsToSend:s,unsentEntries:o}=e2(this._heartbeatsCache.heartbeats),u=Vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return hi.warn(t),""}}}function w_(){return new Date().toISOString().substring(0,10)}function e2(r,e=WR){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),x_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),x_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class t2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function x_(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function n2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r){la(new os("platform-logger",e=>new gR(e),"PRIVATE")),la(new os("heartbeat",e=>new JR(e),"PRIVATE")),xr(sg,b_,r),xr(sg,b_,"esm2017"),xr("fire-js","")}r2("");var i2="firebase",s2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(i2,s2,"app");function Fg(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a2=OE,ME=new Su("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new zg("@firebase/auth");function o2(r,...e){jh.logLevel<=Me.WARN&&jh.warn(`Auth (${ma}): ${r}`,...e)}function xh(r,...e){jh.logLevel<=Me.ERROR&&jh.error(`Auth (${ma}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(r,...e){throw Hg(r,...e)}function Ar(r,...e){return Hg(r,...e)}function VE(r,e,t){const s=Object.assign(Object.assign({},a2()),{[e]:t});return new Su("auth","Firebase",s).create(e,{appName:r.name})}function is(r){return VE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return ME.create(r,...e)}function Ee(r,e,...t){if(!r)throw Hg(e,...t)}function si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xh(e),new Error(e)}function di(r,e){r||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function l2(){return A_()==="http:"||A_()==="https:"}function A_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l2()||jS()||"connection"in navigator)?navigator.onLine:!0}function c2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=MS()||LS()}get(){return u2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(r,e){di(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f2=new Nu(3e4,6e4);function ga(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ys(r,e,t,s,o={}){return jE(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:g},u);return PS()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&ps(r.emulatorConfig.host)&&(p.credentials="include"),PE.fetch()(await LE(r,r.config.apiHost,t,m),p)})}async function jE(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},h2),e);try{const o=new g2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw uh(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw VE(r,E,p);er(r,E)}}catch(o){if(o instanceof Dr)throw o;er(r,"network-request-failed",{message:String(o)})}}async function sd(r,e,t,s,o={}){const u=await ys(r,e,t,s,o);return"mfaPendingCredential"in u&&er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function LE(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?Gg(r.config,o):`${r.config.apiScheme}://${o}`;return d2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function m2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ar(this.auth,"network-request-failed")),f2.get())})}}function uh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ar(r,e,s);return o.customData._tokenResponse=t,o}function S_(r){return r!==void 0&&r.enterprise!==void 0}class p2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y2(r,e){return ys(r,"GET","/v2/recaptchaConfig",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(r,e){return ys(r,"POST","/v1/accounts:delete",e)}async function Lh(r,e){return ys(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _2(r,e=!1){const t=dt(r),s=await t.getIdToken(e),o=$g(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:au(qm(o.auth_time)),issuedAtTime:au(qm(o.iat)),expirationTime:au(qm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qm(r){return Number(r)*1e3}function $g(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=TE(t);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R_(r){const e=$g(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Dr&&b2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function b2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await mu(r,Lh(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?UE(u.providerUserInfo):[],m=w2(r.providerData,h),g=r.isAnonymous,p=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ug(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function T2(r){const e=dt(r);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function UE(r){return r.map(e=>{var{providerId:t}=e,s=Fg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r,e){const t=await jE(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await LE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&ps(r.emulatorConfig.host)&&(g.credentials="include"),PE.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function A2(r,e){return ys(r,"POST","/v2/accounts:revokeToken",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=R_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await x2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new yo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ug(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _2(this,e)}reload(){return T2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await mu(this,v2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,g,p,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,I=(h=t.photoURL)!==null&&h!==void 0?h:void 0,F=(m=t.tenantId)!==null&&m!==void 0?m:void 0,j=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,K=(p=t.createdAt)!==null&&p!==void 0?p:void 0,G=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ee,emailVerified:ie,isAnonymous:ae,providerData:de,stsTokenManager:k}=t;Ee(ee&&k,e,"internal-error");const S=yo.fromJSON(this.name,k);Ee(typeof ee=="string",e,"internal-error"),$i(A,e.name),$i(w,e.name),Ee(typeof ie=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),$i(D,e.name),$i(I,e.name),$i(F,e.name),$i(j,e.name),$i(K,e.name),$i(G,e.name);const R=new Zn({uid:ee,auth:e,email:w,emailVerified:ie,displayName:A,isAnonymous:ae,photoURL:I,phoneNumber:D,tenantId:F,stsTokenManager:S,createdAt:K,lastLoginAt:G});return de&&Array.isArray(de)&&(R.providerData=de.map(M=>Object.assign({},M))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new yo;o.updateFromServerResponse(t);const u=new Zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new yo;m.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ug(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;function ai(r){di(r instanceof Function,"Expected a class definition");let e=N_.get(r);return e?(di(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,N_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zE.type="NONE";const C_=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r,e,t){return`firebase:${r}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lh(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(ai(C_),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ai(C_);const h=Ah(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const E=await p._get(h);if(E){let A;if(typeof E=="string"){const w=await Lh(e,{idToken:E}).catch(()=>{});if(!w)break;A=await Zn._fromGetAccountInfoResponse(e,w,E)}else A=Zn._fromJSON(e,E);p!==u&&(m=A),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new vo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(KE(e))return"Webos";if(qE(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(GE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function BE(r=sn()){return/firefox\//i.test(r)}function qE(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(r=sn()){return/crios\//i.test(r)}function HE(r=sn()){return/iemobile/i.test(r)}function GE(r=sn()){return/android/i.test(r)}function $E(r=sn()){return/blackberry/i.test(r)}function KE(r=sn()){return/webos/i.test(r)}function Kg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function S2(r=sn()){var e;return Kg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R2(){return US()&&document.documentMode===10}function QE(r=sn()){return Kg(r)||GE(r)||KE(r)||$E(r)||/windows phone/i.test(r)||HE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,e=[]){let t;switch(r){case"Browser":t=I_(sn());break;case"Worker":t=`${I_(sn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e={}){return ys(r,"GET","/v2/passwordPolicy",ga(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=6;class k2{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:I2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(is(this));const t=e?dt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C2(this),t=new k2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await A2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ai(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&o2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Io(r){return dt(r)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(r){ad=r}function XE(r){return ad.loadJS(r)}function M2(){return ad.recaptchaEnterpriseScript}function V2(){return ad.gapiScript}function P2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class j2{constructor(){this.enterprise=new L2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class L2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const U2="recaptcha-enterprise",WE="NO_RECAPTCHA";class z2{constructor(e){this.type=U2,this.auth=Io(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{y2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new p2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;S_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(WE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&S_(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=M2();g.length!==0&&(g+=m),XE(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function D_(r,e,t,s=!1,o=!1){const u=new z2(r);let h;if(o)h=WE;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function O_(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await D_(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await D_(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r,e){const t=id(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(oa(u,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function q2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ai);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function F2(r,e,t){const s=Io(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZE(e),{host:h,port:m}=H2(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(oa(p,s.config.emulator)&&oa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ps(h)?(Lg(`${u}//${h}${g}`),Ug("Auth",!0)):G2()}function ZE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function H2(r){const e=ZE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:M_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:M_(h)}}}function M_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function G2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function $2(r,e){return ys(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e){return sd(r,"POST","/v1/accounts:signInWithPassword",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(r,e){return sd(r,"POST","/v1/accounts:signInWithEmailLink",ga(r,e))}async function Y2(r,e){return sd(r,"POST","/v1/accounts:signInWithEmailLink",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Qg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new gu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,t,"signInWithPassword",K2);case"emailLink":return Q2(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,s,"signUpPassword",$2);case"emailLink":return Y2(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return sd(r,"POST","/v1/accounts:signInWithIdp",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="http://localhost";class ua extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Fg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ua(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,_o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:X2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z2(r){const e=Jl(eu(r)).link,t=e?Jl(eu(e)).deep_link_id:null,s=Jl(eu(r)).deep_link_id;return(s?Jl(eu(s)).link:null)||s||t||e||r}class Yg{constructor(e){var t,s,o,u,h,m;const g=Jl(eu(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,A=W2((o=g.mode)!==null&&o!==void 0?o:null);Ee(p&&E&&A,"argument-error"),this.apiKey=p,this.operation=A,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Z2(e);try{return new Yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Yg.parseLink(t);return Ee(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Cu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Wi.credential(t,s)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Cu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Cu{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ji.credential(t,s)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),h=V_(s);return new To({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=V_(s);return new To({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function V_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Dr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new zh(e,t,s,o)}}function eT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,u,e,s):u})}async function J2(r,e,t=!1){const s=await mu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return To._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e,t=!1){const{auth:s}=r;if(Fn(s.app))return Promise.reject(is(s));const o="reauthenticate";try{const u=await mu(r,eT(s,o,e,r),t);Ee(u.idToken,s,"internal-error");const h=$g(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),To._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(r,e,t=!1){if(Fn(r.app))return Promise.reject(is(r));const s="signIn",o=await eT(r,s,e),u=await To._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function tN(r,e){return tT(Io(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(r){const e=Io(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rN(r,e,t){return Fn(r.app)?Promise.reject(is(r)):tN(dt(r),ko.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nN(r),s})}function iN(r,e,t,s){return dt(r).onIdTokenChanged(e,t,s)}function sN(r,e,t){return dt(r).beforeAuthStateChanged(e,t)}function aN(r,e,t,s){return dt(r).onAuthStateChanged(e,t,s)}function oN(r){return dt(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1e3,uN=10;class rT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);R2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rT.type="LOCAL";const cN=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iT.type="SESSION";const sT=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new od(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(t.origin,u)),g=await hN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Xg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function fN(r){Sr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function mN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function pN(){return aT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",yN=1,qh="firebaseLocalStorage",lT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ld(r,e){return r.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function vN(){const r=indexedDB.deleteDatabase(oT);return new Iu(r).toPromise()}function cg(){const r=indexedDB.open(oT,yN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qh,{keyPath:lT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qh)?e(s):(s.close(),await vN(),e(await cg()))})})}async function P_(r,e,t){const s=ld(r,!0).put({[lT]:e,value:t});return new Iu(s).toPromise()}async function _N(r,e){const t=ld(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function j_(r,e){const t=ld(r,!0).delete(e);return new Iu(t).toPromise()}const bN=800,EN=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>EN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(pN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await P_(e,Bh,"1"),await j_(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>P_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>_N(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>j_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ld(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const TN=uT;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(r,e){return e?ai(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xN(r){return tT(r.auth,new Wg(r),r.bypassAuthState)}function AN(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),eN(t,new Wg(r),r.bypassAuthState)}async function SN(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),J2(t,new Wg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return SN;case"reauthViaPopup":case"reauthViaRedirect":return AN;default:er(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Nu(2e3,1e4);class po extends cT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RN.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="pendingRedirect",Sh=new Map;class CN extends cT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await IN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IN(r,e){const t=ON(e),s=DN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function kN(r,e){Sh.set(r._key(),e)}function DN(r){return ai(r._redirectPersistence)}function ON(r){return Ah(NN,r.config.apiKey,r.name)}async function MN(r,e,t=!1){if(Fn(r.app))return Promise.reject(is(r));const s=Io(r),o=wN(s,e),h=await new CN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=10*60*1e3;class PN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!hT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VN&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(r,e={}){return ys(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zN=/^https?/;async function BN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await LN(r);for(const t of e)try{if(qN(t))return}catch{}er(r,"unauthorized-domain")}function qN(r){const e=lg(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!zN.test(t))return!1;if(UN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new Nu(3e4,6e4);function U_(){const r=Sr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function HN(r){return new Promise((e,t)=>{var s,o,u;function h(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),t(Ar(r,"network-request-failed"))},timeout:FN.get()})}if(!((o=(s=Sr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Sr().gapi)===null||u===void 0)&&u.load)h();else{const m=P2("iframefcb");return Sr()[m]=()=>{gapi.load?h():t(Ar(r,"network-request-failed"))},XE(`${V2()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function GN(r){return Rh=Rh||HN(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Nu(5e3,15e3),KN="__/auth/iframe",QN="emulator/auth/iframe",YN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Gg(e,QN):`https://${r.config.authDomain}/${KN}`,s={apiKey:e.apiKey,appName:r.name,v:ma},o=XN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ru(s).slice(1)}`}async function ZN(r){const e=await GN(r),t=Sr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:WN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ar(r,"network-request-failed"),m=Sr().setTimeout(()=>{u(h)},$N.get());function g(){Sr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eC=500,tC=600,nC="_blank",rC="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iC(r,e,t,s=eC,o=tC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},JN),{width:s.toString(),height:o.toString(),top:u,left:h}),p=sn().toLowerCase();t&&(m=FE(p)?nC:t),BE(p)&&(e=e||rC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[D,I])=>`${w}${D}=${I},`,"");if(S2(p)&&m!=="_self")return sC(e||"",m),new z_(null);const A=window.open(e||"",m,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new z_(A)}function sC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__/auth/handler",oC="emulator/auth/handler",lC=encodeURIComponent("fac");async function B_(r,e,t,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ma,eventId:o};if(e instanceof JE){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",$S(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof Cu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${lC}=${encodeURIComponent(g)}`:"";return`${uC(r)}?${Ru(m).slice(1)}${p}`}function uC({config:r}){return r.emulator?Gg(r,oC):`https://${r.authDomain}/${aC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class cC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=MN,this._overrideRedirectResult=kN}async _openPopup(e,t,s,o){var u;di((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await B_(e,t,s,lg(),o);return iC(e,h,Xg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await B_(e,t,s,lg(),o);return fN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(di(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await ZN(e),s=new PN(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fm,{type:Fm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Fm];h!==void 0&&t(!!h),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QE()||qE()||Kg()}}const hC=cC;var q_="@firebase/auth",F_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mC(r){la(new os("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(r)},p=new D2(s,o,u,g);return q2(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),la(new os("auth-internal",e=>{const t=Io(e.getProvider("auth").getImmediate());return(s=>new dC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(q_,F_,fC(r)),xr(q_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=5*60,pC=SE("authIdTokenMaxAge")||gC;let H_=null;const yC=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>pC)return;const o=t==null?void 0:t.token;H_!==o&&(H_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vC(r=qg()){const e=id(r,"auth");if(e.isInitialized())return e.getImmediate();const t=B2(r,{popupRedirectResolver:hC,persistence:[TN,cN,sT]}),s=SE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=yC(u.toString());sN(t,h,()=>h(t.currentUser)),iN(t,m=>h(m))}}const o=wE("auth");return o&&F2(t,`http://${o}`),t}function _C(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}O2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ar("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",_C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mC("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,dT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function R(){}R.prototype=S.prototype,k.D=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(M,P,U){for(var C=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)C[Nt-2]=arguments[Nt];return S.prototype[P].apply(M,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)M[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],P=k.g[2];var U=k.g[3],C=S+(U^R&(P^U))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+M[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+M[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(U^R&(P^U))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+M[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+M[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(U^R&(P^U))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+M[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+M[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(U^R&(P^U))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+M[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+M[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^U&(R^P))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+M[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+M[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^U&(R^P))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+M[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+M[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^U&(R^P))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+M[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+M[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^U&(R^P))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+M[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+M[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^U)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+M[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+M[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^U)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+M[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+M[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^U)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+M[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+M[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^U)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+M[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+M[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~U))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+M[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+M[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~U))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+M[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+M[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~U))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+M[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+M[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~U))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+M[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+M[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var R=S-this.blockSize,M=this.B,P=this.h,U=0;U<S;){if(P==0)for(;U<=R;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<S;)if(M[P++]=k.charCodeAt(U++),P==this.blockSize){o(this,M),P=0;break}}else for(;U<S;)if(M[P++]=k[U++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var R=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=R&255,R/=256;for(this.u(k),k=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)k[R++]=this.g[S]>>>M&255;return k};function u(k,S){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function h(k,S){this.h=S;for(var R=[],M=!0,P=k.length-1;0<=P;P--){var U=k[P]|0;M&&U==S||(R[P]=U,M=!1)}this.g=R}var m={};function g(k){return-128<=k&&128>k?u(k,function(S){return new h([S|0],0>S?-1:0)}):new h([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return A;if(0>k)return j(p(-k));for(var S=[],R=1,M=0;k>=R;M++)S[M]=k/R|0,R*=4294967296;return new h(S,0)}function E(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return j(E(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),M=A,P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P),C=parseInt(k.substring(P,P+U),S);8>U?(U=p(Math.pow(S,U)),M=M.j(U).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var A=g(0),w=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(F(this))return-j(this).m();for(var k=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);k+=(0<=M?M:4294967296+M)*S,S*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(F(this))return"-"+j(this).toString(k);for(var S=p(Math.pow(k,6)),R=this,M="";;){var P=ie(R,S).g;R=K(R,P.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=P,I(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function F(k){return k.h==-1}r.l=function(k){return k=K(this,k),F(k)?-1:I(k)?0:1};function j(k){for(var S=k.g.length,R=[],M=0;M<S;M++)R[M]=~k.g[M];return new h(R,~k.h).add(w)}r.abs=function(){return F(this)?j(this):this},r.add=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],M=0,P=0;P<=S;P++){var U=M+(this.i(P)&65535)+(k.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);M=C>>>16,U&=65535,C&=65535,R[P]=C<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(k,S){return k.add(j(S))}r.j=function(k){if(I(this)||I(k))return A;if(F(this))return F(k)?j(this).j(j(k)):j(j(this).j(k));if(F(k))return j(this.j(j(k)));if(0>this.l(D)&&0>k.l(D))return p(this.m()*k.m());for(var S=this.g.length+k.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<k.g.length;P++){var U=this.i(M)>>>16,C=this.i(M)&65535,Nt=k.i(P)>>>16,ue=k.i(P)&65535;R[2*M+2*P]+=C*ue,G(R,2*M+2*P),R[2*M+2*P+1]+=U*ue,G(R,2*M+2*P+1),R[2*M+2*P+1]+=C*Nt,G(R,2*M+2*P+1),R[2*M+2*P+2]+=U*Nt,G(R,2*M+2*P+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new h(R,0)};function G(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function ee(k,S){this.g=k,this.h=S}function ie(k,S){if(I(S))throw Error("division by zero");if(I(k))return new ee(A,A);if(F(k))return S=ie(j(k),S),new ee(j(S.g),j(S.h));if(F(S))return S=ie(k,j(S)),new ee(j(S.g),S.h);if(30<k.g.length){if(F(k)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=S;0>=M.l(k);)R=ae(R),M=ae(M);var P=de(R,1),U=de(M,1);for(M=de(M,2),R=de(R,2);!I(M);){var C=U.add(M);0>=C.l(k)&&(P=P.add(R),U=C),M=de(M,1),R=de(R,1)}return S=K(k,P.j(S)),new ee(P,S)}for(P=A;0<=k.l(S);){for(R=Math.max(1,Math.floor(k.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(R),C=U.j(S);F(C)||0<C.l(k);)R-=M,U=p(R),C=U.j(S);I(U)&&(U=w),P=P.add(U),k=K(k,C)}return new ee(P,k)}r.A=function(k){return ie(this,k).h},r.and=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&k.i(M);return new h(R,this.h&k.h)},r.or=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|k.i(M);return new h(R,this.h|k.h)},r.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^k.i(M);return new h(R,this.h^k.h)};function ae(k){for(var S=k.g.length+1,R=[],M=0;M<S;M++)R[M]=k.i(M)<<1|k.i(M-1)>>>31;return new h(R,k.h)}function de(k,S){var R=S>>5;S%=32;for(var M=k.g.length-R,P=[],U=0;U<M;U++)P[U]=0<S?k.i(U+R)>>>S|k.i(U+R+1)<<32-S:k.i(U+R);return new h(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,ss=h}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,tu,mT,Nh,hg,gT,pT,yT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var B=c[x];if(!(B in _))break e;_=_[B]}c=c[c.length-1],x=_[c],y=y(x),y!=x&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,x=!1,B={next:function(){if(!x&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function I(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(x,B,Y){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[B].apply(x,oe)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let x=0;x<y;x++)_[x]=c[x];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(g(x)){const B=c.length||0,Y=x.length||0;c.length=B+Y;for(let oe=0;oe<Y;oe++)c[B+oe]=x[oe]}else c.push(x)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var ae=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function de(c,y,_){for(const x in c)y.call(_,c[x],x,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(_ in x)c[_]=x[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Nt{constructor(){this.h=this.g=null}add(y,_){const x=ue.get();x.set(y,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ue=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,Be=new Nt,O=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ie(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}I(Ie,se);var xe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function ir(c,y,_,x,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!x,this.ha=B,this.key=++tt,this.da=this.fa=!1}function yi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Or(c){this.src=c,this.g={},this.h=0}Or.prototype.add=function(c,y,_,x,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=Es(c,y,x,B);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new ir(y,this.src,Y,!!x,B),y.fa=_,c.push(y)),y};function bs(c,y){var _=y.type;if(_ in c.g){var x=c.g[_],B=Array.prototype.indexOf.call(x,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(x,B,1),Y&&(yi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Es(c,y,_,x){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==x)return B}return-1}var Ts="closure_lm_"+(1e6*Math.random()|0),Lo={};function Lu(c,y,_,x,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Lu(c,y[Y],_,x,B);return null}return _=Uu(_),c&&c[Vt]?c.K(y,_,p(x)?!!x.capture:!1,B):Cn(c,y,_,!1,x,B)}function Cn(c,y,_,x,B,Y){if(!y)throw Error("Invalid event type");var oe=p(B)?!!B.capture:!!B,Pe=ba(c);if(Pe||(c[Ts]=Pe=new Or(c)),_=Pe.add(y,_,x,oe,Y),_.proxy)return _;if(x=Nd(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)ve||(B=oe),B===void 0&&(B=!1),c.addEventListener(y.toString(),x,B);else if(c.attachEvent)c.attachEvent(ws(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Nd(){function c(_){return y.call(c.src,c.listener,_)}const y=Cd;return c}function Uo(c,y,_,x,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Uo(c,y[Y],_,x,B);else x=p(x)?!!x.capture:!!x,_=Uu(_),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=Es(Y,_,x,B),-1<_&&(yi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ba(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Es(y,_,x,B)),(_=-1<c?y[c]:null)&&_a(_))}function _a(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])bs(y.i,c);else{var _=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(_,x,c.capture):y.detachEvent?y.detachEvent(ws(_),x):y.addListener&&y.removeListener&&y.removeListener(x),(_=ba(y))?(bs(_,c),_.h==0&&(_.src=null,y[Ts]=null)):yi(c)}}}function ws(c){return c in Lo?Lo[c]:Lo[c]="on"+c}function Cd(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,x=c.ha||c.src;c.fa&&_a(c),c=_.call(x,y)}return c}function ba(c){return c=c[Ts],c instanceof Or?c:null}var zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uu(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function ut(){ce.call(this),this.i=new Or(this),this.M=this,this.F=null}I(ut,ce),ut.prototype[Vt]=!0,ut.prototype.removeEventListener=function(c,y,_,x){Uo(this,c,y,_,x)};function Ge(c,y){var _,x=c.F;if(x)for(_=[];x;x=x.F)_.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(x,c),M(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var oe=y.g=_[Y];B=vn(oe,x,!0,y)&&B}if(oe=y.g=c,B=vn(oe,x,!0,y)&&B,B=vn(oe,x,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)oe=y.g=_[Y],B=vn(oe,x,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],x=0;x<_.length;x++)yi(_[x]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,x){return this.i.add(String(c),y,!1,_,x)},ut.prototype.L=function(c,y,_,x){return this.i.add(String(c),y,!0,_,x)};function vn(c,y,_,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==_){var Pe=oe.listener,It=oe.ha||oe.src;oe.fa&&bs(c.i,oe),B=Pe.call(It,x)!==!1&&B}}return B&&!x.defaultPrevented}function Zt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function zu(c){c.g=Zt(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Id extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){ce.call(this),this.h=c,this.g={}}I(xs,ce);var As=[];function Ss(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&_a(y)},c),c.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Ss(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=m.JSON.stringify,Ea=m.JSON.parse,Rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Bo(){}Bo.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Fo(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){se.call(this,"d")}I(Vr,se);function Ho(){se.call(this,"c")}I(Ho,se);var sr={},Go=null;function vi(){return Go=Go||new ut}sr.La="serverreachability";function Ta(c){se.call(this,sr.La,c)}I(Ta,se);function _i(c){const y=vi();Ge(y,new Ta(y))}sr.STAT_EVENT="statevent";function Bu(c,y){se.call(this,sr.STAT_EVENT,c),this.stat=y}I(Bu,se);function it(c){const y=vi();Ge(y,new Bu(y,c))}sr.Ma="timingevent";function Ct(c,y){se.call(this,sr.Ma,c),this.size=y}I(Ct,se);function bt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function $o(c,y,_,x,B,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Pe=Y.split("&"),It=0;It<Pe.length;It++){var je=Pe[It].split("=");if(1<je.length){var jt=je[0];je=je[1];var kt=jt.split("_");oe=2<=kt.length&&kt[1]=="type"?oe+(jt+"="+je+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+y+`
`+_+`
`+oe})}function kd(c,y,_,x,B,Y,oe){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+oe})}function bi(c,y,_,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ns(c,_)+(x?" "+x:"")})}function qu(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function Ns(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var x=_[c];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return $n(_)}catch{return y}}var Ei={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function or(){}I(or,Bo),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ar=new or;function an(c,y,_,x){this.j=c,this.i=y,this.l=_,this.R=x||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Ko={},wa={};function Kn(c,y,_){c.L=1,c.v=Os(_n(y)),c.m=_,c.P=!0,jr(c,null)}function jr(c,y){c.F=Date.now(),Cs(c),c.A=_n(c.v);var _=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Jo(_.i,"t",x),c.C=0,_=c.j.J,c.h=new pt,c.g=ic(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Id(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,x=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(As[0]=B.toString()),B=As);for(var Y=0;Y<B.length;Y++){var oe=Lu(_,B[Y],x||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_i(),$o(c.i,c.u,c.A,c.l,c.R,c.m)}an.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mn(c)==3?y.j():this.Y(c)},an.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Mn(this.g);var y=this.g.Ba();const Gr=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||kt!=4||y==7||(y==8||0>=Gr?_i(3):_i(2)),Ti(this);var _=this.g.Z();this.X=_;t:if(Fu(this)){var x=Xu(this.g);c="";var B=x.length,Y=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),lr(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(Y&&y==B-1)});x.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,kd(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,It=this.g;if((Pe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Pe)){var je=Pe;break t}}je=null}if(_=je)bi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,_);else{this.o=!1,this.s=3,it(12),Ft(this),lr(this);break e}}if(this.P){_=!0;let Ht;for(;!this.J&&this.C<oe.length;)if(Ht=Hu(this,oe),Ht==wa){kt==4&&(this.s=4,it(14),_=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Ko){this.s=4,it(15),bi(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else bi(this.i,this.l,Ht,null),Is(this,Ht);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||oe.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)bi(this.i,this.l,oe,"[Invalid Chunked Response]"),Ft(this),lr(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Bs(jt),jt.M=!0,it(11))}}else bi(this.i,this.l,oe,null),Is(this,oe);kt==4&&Ft(this),this.o&&!this.J&&(kt==4?tc(this.j,this):(this.o=!1,Cs(this)))}else Pd(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ft(this),lr(this)}}}catch{}finally{}};function Fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hu(c,y){var _=c.C,x=y.indexOf(`
`,_);return x==-1?wa:(_=Number(y.substring(_,x)),isNaN(_)?Ko:(x+=1,x+_>y.length?wa:(y=y.slice(x,x+_),c.C=x+_,y)))}an.prototype.cancel=function(){this.J=!0,Ft(this)};function Cs(c){c.S=Date.now()+c.I,Gu(c,c.I)}function Gu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bt(w(c.ba,c),y)}function Ti(c){c.B&&(m.clearTimeout(c.B),c.B=null)}an.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qu(this.i,this.A),this.L!=2&&(_i(),it(17)),Ft(this),this.s=2,lr(this)):Gu(this,this.S-c)};function lr(c){c.j.G==0||c.J||tc(c.j,c)}function Ft(c){Ti(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ss(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Is(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Qo(_.h,c))){if(!c.K&&Qo(_.h,c)&&_.G==3){try{var x=_.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Va(_),Oa(_);else break e;il(_),it(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=bt(w(_.Za,_),6e3));if(1>=Aa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Hr(_,11)}else if((c.K||_.g==c)&&Va(_),!G(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let je=B[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const jt=je[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const kt=je[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const Gr=je[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(x=1.5*Gr,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Ht=c.g;if(Ht){const gr=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var Y=x.h;Y.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Sa(Y,Y.h),Y.h=null))}if(x.D){const al=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(x.ya=al,Qe(x.I,x.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var oe=c;if(x.qa=rc(x,x.J?x.ia:null,x.W),oe.K){on(x.h,oe);var Pe=oe,It=x.L;It&&(Pe.I=It),Pe.B&&(Ti(Pe),Cs(Pe)),x.g=oe}else Ju(x);0<_.i.length&&Ma(_)}else je[0]!="stop"&&je[0]!="close"||Hr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Hr(_,7):nl(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}_i(4)}catch{}}var $u=class{constructor(c,y){this.g=c,this.map=y}};function Lr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Aa(c){return c.h?1:c.g?c.g.size:0}function Qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sa(c,y){c.g?c.g.add(y):c.h=y}function on(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lr.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function Dd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,x=0;x<_;x++)y.push(c[x]);return y}y=[],_=0;for(x in c)y[_++]=c[x];return y}function Ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const x in c)y[_++]=x;return y}}}function Xo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ra(c),x=Dd(c),B=x.length,Y=0;Y<B;Y++)y.call(void 0,x[Y],_&&_[Y],c)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var x=c[_].indexOf("="),B=null;if(0<=x){var Y=c[_].substring(0,x);B=c[_].substring(x+1)}else Y=c[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var y=c.i,_=new zr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ur(this,_),this.m=c.m}else c&&(y=String(c).match(ks))?(this.h=!1,Ds(this,y[1]||"",!0),this.o=kn(y[2]||""),this.g=kn(y[3]||"",!0),wi(this,y[4]),this.l=kn(y[5]||"",!0),Ur(this,y[6]||"",!0),this.m=kn(y[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ms(y,Wo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ms(y,Wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ms(_,_.charAt(0)=="/"?Md:Zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ms(_,Na)),c.join("")};function _n(c){return new Et(c)}function Ds(c,y,_){c.j=_?kn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ur(c,y,_){y instanceof zr?(c.i=y,Qu(c.i,c.h)):(_||(y=Ms(y,Vd)),c.i=new zr(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function Os(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ku),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Zo=/[#\?:]/g,Md=/[#\?]/g,Vd=/[#\?@]/g,Na=/#/g;function zr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Od(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=zr.prototype,r.add=function(c,y){Dn(this),this.i=null,c=ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Br(c,y){Dn(c),y=ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qr(c,y){return Dn(c),y=ur(c,y),c.g.has(y)}r.forEach=function(c,y){Dn(this),this.g.forEach(function(_,x){_.forEach(function(B){c.call(y,B,x,this)},this)},this)},r.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let x=0;x<y.length;x++){const B=c[x];for(let Y=0;Y<B.length;Y++)_.push(y[x])}return _},r.V=function(c){Dn(this);let y=[];if(typeof c=="string")qr(this,c)&&(y=y.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Dn(this),this.i=null,c=ur(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Jo(c,y,_){Br(c,y),0<_.length&&(c.i=null,c.g.set(ur(c,y),F(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var x=y[_];const Y=encodeURIComponent(String(x)),oe=this.V(x);for(x=0;x<oe.length;x++){var B=Y;oe[x]!==""&&(B+="="+encodeURIComponent(String(oe[x]))),c.push(B)}}return this.i=c.join("&")};function ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qu(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,x){var B=x.toLowerCase();x!=B&&(Br(this,x),Jo(this,B,_))},c)),c.j=y}function Vs(c,y){const _=new In;if(m.Image){const x=new Image;x.onload=D(On,_,"TestLoadImage: loaded",!0,y,x),x.onerror=D(On,_,"TestLoadImage: error",!1,y,x),x.onabort=D(On,_,"TestLoadImage: abort",!1,y,x),x.ontimeout=D(On,_,"TestLoadImage: timeout",!1,y,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function Qn(c,y){const _=new In,x=new AbortController,B=setTimeout(()=>{x.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(Y=>{clearTimeout(B),Y.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),On(_,"TestPingServer: error",!1,y)})}function On(c,y,_,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(_)}catch{}}function Ps(){this.g=new Rs}function cr(c,y,_){const x=_||"";try{Xo(c,function(B,Y){let oe=B;p(B)&&(oe=$n(B)),y.push(x+Y+"="+encodeURIComponent(oe))})}catch(B){throw y.push(x+"type="+encodeURIComponent("_badmap")),B}}function xi(c){this.l=c.Ub||null,this.j=c.eb||!1}I(xi,Bo),xi.prototype.g=function(){return new Fr(this.l,this.j)},xi.prototype.i=function(c){return function(){return c}}({});function Fr(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Fr,ut),r=Fr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,dr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):dr(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return de(c,function(_,x){y+=x,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=tl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function Fe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Fe,ut);var Ca=/^https?$/i,js=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?qo(this.o):qo(ar),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Yu(this,Y);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)_.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())_.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||x||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Yu(this,Y)}};function Yu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ia(c),fr(c)}function Ia(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),fr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},r.bb=function(){ka(this)};function ka(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)Zt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var x;if(x=oe===0){var B=String(c.D).match(ks)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),x=!Ca.test(B?B.toLowerCase():"")}_=x}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Y=2<Mn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ia(c)}}finally{fr(c)}}}}function fr(c,y){if(c.g){Ls(c);const _=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=x}catch{}}}function Ls(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ea(y)}};function Xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(c){const y={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(G(c[x]))continue;var _=P(c[x]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}k(y,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Da(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Da.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,x){it(0),this.W=c,this.H=y||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=rc(this,null,this.W),Ma(this)};function nl(c){if(Wu(c),c.G==3){var y=c.U++,_=_n(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),zs(c,_),y=new an(c,c.j,y),y.L=2,y.v=Os(_n(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Cs(y)}nc(c)}function Oa(c){c.g&&(Bs(c),c.g.cancel(),c.g=null)}function Wu(c){Oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!xa(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||O(),pe||(le(),pe=!0),Be.add(y,c),c.B=0}}function jd(c,y){return Aa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bt(w(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new an(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Zu(this,B,y),_=_n(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),zs(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(tl(Y)))+"&"+y:this.m&&Pt(_,this.m,Y)),Sa(this.h,B),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),B.T=!0,Kn(B,_,null)):Kn(B,_,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||xa(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.U++;const x=_n(c.I);Qe(x,"SID",c.K),Qe(x,"RID",_),Qe(x,"AID",c.T),zs(c,x),c.m&&c.o&&Pt(x,c.m,c.o),_=new an(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,_),Kn(_,x,y)}function zs(c,y){c.H&&de(c.H,function(_,x){Qe(y,x,_)}),c.l&&Xo({},function(_,x){Qe(y,x,_)})}function Zu(c,y,_){_=Math.min(c.i.length,_);var x=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const oe=["count="+_];Y==-1?0<_?(Y=B[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Pe=!0;for(let It=0;It<_;It++){let je=B[It].g;const jt=B[It].map;if(je-=Y,0>je)Y=Math.max(0,B[It].g-100),Pe=!1;else try{cr(jt,oe,"req"+je+"_")}catch{x&&x(jt)}}if(Pe){x=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,x}function Ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||O(),pe||(le(),pe=!0),Be.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bt(w(c.Fa,c),sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Oa(this),ec(this))};function Bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ec(c){c.g=new an(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),zs(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Os(_n(y)),_.m=null,_.P=!0,jr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Oa(this),il(this),it(19))};function Va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function tc(c,y){var _=null;if(c.g==y){Va(c),Bs(c),c.g=null;var x=2}else if(Qo(c.h,y))_=y.D,on(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;x=vi(),Ge(x,new Ct(x,_)),Ma(c)}else Ju(c);else if(B=y.s,B==3||B==0&&0<y.X||!(x==1&&jd(c,y)||x==2&&il(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function sl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),x=c.Xa;const B=!x;x=new Et(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ds(x,"https"),Os(x),B?Vs(x.toString(),_):Qn(x.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),nc(c),Wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function rc(c,y,_){var x=_ instanceof Et?_n(_):new Et(_);if(x.g!="")y&&(x.g=y+"."+x.g),wi(x,x.s);else{var B=m.location;x=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new Et(null);x&&Ds(Y,x),y&&(Y.g=y),B&&wi(Y,B),_&&(Y.l=_),x=Y}return _=c.D,y=c.ya,_&&y&&Qe(x,_,y),Qe(x,"VER",c.la),zs(c,x),x}function ic(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new xi({eb:_})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}r=sc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Pa(){}Pa.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){ut.call(this),this.g=new Da(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}I(ln,ut),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){nl(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$n(c),c=_);y.i.push(new $u(y.Ya++,c)),y.G==3&&Ma(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,ln.aa.N.call(this)};function ac(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I(ac,Vr);function oc(){Ho.call(this),this.status=1}I(oc,Ho);function mr(c){this.g=c}I(mr,sc),mr.prototype.ua=function(){Ge(this.g,"a")},mr.prototype.ta=function(c){Ge(this.g,new ac(c))},mr.prototype.sa=function(c){Ge(this.g,new oc)},mr.prototype.ra=function(){Ge(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,yT=function(){return new Pa},pT=function(){return vi()},gT=sr,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,Nh=Ei,Pr.COMPLETE="complete",mT=Pr,Fo.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,tu=Fo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,fT=Fe}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",K_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new zg("@firebase/firestore");function ho(){return ca.logLevel}function fe(r,...e){if(ca.logLevel<=Me.DEBUG){const t=e.map(Zg);ca.debug(`Firestore (${Do}): ${r}`,...t)}}function fi(r,...e){if(ca.logLevel<=Me.ERROR){const t=e.map(Zg);ca.error(`Firestore (${Do}): ${r}`,...t)}}function ls(r,...e){if(ca.logLevel<=Me.WARN){const t=e.map(Zg);ca.warn(`Firestore (${Do}): ${r}`,...t)}}function Zg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,vT(r,s,t)}function vT(r,e,t){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw fi(s),new Error(s)}function He(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||vT(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class EC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new li,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new li)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new _T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class wC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new wC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Q_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function dg(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=bT(),h=RC(u.encode(Y_(r,t)),u.encode(Y_(e,t)));return h!==0?h:Ce(s,o)}}t+=s>65535?2:1}return Ce(r.length,e.length)}function Y_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function RC(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function wo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class Tr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Tr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=Tr.isNumericId(e),o=Tr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class rt extends Tr{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Tr{construct(e,t,s){return new Xt(e,t,s)}static isValidIdentifier(e){return NC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new Xt([X_])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CC(r,e,t,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function W_(r){if(!ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Z_(r){if(ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function TT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function mi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ud(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function ku(r,e){if(!TT(r))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,eb=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*eb);return new et(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<J_)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eb}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:St("string",et._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new et(0,0))}static max(){return new Ae(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function IC(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new et(t+1,0):new et(t,s));return new us(o,ye.empty(),e)}function kC(r){return new us(r.readTime,r.key,pu)}class us{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new us(Ae.min(),ye.empty(),pu)}static max(){return new us(Ae.max(),ye.empty(),pu)}}function DC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==OC)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(E=>{h[p]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function VC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}cd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=-1;function hd(r){return r==null}function Fh(r){return r===0&&1/r==-1/0}function PC(r){return typeof r=="number"&&Number.isInteger(r)&&!Fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="";function jC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=tb(e)),e=LC(r.get(t),e);return tb(e)}function LC(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case wT:t+="";break;default:t+=u}}return t}function tb(r){return r+wT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function vs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function xT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Yt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Mt(Xt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AT("Invalid base64 string: "+u):u}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const UC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(He(!!r,39018),typeof r=="string"){let e=0;const t=UC.exec(r);if(He(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",RT="__type__",NT="__previous_value__",CT="__local_write_time__";function tp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[RT])===null||t===void 0?void 0:t.stringValue)===ST}function dd(r){const e=r.mapValue.fields[NT];return tp(e)?dd(e):e}function yu(r){const e=cs(r.mapValue.fields[CT].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,s,o,u,h,m,g,p,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Hh="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Hh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__type__",BC="__max__",dh={mapValue:{}},kT="__vector__",Gh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:FC(r)?9007199254740991:qC(r)?10:11:Te(28295,{value:r})}function kr(r,e){if(r===e)return!0;const t=ds(r);if(t!==ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),m=cs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Fh(h)===Fh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nb(h)!==nb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!kr(h[g],m[g])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function _u(r,e){return(r.values||[]).find(t=>kr(t,e))!==void 0}function xo(r,e){if(r===e)return 0;const t=ds(r),s=ds(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return ib(r.timestampValue,e.timestampValue);case 4:return ib(yu(r),yu(e));case 5:return dg(r.stringValue,e.stringValue);case 6:return function(u,h){const m=hs(u),g=hs(h);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ce(m[p],g[p]);if(E!==0)return E}return Ce(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ce(_t(u.latitude),_t(h.latitude));return m!==0?m:Ce(_t(u.longitude),_t(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return sb(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,p,E;const A=u.fields||{},w=h.fields||{},D=(m=A[Gh])===null||m===void 0?void 0:m.arrayValue,I=(g=w[Gh])===null||g===void 0?void 0:g.arrayValue,F=Ce(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:sb(D,I)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const w=dg(g[A],E[A]);if(w!==0)return w;const D=xo(m[g[A]],p[E[A]]);if(D!==0)return D}return Ce(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function ib(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=cs(r),s=cs(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function sb(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=xo(t[o],s[o]);if(u)return u}return Ce(t.length,s.length)}function Ao(r){return fg(r)}function fg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=cs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return hs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=fg(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${fg(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function Ch(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ch(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return vs(s.fields,(u,h)=>{o+=u.length+Ch(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function ab(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mg(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function ob(r){return!!r&&"nullValue"in r}function lb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function qC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||t===void 0?void 0:t.stringValue)===kT}function ou(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ou(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(r.arrayValue.values[t]);return e}return Object.assign({},r)}function FC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=Xt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=ou(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){vs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new yn(ou(this.value))}}function DT(r){const e=[];return vs(r.fields,(t,s)=>{const o=new Xt([t]);if(Ih(s)){const u=DT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,Ae.min(),Ae.min(),Ae.min(),yn.empty(),0)}static newFoundDocument(e,t,s,o){return new rn(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Ae.min(),Ae.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ae.min(),Ae.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.position=e,this.inclusive=t}}function ub(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=xo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!kr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function HC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class At extends OT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new $C(e,t,s):t==="array-contains"?new YC(e,s):t==="in"?new XC(e,s):t==="not-in"?new WC(e,s):t==="array-contains-any"?new ZC(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new KC(e,s):new QC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&ds(this.value)===ds(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends OT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new tr(e,t)}matches(e){return MT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function MT(r){return r.op==="and"}function VT(r){return GC(r)&&MT(r)}function GC(r){for(const e of r.filters)if(e instanceof tr)return!1;return!0}function gg(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(VT(r))return r.filters.map(e=>gg(e)).join(",");{const e=r.filters.map(t=>gg(t)).join(",");return`${r.op}(${e})`}}function PT(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&kr(s.value,o.value)}(r,e):r instanceof tr?function(s,o){return o instanceof tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&PT(h,o.filters[m]),!0):!1}(r,e):void Te(19439)}function jT(r){return r instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${Ao(t.value)}`}(r):r instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(jT).join(" ,")+"}"}(r):"Filter"}class $C extends At{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class KC extends At{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QC extends At{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class YC extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&_u(t.arrayValue,this.value)}}class XC extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class WC extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_u(this.value.arrayValue,t)}}class ZC extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>_u(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function hb(r,e=null,t=[],s=[],o=null,u=null,h=null){return new JC(r,e,t,s,o,u,h)}function rp(r){const e=Se(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>gg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ao(s)).join(",")),e.Pe=t}return e.Pe}function ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!HC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!PT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cb(r.startAt,e.startAt)&&cb(r.endAt,e.endAt)}function pg(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function eI(r,e,t,s,o,u,h,m){return new Vo(r,e,t,s,o,u,h,m)}function sp(r){return new Vo(r)}function db(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function UT(r){return r.collectionGroup!==null}function lu(r){const e=Se(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Xt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new bu(u,s))}),t.has(Xt.keyField().canonicalString())||e.Te.push(new bu(Xt.keyField(),s))}return e.Te}function Rr(r){const e=Se(r);return e.Ie||(e.Ie=tI(e,lu(r))),e.Ie}function tI(r,e){if(r.limitType==="F")return hb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bu(o.field,u)});const t=r.endAt?new $h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $h(r.startAt.position,r.startAt.inclusive):null;return hb(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function yg(r,e){const t=r.filters.concat([e]);return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function vg(r,e,t){return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function fd(r,e){return ip(Rr(r),Rr(e))&&r.limitType===e.limitType}function zT(r){return`${rp(Rr(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>jT(o)).join(", ")}]`),hd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ao(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(Rr(r))}; limitType=${r.limitType})`}function md(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of lu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=ub(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,lu(s),o)||s.endAt&&!function(h,m,g){const p=ub(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,lu(s),o))}(r,e)}function nI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,t)=>{let s=!1;for(const o of lu(r)){const u=rI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rI(r,e,t){const s=r.field.isKeyField()?ye.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?xo(g,p):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new lt(ye.comparator);function gi(){return iI}const qT=new lt(ye.comparator);function nu(...r){let e=qT;for(const t of r)e=e.insert(t.key,t);return e}function FT(r){let e=qT;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ia(){return uu()}function HT(){return uu()}function uu(){return new pa(r=>r.toString(),(r,e)=>r.isEqual(e))}const sI=new lt(ye.comparator),aI=new Mt(ye.comparator);function Ve(...r){let e=aI;for(const t of r)e=e.add(t);return e}const oI=new Mt(Ce);function lI(){return oI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function GT(r){return{integerValue:""+r}}function uI(r,e){return PC(e)?GT(e):ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function cI(r,e,t){return r instanceof Eu?function(o,u){const h={fields:{[RT]:{stringValue:ST},[CT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=dd(u)),u&&(h.fields[NT]=u),{mapValue:h}}(t,e):r instanceof Tu?KT(r,e):r instanceof wu?QT(r,e):function(o,u){const h=$T(o,u),m=fb(h)+fb(o.Ee);return mg(h)&&mg(o.Ee)?GT(m):ap(o.serializer,m)}(r,e)}function hI(r,e,t){return r instanceof Tu?KT(r,e):r instanceof wu?QT(r,e):t}function $T(r,e){return r instanceof Kh?function(s){return mg(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eu extends gd{}class Tu extends gd{constructor(e){super(),this.elements=e}}function KT(r,e){const t=YT(e);for(const s of r.elements)t.some(o=>kr(o,s))||t.push(s);return{arrayValue:{values:t}}}class wu extends gd{constructor(e){super(),this.elements=e}}function QT(r,e){let t=YT(e);for(const s of r.elements)t=t.filter(o=>!kr(o,s));return{arrayValue:{values:t}}}class Kh extends gd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function fb(r){return _t(r.integerValue||r.doubleValue)}function YT(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t){this.field=e,this.transform=t}}function fI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Tu&&o instanceof Tu||s instanceof wu&&o instanceof wu?wo(s.elements,o.elements,kr):s instanceof Kh&&o instanceof Kh?kr(s.Ee,o.Ee):s instanceof Eu&&o instanceof Eu}(r.transform,e.transform)}class mI{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pd{}function XT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new op(r.key,Jn.none()):new Du(r.key,r.data,Jn.none());{const t=r.data,s=yn.empty();let o=new Mt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new _s(r.key,s,new Rn(o.toArray()),Jn.none())}}function gI(r,e,t){r instanceof Du?function(o,u,h){const m=o.value.clone(),g=gb(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof _s?function(o,u,h){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=gb(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(WT(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function cu(r,e,t,s){return r instanceof Du?function(u,h,m,g){if(!kh(u.precondition,h))return m;const p=u.value.clone(),E=pb(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,t,s):r instanceof _s?function(u,h,m,g){if(!kh(u.precondition,h))return m;const p=pb(u.fieldTransforms,g,h),E=h.data;return E.setAll(WT(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,t,s):function(u,h,m){return kh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function pI(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=$T(s.transform,o||null);u!=null&&(t===null&&(t=yn.empty()),t.set(s.field,u))}return t||null}function mb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,(u,h)=>fI(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends pd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends pd{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function gb(r,e,t){const s=new Map;He(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,hI(h,m,t[o]))}return s}function pb(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,cI(u,h,e))}return s}class op extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gI(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=HT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=XT(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(t,s)=>mb(t,s))&&wo(this.baseMutations,e.baseMutations,(t,s)=>mb(t,s))}}class lp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return sI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new lp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ue;function EI(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function ZT(r){if(r===void 0)return fi("GRPC error has no .code"),J.UNKNOWN;switch(r){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=xt||(xt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new ss([4294967295,4294967295],0);function yb(r){const e=bT().encode(r),t=new dT;return t.update(e),new Uint8Array(t.digest())}function vb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([t,s],0),new ss([o,u],0)]}class up{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ss.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(ss.fromNumber(s)));return o.compare(TI)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=yb(e),[s,o]=vb(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new up(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=yb(e),[s,o]=vb(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new yd(Ae.min(),o,new lt(Ce),gi(),Ve())}}class Ou{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ou(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class JT{constructor(e,t){this.targetId=e,this.De=t}}class ew{constructor(e,t,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class _b{constructor(){this.ve=0,this.Ce=bb(),this.Fe=Wt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),s=Ve();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Ou(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=bb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class wI{constructor(e){this.We=e,this.Ge=new Map,this.ze=gi(),this.je=fh(),this.Je=fh(),this.He=new lt(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(pg(u))if(s===0){const h=new ye(u.path);this.Xe(t,h,rn.newNoDocument(h,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=hs(s).toUint8Array()}catch(g){if(g instanceof AT)return ls("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new up(h,o,u)}catch(g){return ls(g instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&pg(m.target)){const g=new ye(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,rn.newNoDocument(g,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=Ve();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new yd(e,t,this.He,this.ze,s);return this.ze=gi(),this.je=fh(),this.Je=fh(),this.He=new lt(Ce),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new _b,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _b),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function fh(){return new lt(ye.comparator)}function bb(){return new lt(ye.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},AI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SI={and:"AND",or:"OR"};class RI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _g(r,e){return r.useProto3Json||hd(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NI(r,e){return Qh(r,e.toTimestamp())}function Nr(r){return He(!!r,49232),Ae.fromTimestamp(function(t){const s=cs(t);return new et(s.seconds,s.nanos)}(r))}function cp(r,e){return bg(r,e).canonicalString()}function bg(r,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function nw(r){const e=rt.fromString(r);return He(ow(e),10190,{key:e.toString()}),e}function Eg(r,e){return cp(r.databaseId,e.path)}function Hm(r,e){const t=nw(e);if(t.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(iw(t))}function rw(r,e){return cp(r.databaseId,e)}function CI(r){const e=nw(r);return e.length===4?rt.emptyPath():iw(e)}function Tg(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iw(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Eb(r,e,t){return{name:Eg(r,e),fields:t.value.mapValue.fields}}function II(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(He(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const E=p.code===void 0?J.UNKNOWN:ZT(p.code);return new he(E,p.message||"")}(h);t=new ew(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(r,s.document.name),u=Nr(s.document.updateTime),h=s.document.createTime?Nr(s.document.createTime):Ae.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=rn.newFoundDocument(o,u,h,m),p=s.targetIds||[],E=s.removedTargetIds||[];t=new Dh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(r,s.document),u=s.readTime?Nr(s.readTime):Ae.min(),h=rn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(r,s.document),u=s.removedTargetIds||[];t=new Dh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new bI(o,u),m=s.targetId;t=new JT(m,h)}}return t}function kI(r,e){let t;if(e instanceof Du)t={update:Eb(r,e.key,e.value)};else if(e instanceof op)t={delete:Eg(r,e.key)};else if(e instanceof _s)t={update:Eb(r,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof yI))return Te(16599,{Rt:e.type});t={verify:Eg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:NI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),t}function DI(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?Nr(o.updateTime):Nr(u);return h.isEqual(Ae.min())&&(h=Nr(u)),new mI(h,o.transformResults||[])}(t,e))):[]}function OI(r,e){return{documents:[rw(r,e.path)]}}function MI(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rw(r,o);const u=function(p){if(p.length!==0)return aw(tr.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(E=>function(w){return{field:mo(w.field),direction:jI(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=_g(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:o}}function VI(r){let e=CI(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(A){const w=sw(A);return w instanceof tr&&VT(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(w=>function(I){return new bu(go(I.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,hd(w)?null:w}(t.limit));let g=null;t.startAt&&(g=function(A){const w=!!A.before,D=A.values||[];return new $h(D,w)}(t.startAt));let p=null;return t.endAt&&(p=function(A){const w=!A.before,D=A.values||[];return new $h(D,w)}(t.endAt)),eI(e,o,h,u,m,"F",g,p)}function PI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return At.create(go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(s=>sw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function jI(r){return xI[r]}function LI(r){return AI[r]}function UI(r){return SI[r]}function mo(r){return{fieldPath:r.canonicalString()}}function go(r){return Xt.fromServerFormat(r.fieldPath)}function aw(r){return r instanceof At?function(t){if(t.op==="=="){if(lb(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(ob(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lb(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(ob(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:LI(t.op),value:t.value}}}(r):r instanceof tr?function(t){const s=t.getFilters().map(o=>aw(o));return s.length===1?s[0]:{compositeFilter:{op:UI(t.op),filters:s}}}(r):Te(54877,{filter:r})}function zI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ow(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),m=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.gt=e}}function qI(r){const e=VI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Dn=new HI}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(us.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class HI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Mt(rt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(lw,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new So(0)}static ur(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="LruGarbageCollector",GI=1048576;function xb([r,e],[t,s]){const o=Ce(r,t);return o===0?Ce(e,s):o}class $I{constructor(e){this.Tr=e,this.buffer=new Mt(xb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(wb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?fe(wb,"Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.Rr(3e5)})}}class QI{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(cd.ue);const s=new $I(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Tb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(p=Date.now(),ho()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function YI(r,e){return new QI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&cu(s.mutation,o,Rn.empty(),et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=nu();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=gi();const h=uu(),m=function(){return uu()}();return t.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),cu(E.mutation,p,E.mutation.getFieldMask(),et.now())):h.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>h.set(p,E)),t.forEach((p,E)=>{var A;return m.set(p,new WI(E,(A=h.get(p))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=uu();let o=new lt((h,m)=>h-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let E=s.get(g)||Rn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const A=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,A=HT();E.forEach(w=>{if(!u.has(w)){const D=XT(t.get(w),s.get(w));D!==null&&A.set(w,D),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,A))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(ia());let m=pu,g=u;return h.next(p=>ne.forEach(p,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{g=g.insert(E,w)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Ve())).next(E=>({batchId:m,changes:FT(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=nu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=nu();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,g=>{const p=function(A,w){return new Vo(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,rn.newInvalidDocument(E)))});let m=nu();return h.forEach((g,p)=>{const E=u.get(g);E!==void 0&&cu(E.mutation,p,Rn.empty(),et.now()),md(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:qI(o.bundledQuery),readTime:Nr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.overlays=new lt(ye.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=ia(),u=t.length+1,h=new ye(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((p,E)=>p-E);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=ia(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=ia(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return ne.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new _I(t,s));let u=this.kr.get(t);u===void 0&&(u=Ve(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.qr=new Mt(Bt.Qr),this.$r=new Mt(Bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Bt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ye(new rt([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ye(new rt([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=Ve();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Bt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ye.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mt(Bt.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vI(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ep:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mt(Ce);return t.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),ne.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ye(u),0);let m=new Mt(Ce);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)},h),ne.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ne.forEach(t.mutations,o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Yr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.ni=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let s=gi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=gi();const h=t.path,m=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||DC(kC(E),s)<=0||(o.has(E.key)||md(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ri(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ik(this)}getSize(e){return ne.resolve(this.size)}}class ik extends XI{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.persistence=e,this.ii=new pa(t=>rp(t),ip),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new hp,this.targetCount=0,this._i=So.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new So(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.ai={},this.overlays={},this.ui=new cd(0),this.ci=!1,this.ci=!0,this.li=new tk,this.referenceDelegate=e(this),this.hi=new sk(this),this.indexManager=new FI,this.remoteDocumentCache=function(o){return new rk(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new BI(t),this.Ti=new JI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ek,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new nk(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new ak(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class ak extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ai=new hp,this.Ri=null}static Vi(e){return new dp(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,s=>{const o=ye.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Yh{constructor(e,t){this.persistence=e,this.gi=new pa(s=>jC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=YI(this,t)}static Vi(e,t){return new Yh(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}Sr(e,t,s){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zS()?8:VC(sn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ok;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(ho()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(ho()<=Me.DEBUG&&fe("QueryEngine","Query:",fo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ho()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(t))):ne.resolve())}ps(e,t){if(db(t))return ne.resolve(null);let s=Rr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vg(t,null,"F"),s=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.bs(t,m);return this.Ds(t,p,h,g.readTime)?this.ps(e,vg(t,null,"F")):this.vs(e,p,t,g)}))})))}ys(e,t,s,o){return db(t)||o.isEqual(Ae.min())?ne.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?ne.resolve(null):(ho()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.vs(e,h,t,IC(o,pu)).next(m=>m))})}bs(e,t){let s=new Mt(BT(e));return t.forEach((o,u)=>{md(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return ho()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",fo(t)),this.gs.getDocumentsMatchingQuery(e,t,us.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="LocalStore",uk=3e8;class ck{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new lt(Ce),this.Ms=new pa(u=>rp(u),ip),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function hk(r,e,t,s){return new ck(r,e,t,s)}async function cw(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Ve();for(const p of o){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Bs:p,removedBatchIds:h,addedBatchIds:m}))})})}function dk(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const A=p.batch,w=A.keys();let D=ne.resolve();return w.forEach(I=>{D=D.next(()=>E.getEntry(g,I)).next(F=>{const j=p.docVersions.get(I);He(j!==null,48541),F.version.compareTo(j)<0&&(A.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),E.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ve();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function hw(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function fk(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(t.hi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,E.addedDocuments,A)));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(A,D),function(F,j,K){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=uk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,D,E)&&m.push(t.hi.updateTargetData(u,D))});let g=gi(),p=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mk(u,h,e.documentUpdates).next(E=>{g=E.Ls,p=E.ks})),!s.isEqual(Ae.min())){const E=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Fs=o,u))}function mk(r,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=gi();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):fe(mp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function gk(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ep),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pk(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function wg(r,e,t){const s=Se(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Mo(h))throw h;fe(mp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Ab(r,e,t){const s=Se(r);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,E){const A=Se(g),w=A.Ms.get(E);return w!==void 0?ne.resolve(A.Fs.get(w)):A.hi.getTargetData(p,E)}(s,h,Rr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Ve())).next(m=>(yk(s,nI(e),m),{documents:m,qs:u})))}function yk(r,e,t){let s=r.xs.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class Sb{constructor(){this.activeTargetIds=lI()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vk{constructor(){this.Fo=new Sb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="ConnectivityMonitor";class Nb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(Rb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(Rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function xg(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ek{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=xg(),m=this.Go(e,t.toUriEncodedString());fe(Gm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(m),E=ps(p);return this.jo(e,m,g,s,E).then(A=>(fe(Gm,`Received RPC '${e}' ${h}: `,A),A),A=>{throw ls(Gm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=bk[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class wk extends Ek{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=xg();return new Promise((m,g)=>{const p=new fT;p.setWithCredentials(!0),p.listenOnce(mT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const A=p.getResponseJson();fe(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case Nh.TIMEOUT:fe(tn,`RPC '${e}' ${h} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const w=p.getStatus();if(fe(tn,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const I=D==null?void 0:D.error;if(I&&I.status&&I.message){const F=function(K){const G=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN}(I.status);g(new he(F,I.message))}else g(new he(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{fe(tn,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);fe(tn,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",E,s,15)})}P_(e,t,s){const o=xg(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=yT(),m=pT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=u.join("");fe(tn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=h.createWebChannel(E,g);this.T_(A);let w=!1,D=!1;const I=new Tk({Ho:j=>{D?fe(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(fe(tn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),fe(tn,`RPC '${e}' stream ${o} sending:`,j),A.send(j))},Yo:()=>A.close()}),F=(j,K,G)=>{j.listen(K,ee=>{try{G(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return F(A,tu.EventType.OPEN,()=>{D||(fe(tn,`RPC '${e}' stream ${o} transport opened.`),I.s_())}),F(A,tu.EventType.CLOSE,()=>{D||(D=!0,fe(tn,`RPC '${e}' stream ${o} transport closed`),I.__(),this.I_(A))}),F(A,tu.EventType.ERROR,j=>{D||(D=!0,ls(tn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),I.__(new he(J.UNAVAILABLE,"The operation could not be completed")))}),F(A,tu.EventType.MESSAGE,j=>{var K;if(!D){const G=j.data[0];He(!!G,16349);const ee=G,ie=(ee==null?void 0:ee.error)||((K=ee[0])===null||K===void 0?void 0:K.error);if(ie){fe(tn,`RPC '${e}' stream ${o} received error:`,ie);const ae=ie.status;let de=function(R){const M=xt[R];if(M!==void 0)return ZT(M)}(ae),k=ie.message;de===void 0&&(de=J.INTERNAL,k="Unknown error status: "+ae+" with message "+ie.message),D=!0,I.__(new he(de,k)),A.close()}else fe(tn,`RPC '${e}' stream ${o} received:`,G),I.a_(G)}}),F(m,gT.STAT_EVENT,j=>{j.stat===hg.PROXY?fe(tn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===hg.NOPROXY&&fe(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(r){return new RI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="PersistentStream";class fw{constructor(e,t,s,o,u,h,m,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(Cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xk extends fw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=II(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Nr(h.readTime):Ae.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Tg(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=pg(g)?{documents:OI(u,g)}:{query:MI(u,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=tw(u,h.resumeToken);const p=_g(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const p=_g(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=PI(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.k_(t)}}class Ak extends fw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=DI(e.writeResults,e.commitTime),s=Nr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Tg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>kI(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{}class Rk extends Sk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,bg(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,bg(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Nk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fi(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class Ck{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{ya(this)&&(fe(ha,"Restarting streams for network reachability change."),await async function(g){const p=Se(g);p.Ia.add(4),await Mu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await _d(p)}(this))})}),this.Aa=new Nk(s,o)}}async function _d(r){if(ya(r))for(const e of r.da)await e(!0)}async function Mu(r){for(const e of r.da)await e(!1)}function mw(r,e){const t=Se(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),vp(t)?yp(t):Po(t).x_()&&pp(t,e))}function gp(r,e){const t=Se(r),s=Po(t);t.Ta.delete(e),s.x_()&&gw(t,e),t.Ta.size===0&&(s.x_()?s.B_():ya(t)&&t.Aa.set("Unknown"))}function pp(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).H_(e)}function gw(r,e){r.Ra.$e(e),Po(r).Y_(e)}function yp(r){r.Ra=new wI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Aa.aa()}function vp(r){return ya(r)&&!Po(r).M_()&&r.Ta.size>0}function ya(r){return Se(r).Ia.size===0}function pw(r){r.Ra=void 0}async function Ik(r){r.Aa.set("Online")}async function kk(r){r.Ta.forEach((e,t)=>{pp(r,e)})}async function Dk(r,e){pw(r),vp(r)?(r.Aa.la(e),yp(r)):r.Aa.set("Unknown")}async function Ok(r,e,t){if(r.Aa.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){fe(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(r,s)}else if(e instanceof Dh?r.Ra.Ye(e):e instanceof JT?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ae.min()))try{const s=await hw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ta.get(p);E&&u.Ta.set(p,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const E=u.Ta.get(g);if(!E)return;u.Ta.set(g,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),gw(u,g);const A=new ts(E.target,g,p,E.sequenceNumber);pp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){fe(ha,"Failed to raise snapshot:",s),await Xh(r,s)}}async function Xh(r,e,t){if(!Mo(e))throw e;r.Ia.add(1),await Mu(r),r.Aa.set("Offline"),t||(t=()=>hw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(ha,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await _d(r)})}function yw(r,e){return e().catch(t=>Xh(r,t,e))}async function bd(r){const e=Se(r),t=fs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ep;for(;Mk(e);)try{const o=await gk(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,Vk(e,o)}catch(o){await Xh(e,o)}vw(e)&&_w(e)}function Mk(r){return ya(r)&&r.Pa.length<10}function Vk(r,e){r.Pa.push(e);const t=fs(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function vw(r){return ya(r)&&!fs(r).M_()&&r.Pa.length>0}function _w(r){fs(r).start()}async function Pk(r){fs(r).na()}async function jk(r){const e=fs(r);for(const t of r.Pa)e.X_(t.mutations)}async function Lk(r,e,t){const s=r.Pa.shift(),o=lp.from(s,e,t);await yw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await bd(r)}async function Uk(r,e){e&&fs(r).Z_&&await async function(s,o){if(function(h){return EI(h)&&h!==J.ABORTED}(o.code)){const u=s.Pa.shift();fs(s).N_(),await yw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await bd(s)}}(r,e),vw(r)&&_w(r)}async function Ib(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),fe(ha,"RemoteStore received new credentials");const s=ya(t);t.Ia.add(3),await Mu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await _d(t)}async function zk(r,e){const t=Se(r);e?(t.Ia.delete(2),await _d(t)):e||(t.Ia.add(2),await Mu(t),t.Aa.set("Unknown"))}function Po(r){return r.Va||(r.Va=function(t,s,o){const u=Se(t);return u.ia(),new xk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:Ik.bind(null,r),e_:kk.bind(null,r),n_:Dk.bind(null,r),J_:Ok.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),vp(r)?yp(r):r.Aa.set("Unknown")):(await r.Va.stop(),pw(r))})),r.Va}function fs(r){return r.ma||(r.ma=function(t,s,o){const u=Se(t);return u.ia(),new Ak(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:Pk.bind(null,r),n_:Uk.bind(null,r),ea:jk.bind(null,r),ta:Lk.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await bd(r)):(await r.ma.stop(),r.Pa.length>0&&(fe(ha,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new _p(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(r,e){if(fi("AsyncQueue",`${e}: ${r}`),Mo(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=nu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.fa=new lt(ye.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,o,u,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ro(e,t,bo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class qk{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=Db(),u.forEach((h,m)=>{for(const g of m.wa)g.onError(s)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function Db(){return new pa(r=>zT(r),fd)}async function bw(r,e){const t=Se(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new Bk,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=bp(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Ep(t)}async function Ew(r,e){const t=Se(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Fk(r,e){const t=Se(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Ep(t)}function Hk(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function Ep(r){r.Da.forEach(e=>{e.next()})}var Ag,Ob;(Ob=Ag||(Ag={})).Fa="default",Ob.Cache="cache";class Tw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class Gk{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=BT(e),this.eu=new bo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new kb,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),D=md(this.query,A)?A:null,I=!!w&&this.mutatedKeys.has(w.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;w&&D?w.data.isEqual(D.data)?I!==F&&(s.track({type:3,doc:D}),j=!0):this.iu(w,D)||(s.track({type:2,doc:D}),j=!0,(g&&this.Xa(D,g)>0||p&&this.Xa(D,p)<0)&&(m=!0)):!w&&D?(s.track({type:0,doc:D}),j=!0):w&&!D&&(s.track({type:1,doc:w}),j=!0,(g||p)&&(m=!0)),j&&(D?(h=h.add(D),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((E,A)=>function(D,I){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:j})}};return F(D)-F(I)}(E.type,A.type)||this.Xa(E.doc,A.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,h.length!==0||p?{snapshot:new Ro(this.query,e.eu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new kb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new xw(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new ww(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ro.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Tp="SyncEngine";class $k{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Kk{constructor(e){this.key=e,this.lu=!1}}class Qk{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new pa(m=>zT(m),fd),this.Tu=new Map,this.Iu=new Set,this.du=new lt(ye.comparator),this.Eu=new Map,this.Au=new hp,this.Ru={},this.Vu=new Map,this.mu=So.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Yk(r,e,t=!0){const s=Iw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Aw(s,e,t,!0),o}async function Xk(r,e){const t=Iw(r);await Aw(t,e,!0,!1)}async function Aw(r,e,t,s){const o=await pk(r.localStore,Rr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Wk(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&mw(r.remoteStore,o),m}async function Wk(r,e,t,s,o){r.gu=(A,w,D)=>async function(F,j,K,G){let ee=j.view.nu(K);ee.Ds&&(ee=await Ab(F.localStore,j.query,!1).then(({documents:k})=>j.view.nu(k,ee)));const ie=G&&G.targetChanges.get(j.targetId),ae=G&&G.targetMismatches.get(j.targetId)!=null,de=j.view.applyChanges(ee,F.isPrimaryClient,ie,ae);return Vb(F,j.targetId,de._u),de.snapshot}(r,A,w,D);const u=await Ab(r.localStore,e,!0),h=new Gk(e,u.qs),m=h.nu(u.documents),g=Ou.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);Vb(r,t,p._u);const E=new $k(e,t,h);return r.Pu.set(e,E),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),p.snapshot}async function Zk(r,e,t){const s=Se(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!fd(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&gp(s.remoteStore,o.targetId),Sg(s,o.targetId)}).catch(Oo)):(Sg(s,o.targetId),await wg(s.localStore,o.targetId,!0))}async function Jk(r,e){const t=Se(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),gp(t.remoteStore,s.targetId))}async function eD(r,e,t){const s=oD(r);try{const o=await function(h,m){const g=Se(h),p=et.now(),E=m.reduce((D,I)=>D.add(I.key),Ve());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let I=gi(),F=Ve();return g.Os.getEntries(D,E).next(j=>{I=j,I.forEach((K,G)=>{G.isValidDocument()||(F=F.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,I)).next(j=>{A=j;const K=[];for(const G of m){const ee=pI(G,A.get(G.key).overlayedDocument);ee!=null&&K.push(new _s(G.key,ee,DT(ee.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,K,m)}).next(j=>{w=j;const K=j.applyToLocalDocumentSet(A,F);return g.documentOverlayCache.saveOverlays(D,j.batchId,K)})}).then(()=>({batchId:w.batchId,changes:FT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.Ru[h.currentUser.toKey()];p||(p=new lt(Ce)),p=p.insert(m,g),h.Ru[h.currentUser.toKey()]=p}(s,o.batchId,t),await Vu(s,o.changes),await bd(s.remoteStore)}catch(o){const u=bp(o,"Failed to persist write");t.reject(u)}}async function Sw(r,e){const t=Se(r);try{const s=await fk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?He(h.lu,14607):o.removedDocuments.size>0&&(He(h.lu,42227),h.lu=!1))}),await Vu(t,s,e)}catch(s){await Oo(s)}}function Mb(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Se(h);g.onlineState=m;let p=!1;g.queries.forEach((E,A)=>{for(const w of A.wa)w.va(m)&&(p=!0)}),p&&Ep(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tD(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new lt(ye.comparator);h=h.insert(u,rn.newNoDocument(u,Ae.min()));const m=Ve().add(u),g=new yd(Ae.min(),new Map,new lt(Ce),h,m);await Sw(s,g),s.du=s.du.remove(u),s.Eu.delete(e),wp(s)}else await wg(s.localStore,e,!1).then(()=>Sg(s,e,t)).catch(Oo)}async function nD(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await dk(t.localStore,e);Nw(t,s,null),Rw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(t,o)}catch(o){await Oo(o)}}async function rD(r,e,t){const s=Se(r);try{const o=await function(h,m){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(A=>(He(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(p,A))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,e);Nw(s,e,t),Rw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Vu(s,o)}catch(o){await Oo(o)}}function Rw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function Nw(r,e,t){const s=Se(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Sg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||Cw(r,s)})}function Cw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(gp(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),wp(r))}function Vb(r,e,t){for(const s of t)s instanceof ww?(r.Au.addReference(s.key,e),iD(r,s)):s instanceof xw?(fe(Tp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Cw(r,s.key)):Te(19791,{yu:s})}function iD(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(fe(Tp,"New document in limbo: "+t),r.Iu.add(s),wp(r))}function wp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ye(rt.fromString(e)),s=r.mu.next();r.Eu.set(s,new Kk(t)),r.du=r.du.insert(t,s),mw(r.remoteStore,new ts(Rr(sp(t.path)),s,"TargetPurposeLimboResolution",cd.ue))}}async function Vu(r,e,t){const s=Se(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,g)=>{h.push(s.gu(g,e,t).then(p=>{var E;if((p||t)&&s.isPrimaryClient){const A=p?!p.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(p){o.push(p);const A=fp.Es(g.targetId,p);u.push(A)}}))}),await Promise.all(h),s.hu.J_(o),await async function(g,p){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(p,w=>ne.forEach(w.Is,D=>E.persistence.referenceDelegate.addReference(A,w.targetId,D)).next(()=>ne.forEach(w.ds,D=>E.persistence.referenceDelegate.removeReference(A,w.targetId,D)))))}catch(A){if(!Mo(A))throw A;fe(mp,"Failed to update sequence numbers: "+A)}for(const A of p){const w=A.targetId;if(!A.fromCache){const D=E.Fs.get(w),I=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(I);E.Fs=E.Fs.insert(w,F)}}}(s.localStore,u))}async function sD(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){fe(Tp,"User change. New user:",e.toKey());const s=await cw(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new he(J.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(t,s.Bs)}}function aD(r,e){const t=Se(r),s=t.Eu.get(e);if(s&&s.lu)return Ve().add(s.key);{let o=Ve();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function Iw(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tD.bind(null,e),e.hu.J_=Fk.bind(null,e.eventManager),e.hu.pu=Hk.bind(null,e.eventManager),e}function oD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rD.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return hk(this.persistence,new lk,e.initialUser,this.serializer)}Du(e){return new uw(dp.Vi,this.serializer)}bu(e){return new vk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class lD extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){He(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KI(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new uw(s=>Yh.Vi(s,t),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sD.bind(null,this.syncEngine),await zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qk}()}createDatastore(e){const t=vd(e.databaseInfo.databaseId),s=function(u){return new wk(u)}(e.databaseInfo);return function(u,h,m,g){return new Rk(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new Ck(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Mb(this.syncEngine,t,0),function(){return Nb.C()?new Nb:new _k}())}createSyncEngine(e,t){return function(o,u,h,m,g,p,E){const A=new Qk(o,u,h,m,g,p);return E&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);fe(ha,"RemoteStore shutting down."),u.Ia.add(5),await Mu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class uD{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=bp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ms,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ls("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ls("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Pb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await cD(r);fe(ms,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Ib(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Ib(e.remoteStore,o)),r._onlineComponents=e}async function cD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ms,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ls("Error using user provided cache. Falling back to memory cache: "+t),await Km(r,new Wh)}}else fe(ms,"Using default OfflineComponentProvider"),await Km(r,new lD(void 0));return r._offlineComponents}async function Dw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ms,"Using user provided OnlineComponentProvider"),await Pb(r,r._uninitializedComponentsProvider._online)):(fe(ms,"Using default OnlineComponentProvider"),await Pb(r,new Rg))),r._onlineComponents}function hD(r){return Dw(r).then(e=>e.syncEngine)}async function Ow(r){const e=await Dw(r),t=e.eventManager;return t.onListen=Yk.bind(null,e.syncEngine),t.onUnlisten=Zk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Xk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jk.bind(null,e.syncEngine),t}function dD(r,e,t={}){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const E=new kw({next:w=>{E.Ou(),h.enqueueAndForget(()=>Ew(u,A));const D=w.docs.has(m);!D&&w.fromCache?p.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?p.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),A=new Tw(sp(m.path),E,{includeMetadataChanges:!0,ka:!0});return bw(u,A)}(await Ow(r),r.asyncQueue,e,t,s)),s.promise}function fD(r,e,t={}){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const E=new kw({next:w=>{E.Ou(),h.enqueueAndForget(()=>Ew(u,A)),w.fromCache&&g.source==="server"?p.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),A=new Tw(m,E,{includeMetadataChanges:!0,ka:!0});return bw(u,A)}(await Ow(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firestore.googleapis.com",Lb=!0;class Ub{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vw,this.ssl=Lb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GI)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bC;switch(s.type){case"firstParty":return new xC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=jb.get(t);s&&(fe("ComponentProvider","Removing Datastore"),jb.delete(t),s.terminate())}(this),Promise.resolve()}}function mD(r,e,t,s={}){var o;r=mi(r,Ed);const u=ps(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;u&&(Lg(`https://${g}`),Ug("Firestore",!0)),h.host!==Vw&&h.host!==g&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!oa(p,m)&&(r._setSettings(p),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=nn.MOCK_USER;else{E=RE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(w)}r._authCredentials=new EC(new _T(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Rt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ku(t,Rt._jsonSchema))return new Rt(e,s||null,new ye(rt.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:St("string",Rt._jsonSchemaVersion),referencePath:St("string")};class as extends va{constructor(e,t,s){super(e,t,sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ye(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function Ki(r,e,...t){if(r=dt(r),ET("collection","path",e),r instanceof Ed){const s=rt.fromString(e,...t);return Z_(s),new as(r,null,s)}{if(!(r instanceof Rt||r instanceof as))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...t));return Z_(s),new as(r.firestore,null,s)}}function Yi(r,e,...t){if(r=dt(r),arguments.length===1&&(e=Jg.newId()),ET("doc","path",e),r instanceof Ed){const s=rt.fromString(e,...t);return W_(s),new Rt(r,null,new ye(s))}{if(!(r instanceof Rt||r instanceof as))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...t));return W_(s),new Rt(r.firestore,r instanceof as?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="AsyncQueue";class Bb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dw(this,"async_queue_retry"),this.oc=()=>{const s=$m();s&&fe(zb,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=$m();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=$m();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new li;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mo(e))throw e;fe(zb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,fi("INTERNAL UNHANDLED ERROR: ",qb(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=_p.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:qb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function qb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class jo extends Ed{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Bb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bb(e),this._firestoreClient=void 0,await e}}}function gD(r,e){const t=typeof r=="object"?r:qg(),s=typeof r=="string"?r:Hh,o=id(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=xE("firestore");u&&mD(o,...u)}return o}function xp(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pD(r),r._firestoreClient}function pD(r){var e,t,s;const o=r._freezeSettings(),u=function(m,g,p,E){return new zC(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Mw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new uD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Wt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:St("string",Hn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:St("string",Cr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ir(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:St("string",Ir._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=/^__.*__$/;class vD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class Pw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class Ap{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Zh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jw(this.Ec)&&yD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class _D{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||vd(e)}Dc(e,t,s,o=!1){return new Ap({Ec:e,methodName:t,bc:s,path:Xt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(r){const e=r._freezeSettings(),t=vd(r._databaseId);return new _D(r._databaseId,!!e.ignoreUndefinedProperties,t)}function bD(r,e,t,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);Np("Data must be an object, but it was:",h,s);const m=Lw(s,h);let g,p;if(u.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=Ng(e,A,t);if(!h.contains(w))throw new he(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zw(E,w)||E.push(w)}g=new Rn(E),p=h.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,p=h.fieldTransforms;return new vD(new yn(m),g,p)}class xd extends wd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}class Rp extends wd{_toFieldTransform(e){return new dI(e.path,new Eu)}isEqual(e){return e instanceof Rp}}function ED(r,e,t,s){const o=r.Dc(1,e,t);Np("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();vs(s,(g,p)=>{const E=Cp(e,g,t);p=dt(p);const A=o.gc(E);if(p instanceof xd)u.push(E);else{const w=Pu(p,A);w!=null&&(u.push(E),h.set(E,w))}});const m=new Rn(u);return new Pw(h,m,o.fieldTransforms)}function TD(r,e,t,s,o,u){const h=r.Dc(1,e,t),m=[Ng(e,s,t)],g=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Ng(e,u[w])),g.push(u[w+1]);const p=[],E=yn.empty();for(let w=m.length-1;w>=0;--w)if(!zw(p,m[w])){const D=m[w];let I=g[w];I=dt(I);const F=h.gc(D);if(I instanceof xd)p.push(D);else{const j=Pu(I,F);j!=null&&(p.push(D),E.set(D,j))}}const A=new Rn(p);return new Pw(E,A,h.fieldTransforms)}function wD(r,e,t,s=!1){return Pu(t,r.Dc(s?4:3,e))}function Pu(r,e){if(Uw(r=dt(r)))return Np("Unsupported field value:",e,r),Lw(r,e);if(r instanceof wd)return function(s,o){if(!jw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let g=Pu(m,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=et.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof et){const u=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:tw(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ir)return function(h,m){return{mapValue:{fields:{[IT]:{stringValue:kT},[Gh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return ap(m.serializer,p)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${ud(s)}`)}(r,e)}function Lw(r,e){const t={};return xT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,(s,o)=>{const u=Pu(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Uw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof Cr||r instanceof Hn||r instanceof Rt||r instanceof wd||r instanceof Ir)}function Np(r,e,t){if(!Uw(t)||!TT(t)){const s=ud(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Ng(r,e,t){if((e=dt(e))instanceof Td)return e._internalPath;if(typeof e=="string")return Cp(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const xD=new RegExp("[~\\*/\\[\\]]");function Cp(r,e,t){if(e.search(xD)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Zh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(J.INVALID_ARGUMENT,m+r+g)}function zw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ad("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AD extends Bw{data(){return super.data()}}function Ad(r,e){return typeof e=="string"?Cp(r,e):e instanceof Td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ip{}class qw extends Ip{}function Xl(r,e,...t){let s=[];e instanceof Ip&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof kp).length,m=u.filter(g=>g instanceof Sd).length;if(h>1||h>0&&m>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Sd extends qw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Sd(e,t,s)}_apply(e){const t=this._parse(e);return Fw(e._query,t),new va(e.firestore,e.converter,yg(e._query,t))}_parse(e){const t=Sp(e.firestore);return function(u,h,m,g,p,E,A){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Gb(A,E);const I=[];for(const F of A)I.push(Hb(g,u,F));w={arrayValue:{values:I}}}else w=Hb(g,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Gb(A,E),w=wD(m,h,A,E==="in"||E==="not-in");return At.create(p,E,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function gh(r,e,t){const s=e,o=Ad("where",r);return Sd._create(o,s,t)}class kp extends Ip{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)Fw(h,g),h=yg(h,g)}(e._query,t),new va(e.firestore,e.converter,yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dp extends qw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dp(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(u,h)}(e._query,this._field,this._direction);return new va(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Fb(r,e="asc"){const t=e,s=Ad("orderBy",r);return Dp._create(s,t)}function Hb(r,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ab(r,new ye(s))}if(t instanceof Rt)return ab(r,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(t)}.`)}function Gb(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fw(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class RD{convertValue(e,t="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return vs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Gh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Ir(u)}convertGeoPoint(e){return new Cr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=dd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=cs(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);He(ow(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends Bw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ad("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=sa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:St("string",sa._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Oh extends sa{data(e={}){return super.data(e)}}class Eo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Oh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:CD(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){r=mi(r,Rt);const e=mi(r.firestore,jo);return dD(xp(e),r._key).then(t=>ID(e,r,t))}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:St("string",Eo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Hw extends RD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function Wl(r){r=mi(r,va);const e=mi(r.firestore,jo),t=xp(e),s=new Hw(e);return SD(r._query),fD(t,r._query).then(o=>new Eo(e,s,r,o))}function Qm(r,e,t,...s){r=mi(r,Rt);const o=mi(r.firestore,jo),u=Sp(o);let h;return h=typeof(e=dt(e))=="string"||e instanceof Td?TD(u,"updateDoc",r._key,e,t,s):ED(u,"updateDoc",r._key,e),Op(o,[h.toMutation(r._key,Jn.exists(!0))])}function $b(r){return Op(mi(r.firestore,jo),[new op(r._key,Jn.none())])}function Ym(r,e){const t=mi(r.firestore,jo),s=Yi(r),o=ND(r.converter,e);return Op(t,[bD(Sp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then(()=>s)}function Op(r,e){return function(s,o){const u=new li;return s.asyncQueue.enqueueAndForget(async()=>eD(await hD(s),o,u)),u.promise}(xp(r),e)}function ID(r,e,t){const s=t.docs.get(e._key),o=new Hw(r);return new sa(r,o,e._key,s,new iu(t.hasPendingWrites,t.fromCache),e.converter)}function yh(){return new Rp("serverTimestamp")}(function(e,t=!0){(function(o){Do=o})(ma),la(new os("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new jo(new TC(s.getProvider("auth-internal")),new AC(h,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(p.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),xr($_,K_,e),xr($_,K_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebasestorage.googleapis.com",$w="storageBucket",kD=2*60*1e3,DD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Dr{constructor(e,t,s=0){super(Xm(e),`Firebase Storage: ${t} (${Xm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Xm(r){return"storage/"+r}function Mp(){const r="An unknown error occurred, please check the error payload for server response.";return new mt(ft.UNKNOWN,r)}function OD(r){return new mt(ft.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function MD(r){return new mt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VD(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ft.UNAUTHENTICATED,r)}function PD(){return new mt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jD(r){return new mt(ft.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function LD(){return new mt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UD(){return new mt(ft.CANCELED,"User canceled the upload/download.")}function zD(r){return new mt(ft.INVALID_URL,"Invalid URL '"+r+"'.")}function BD(r){return new mt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function qD(){return new mt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$w+"' property when initializing the app?")}function FD(){return new mt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HD(){return new mt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function GD(r){return new mt(ft.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cg(r){return new mt(ft.INVALID_ARGUMENT,r)}function Kw(){return new mt(ft.APP_DELETED,"The Firebase app was deleted.")}function $D(r){return new mt(ft.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hu(r,e){return new mt(ft.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Zl(r){throw new mt(ft.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Nn.makeFromUrl(e,t)}catch{return new Nn(e,"")}if(s.path==="")return s;throw BD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${E}/b/${o}/o${w}`,"i"),I={bucket:1,path:3},F=t===Gw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",K=new RegExp(`^https?://${F}/${o}/${j}`,"i"),ee=[{regex:m,indices:g,postModify:u},{regex:D,indices:I,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let ie=0;ie<ee.length;ie++){const ae=ee[ie],de=ae.regex.exec(e);if(de){const k=de[ae.indices.bucket];let S=de[ae.indices.path];S||(S=""),s=new Nn(k,S),ae.postModify(s);break}}if(s==null)throw zD(e);return s}}class KD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(r,e,t){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function E(...j){p||(p=!0,e.apply(null,j))}function A(j){o=setTimeout(()=>{o=null,r(D,g())},j)}function w(){u&&clearTimeout(u)}function D(j,...K){if(p){w();return}if(j){w(),E.call(null,j,...K);return}if(g()||h){w(),E.call(null,j,...K);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,A(ee)}let I=!1;function F(j){I||(I=!0,w(),!p&&(o!==null?(j||(m=2),clearTimeout(o),A(0)):j||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,F(!0)},t),F}function YD(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(r){return r!==void 0}function WD(r){return typeof r=="object"&&!Array.isArray(r)}function Vp(r){return typeof r=="string"||r instanceof String}function Kb(r){return Pp()&&r instanceof Blob}function Pp(){return typeof Blob<"u"}function Qb(r,e,t,s){if(s<e)throw Cg(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Cg(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function Qw(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var aa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(aa||(aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t,s,o,u,h,m,g,p,E,A,w=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,F)=>{this.resolve_=I,this.reject_=F,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===aa.NO_ERROR,g=u.getStatus();if(!m||ZD(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===aa.ABORT;s(!1,new vh(!1,null,E));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new vh(p,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());XD(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=Mp();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Kw():UD();h(g)}else{const g=LD();h(g)}};this.canceled_?t(!1,new vh(!1,null,!0)):this.backoffId_=QD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function eO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function tO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function rO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function iO(r,e,t,s,o,u,h=!0,m=!1){const g=Qw(r.urlParams),p=r.url+g,E=Object.assign({},r.headers);return nO(E,e),eO(E,t),tO(E,u),rO(E,s),new JD(p,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aO(...r){const e=sO();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(Pp())return new Blob(r);throw new mt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oO(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(r){if(typeof atob>"u")throw GD("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wm{constructor(e,t){this.data=e,this.contentType=t||null}}function uO(r,e){switch(r){case wr.RAW:return new Wm(Yw(e));case wr.BASE64:case wr.BASE64URL:return new Wm(Xw(r,e));case wr.DATA_URL:return new Wm(hO(e),dO(e))}throw Mp()}function Yw(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function cO(r){let e;try{e=decodeURIComponent(r)}catch{throw hu(wr.DATA_URL,"Malformed data URL.")}return Yw(e)}function Xw(r,e){switch(r){case wr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw hu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case wr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw hu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=lO(e)}catch(o){throw o.message.includes("polyfill")?o:hu(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Ww{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hu(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=fO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function hO(r){const e=new Ww(r);return e.base64?Xw(wr.BASE64,e.rest):cO(e.rest)}function dO(r){return new Ww(r).contentType}function fO(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t){let s=0,o="";Kb(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Kb(this.data_)){const s=this.data_,o=oO(s,e,t);return o===null?null:new es(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new es(s,!0)}}static getBlob(...e){if(Pp()){const t=e.map(s=>s instanceof es?s.data_:s);return new es(aO.apply(null,t))}else{const t=e.map(h=>Vp(h)?uO(wr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new es(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r){let e;try{e=JSON.parse(r)}catch{return null}return WD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function gO(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Jw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r,e){return e}class cn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||pO}}let _h=null;function yO(r){return!Vp(r)||r.length<2?r:Jw(r)}function ex(){if(_h)return _h;const r=[];r.push(new cn("bucket")),r.push(new cn("generation")),r.push(new cn("metageneration")),r.push(new cn("name","fullPath",!0));function e(u,h){return yO(h)}const t=new cn("name");t.xform=e,r.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new cn("size");return o.xform=s,r.push(o),r.push(new cn("timeCreated")),r.push(new cn("updated")),r.push(new cn("md5Hash",null,!0)),r.push(new cn("cacheControl",null,!0)),r.push(new cn("contentDisposition",null,!0)),r.push(new cn("contentEncoding",null,!0)),r.push(new cn("contentLanguage",null,!0)),r.push(new cn("contentType",null,!0)),r.push(new cn("metadata","customMetadata",!0)),_h=r,_h}function vO(r,e){function t(){const s=r.bucket,o=r.fullPath,u=new Nn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function _O(r,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return vO(s,r),s}function tx(r,e,t){const s=Zw(e);return s===null?null:_O(r,s,t)}function bO(r,e,t,s){const o=Zw(e);if(o===null||!Vp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const E=r.bucket,A=r.fullPath,w="/b/"+h(E)+"/o/"+h(A),D=jp(w,t,s),I=Qw({alt:"media",token:p});return D+I})[0]}function EO(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class nx{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(r){if(!r)throw Mp()}function TO(r,e){function t(s,o){const u=tx(r,o,e);return rx(u!==null),u}return t}function wO(r,e){function t(s,o){const u=tx(r,o,e);return rx(u!==null),bO(u,o,r.host,r._protocol)}return t}function ix(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=PD():o=VD():t.getStatus()===402?o=MD(r.bucket):t.getStatus()===403?o=jD(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function xO(r){const e=ix(r);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=OD(r.path)),u.serverResponse=o.serverResponse,u}return t}function AO(r,e,t){const s=e.fullServerUrl(),o=jp(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new nx(o,u,wO(r,t),h);return m.errorHandler=xO(e),m}function SO(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function RO(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=SO(null,e)),s}function NO(r,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ee="";for(let ie=0;ie<2;ie++)ee=ee+Math.random().toString().slice(2);return ee}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const p=RO(e,s,o),E=EO(p,t),A="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+g+"--",D=es.getBlob(A,s,w);if(D===null)throw FD();const I={name:p.fullPath},F=jp(u,r.host,r._protocol),j="POST",K=r.maxUploadRetryTime,G=new nx(F,j,TO(r,t),K);return G.urlParams=I,G.headers=h,G.body=D.uploadData(),G.errorHandler=ix(e),G}class CO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Zl("cannot .send() more than once");if(ps(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IO extends CO{initXhr(){this.xhr_.responseType="text"}}function sx(){return new IO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){this._service=e,t instanceof Nn?this._location=t:this._location=Nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new da(e,t)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jw(this._location.path)}get storage(){return this._service}get parent(){const e=mO(this._location.path);if(e===null)return null;const t=new Nn(this._location.bucket,e);return new da(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $D(e)}}function kO(r,e,t){r._throwIfRoot("uploadBytes");const s=NO(r.storage,r._location,ex(),new es(e,!0),t);return r.storage.makeRequestWithTokens(s,sx).then(o=>({metadata:o,ref:r}))}function DO(r){r._throwIfRoot("getDownloadURL");const e=AO(r.storage,r._location,ex());return r.storage.makeRequestWithTokens(e,sx).then(t=>{if(t===null)throw HD();return t})}function OO(r,e){const t=gO(r._location.path,e),s=new Nn(r._location.bucket,t);return new da(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(r){return/^[A-Za-z]+:\/\//.test(r)}function VO(r,e){return new da(r,e)}function ax(r,e){if(r instanceof Lp){const t=r;if(t._bucket==null)throw qD();const s=new da(t,t._bucket);return e!=null?ax(s,e):s}else return e!==void 0?OO(r,e):r}function PO(r,e){if(e&&MO(e)){if(r instanceof Lp)return VO(r,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}else return ax(r,e)}function Yb(r,e){const t=e==null?void 0:e[$w];return t==null?null:Nn.makeFromBucketSpec(t,r)}function jO(r,e,t,s={}){r.host=`${e}:${t}`;const o=ps(e);o&&(Lg(`https://${r.host}/b`),Ug("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:RE(u,r.app.options.projectId))}class Lp{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Gw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kD,this._maxUploadRetryTime=DD,this._requests=new Set,o!=null?this._bucket=Nn.makeFromBucketSpec(o,this._host):this._bucket=Yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=Yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new KD(Kw());{const h=iO(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Xb="@firebase/storage",Wb="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="storage";function LO(r,e,t){return r=dt(r),kO(r,e,t)}function UO(r){return r=dt(r),DO(r)}function zO(r,e){return r=dt(r),PO(r,e)}function BO(r=qg(),e){r=dt(r);const s=id(r,ox).getImmediate({identifier:e}),o=xE("storage");return o&&qO(s,...o),s}function qO(r,e,t,s={}){jO(r,e,t,s)}function FO(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Lp(t,s,o,e,ma)}function HO(){la(new os(ox,FO,"PUBLIC").setMultipleInstances(!0)),xr(Xb,Wb,""),xr(Xb,Wb,"esm2017")}HO();const GO={apiKey:"AIzaSyAOwUu8Tuho3CquNcTaMfaHDVWtsSjKTo4",authDomain:"credores-1ea6f.firebaseapp.com",projectId:"credores-1ea6f",storageBucket:"credores-1ea6f.firebasestorage.app",messagingSenderId:"996837564068",appId:"1:996837564068:web:965180de6c3aedb1959031"},Up=IE(GO),Zm=vC(Up),hn=gD(Up),$O=BO(Up);let bh;const KO=new Uint8Array(16);function QO(){if(!bh&&(bh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bh(KO)}const Qt=[];for(let r=0;r<256;++r)Qt.push((r+256).toString(16).slice(1));function YO(r,e=0){return Qt[r[e+0]]+Qt[r[e+1]]+Qt[r[e+2]]+Qt[r[e+3]]+"-"+Qt[r[e+4]]+Qt[r[e+5]]+"-"+Qt[r[e+6]]+Qt[r[e+7]]+"-"+Qt[r[e+8]]+Qt[r[e+9]]+"-"+Qt[r[e+10]]+Qt[r[e+11]]+Qt[r[e+12]]+Qt[r[e+13]]+Qt[r[e+14]]+Qt[r[e+15]]}const XO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zb={randomUUID:XO};function Jb(r,e,t){if(Zb.randomUUID&&!r)return Zb.randomUUID();r=r||{};const s=r.random||(r.rng||QO)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,YO(s)}var Je=(r=>(r.Pendente="pendente",r.EmAnalise="em_analise",r.Aprovado="aprovado",r.Reprovado="reprovado",r))(Je||{}),qn=(r=>(r.Admin="admin",r.User="user",r.Viewer="viewer",r))(qn||{}),gn=(r=>(r.Active="active",r.Inactive="inactive",r))(gn||{});const Eh=r=>{var t,s;const e=r.data();return{id:r.id,...e,createdAt:((t=e.createdAt)==null?void 0:t.toDate())||new Date,approvedAt:((s=e.approvedAt)==null?void 0:s.toDate())||null}},eE=(r,e=1,t=48)=>{const s=r.phone.replace(/\D/g,"").match(/^(\d{2})(\d+)$/),o=s?s[1]:"",u=s?s[2]:r.phone.replace(/\D/g,""),h=r.bankData.accountType==="corrente"?"C":"P",m={name:r.companyName,personType:r.personType,typesId:["FO"],registerNumber:r.cnpj.replace(/\D/g,""),stateRegistrationNumber:r.stateRegistration,stateRegistrationType:r.stateRegistrationType,paymentTypeId:1,phone:o&&u?{ddd:o,number:u,type:"1"}:void 0,agents:[{agentId:t}],contacts:[{name:r.tradeName||r.companyName,phoneDdd:o,phoneNumber:u,email:r.email}],address:{cityId:r.address.cityId||e,streetName:r.address.street,number:r.address.number,complement:r.address.complement,neighborhood:r.address.neighborhood,zipCode:r.address.zipCode.replace(/\D/g,"")},accountStatement:{bankCode:r.bankData.bankCode.padStart(3,"0"),bankBranchNumber:r.bankData.agency,bankBranchDigit:r.bankData.agencyDigit,accountNumber:r.bankData.account,accountDigit:r.bankData.accountDigit,accountType:h,accountBeneficiaryName:r.companyName,accountBeneficiaryCnpjNumber:r.personType==="J"?r.cnpj.replace(/\D/g,""):void 0,accountBeneficiaryCpfNumber:r.personType==="F"?r.cnpj.replace(/\D/g,""):void 0}};return r.personType==="J"&&r.municipalRegistration&&(m.municipalSubscription=r.municipalRegistration),m};class WO{async login(e,t){const s=await rN(Zm,e,t);if(s.user){const o={id:s.user.uid,email:s.user.email,displayName:s.user.displayName||"",role:"user"};return localStorage.setItem("admin_user",JSON.stringify(o)),o}throw new Error("Credenciais inválidas.")}async logout(){localStorage.removeItem("admin_user"),await oN(Zm)}async getCurrentUser(){const e=localStorage.getItem("admin_user");return e?JSON.parse(e):new Promise(t=>{const s=aN(Zm,async o=>{if(s(),o){const u={id:o.uid,email:o.email,displayName:o.displayName||"",role:"user"};localStorage.setItem("admin_user",JSON.stringify(u)),t(u)}else t(null)})})}async checkIfAdmin(e){const t=Yi(hn,"admins",e.uid),s=await ph(t);if(s.exists()&&s.data().role==="admin")return{id:s.id,...s.data()};const o=Xl(Ki(hn,"admins"),gh("email","==",e.email),gh("role","==","admin")),u=await Wl(o);if(!u.empty){const h=u.docs[0];return{id:h.id,...h.data()}}return null}async createPreRegistration(e,t){const s=Ki(hn,"suppliers"),o=Xl(s,gh("cnpj","==",e));if(!(await Wl(o)).empty)throw new Error("CNPJ já cadastrado.");const h=Jb(),m=new Date;m.setDate(m.getDate()+1);const g=Ki(hn,"pre_registrations");return await Ym(g,{cnpj:e,email:t,token:h,expiresAt:et.fromDate(m),used:!1}),console.log(`A Cloud Function should now send an email to ${t} with token: ${h}`),{token:h}}async validateRegistrationToken(e){const t=Ki(hn,"pre_registrations"),s=Xl(t,gh("token","==",e)),o=await Wl(s);if(o.empty)return!1;const u=o.docs[0].data();return!(u.used||et.now()>u.expiresAt)}async createSupplier(e){const t={...e,status:Je.EmAnalise,createdAt:yh(),approvedAt:null},s=await Ym(Ki(hn,"suppliers"),t),o=await ph(s);return Eh(o)}async getSuppliers(){const e=Xl(Ki(hn,"suppliers"),Fb("createdAt","desc"));return(await Wl(e)).docs.map(Eh)}async getSupplierById(e){const t=Yi(hn,"suppliers",e),s=await ph(t);if(s.exists())return Eh(s)}async updateSupplier(e,t){const s=Yi(hn,"suppliers",e);await Qm(s,t)}async updateSupplierStatus(e,t,s){const o=Yi(hn,"suppliers",e),u={status:t};t===Je.Aprovado&&(u.approvedAt=yh(),u.rejectionReason=null),t===Je.Reprovado&&(u.rejectionReason=s||"Motivo não especificado."),await Qm(o,u);const h=await ph(o);return Eh(h)}async deleteSupplier(e){const t=Yi(hn,"suppliers",e);await $b(t)}async getUsers(){const e=Ki(hn,"users");return(await Wl(Xl(e,Fb("createdAt","desc")))).docs.map(s=>{var u,h;const o=s.data();return{id:s.id,...o,createdAt:((u=o.createdAt)==null?void 0:u.toDate())||new Date,lastLogin:((h=o.lastLogin)==null?void 0:h.toDate())||void 0}})}async createUser(e){const t=Ki(hn,"users"),s={email:e.email,name:e.name,role:e.role,status:"active",createdAt:yh(),createdBy:e.createdBy};return(await Ym(t,s)).id}async updateUserStatus(e,t){const s=Yi(hn,"users",e);await Qm(s,{status:t,updatedAt:yh()})}async deleteUser(e){const t=Yi(hn,"users",e);await $b(t)}async createCreditorInSienge(e,t,s){const o=eE(e,t,s);return console.log("Dados para enviar ao Sienge:",JSON.stringify(o,null,2)),o}async getSiengeCreditorData(e,t,s){return eE(e,t,s)}async uploadFile(e,t){const s=`supplier_documents/${t}/${Jb()}-${e.name}`,o=zO($O,s),u=await LO(o,e),h=await UO(u.ref);return{docName:e.name,storagePath:s,uploadedAt:new Date,url:h}}}const qt=new WO,lx=z.createContext(void 0),ZO=({children:r})=>{const[e,t]=z.useState(null),[s,o]=z.useState(!0);z.useEffect(()=>{(async()=>{try{const g=await qt.getCurrentUser();t(g)}catch(g){console.error("No active session",g),t(null)}finally{o(!1)}})()},[]);const u=async(m,g)=>{o(!0);try{const p=await qt.login(m,g);t(p)}catch(p){throw t(null),p}finally{o(!1)}},h=async()=>{o(!0),await qt.logout(),t(null),o(!1)};return v.jsx(lx.Provider,{value:{user:e,loading:s,login:u,logout:h},children:r})},ju=()=>{const r=z.useContext(lx);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),tE=r=>{const e=e4(r);return e.charAt(0).toUpperCase()+e.slice(1)},ux=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),t4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>z.createElement("svg",{ref:g,...n4,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:ux("lucide",o),...!u&&!t4(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,E])=>z.createElement(p,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(r,e)=>{const t=z.forwardRef(({className:s,...o},u)=>z.createElement(r4,{ref:u,iconNode:e,className:ux(`lucide-${JO(tE(r))}`,`lucide-${r}`,s),...o}));return t.displayName=tE(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s4=gt("arrow-left",i4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],o4=gt("ban",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],u4=gt("building",l4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h4=gt("check",c4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jh=gt("circle-check-big",d4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],m4=gt("cloud-upload",f4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p4=gt("download",g4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cx=gt("file-text",y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_4=gt("funnel",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ui=gt("loader",b4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],T4=gt("lock",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],x4=gt("log-out",w4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],S4=gt("mail",A4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],zp=gt("moon",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hx=gt("search",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dx=gt("send",C4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bp=gt("sun",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fx=gt("trash-2",k4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rd=gt("triangle-alert",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M4=gt("user-plus",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mx=gt("users",V4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gx=gt("x",P4),px=({onFilesChange:r})=>{const[e,t]=z.useState([]),[s,o]=z.useState(!1),u=z.useCallback(async p=>{if(!p||p.length===0)return;o(!0);const E=Array.from(p).map(w=>({docName:w.name,storagePath:"",uploadedAt:new Date,file:w,url:URL.createObjectURL(w)})),A=[...e,...E];t(A),r(A),setTimeout(()=>o(!1),1e3)},[e,r]),h=z.useCallback(p=>{p.preventDefault(),p.stopPropagation(),u(p.dataTransfer.files)},[u]),m=p=>{p.preventDefault(),p.stopPropagation()},g=p=>{const E=e.filter(A=>A.docName!==p);t(E),r(E)};return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",onDrop:h,onDragOver:m,onClick:()=>{var p;return(p=document.getElementById("file-input"))==null?void 0:p.click()},children:[v.jsx(m4,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[v.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Clique para enviar"})," ou arraste e solte"]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF ou JPG (máx. 5MB por arquivo)"}),v.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",accept:".pdf,.jpg,.jpeg",onChange:p=>u(p.target.files)})]}),s&&v.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[v.jsx(ui,{className:"animate-spin h-4 w-4 mr-2"}),"Enviando arquivos..."]}),e.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Arquivos Anexados:"}),v.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700 rounded-md border border-gray-200 dark:border-gray-700",children:e.map((p,E)=>v.jsxs("li",{className:"flex items-center justify-between p-3",children:[v.jsxs("div",{className:"flex items-center min-w-0",children:[v.jsx(cx,{className:"h-6 w-6 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),v.jsx("span",{className:"ml-3 text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:p.docName})]}),v.jsx("button",{type:"button",onClick:()=>g(p.docName),className:"ml-4 p-1 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:v.jsx(gx,{className:"h-4 w-4"})})]},E))})]})]})},j4=()=>{const[r,e]=z.useState({companyName:"",tradeName:"",cnpj:"",stateRegistration:"",stateRegistrationType:"C",municipalRegistration:"",personType:"J",email:"",phone:"",website:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},bankData:{bank:"",bankCode:"",agency:"",agencyDigit:"",account:"",accountDigit:"",accountType:"corrente",pixKey:""},submittedBy:""}),[t,s]=z.useState([]),[o,u]=z.useState(!1),[h,m]=z.useState(!1),[g,p]=z.useState(null),[E,A]=z.useState(()=>document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")),[w,D]=z.useState("empresa");z.useEffect(()=>{document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")},[]);const I=()=>{A(ie=>{const ae=!ie;return ae?(document.body.classList.add("dark"),document.body.classList.remove("light"),document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),ae})},F=ie=>{const{name:ae,value:de}=ie.target;e(k=>({...k,[ae]:de}))},j=ie=>{const{name:ae,value:de}=ie.target;e(k=>({...k,address:{...k.address,[ae]:de}}))},K=ie=>{const{name:ae,value:de}=ie.target;e(k=>({...k,bankData:{...k.bankData,[ae]:de}}))},G=ie=>{s(ie)},ee=async ie=>{if(ie.preventDefault(),t.length===0){alert("Por favor, anexe pelo menos um documento.");return}u(!0),p(null);try{const ae={...r,rejectionReason:null,uploadedDocuments:[]},de=await qt.createSupplier(ae),k=t.map(R=>qt.uploadFile(R.file,de.id)),S=await Promise.all(k);await qt.updateSupplier(de.id,{uploadedDocuments:S}),m(!0)}catch(ae){p({type:"error",text:ae.message||"Falha ao enviar cadastro. Tente novamente."})}finally{u(!1)}};return h?v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[v.jsx(Jh,{className:"h-16 w-16 text-green-500"}),v.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitação foi recebida e está em análise. Entraremos em contato em breve."}),v.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Novo Cadastro"})]}):v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4",style:{backgroundImage:"url('/credores/meioambiental.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[v.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[v.jsx(nd,{to:"/admin/login",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-700 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Acesso Admin"}),v.jsx("button",{onClick:I,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:E?v.jsx(Bp,{className:"h-5 w-5 text-yellow-500"}):v.jsx(zp,{className:"h-5 w-5 text-gray-700"})})]}),v.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-40 w-auto text-blue-700 dark:text-indigo-400"}),v.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100 drop-shadow-sm text-center tracking-tight",children:"Cadastro de Fornecedor"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),v.jsxs("div",{className:"flex justify-center mb-6 gap-2 flex-wrap",children:[v.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${w==="empresa"?"border-blue-600 text-blue-700 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>D("empresa"),children:"Dados da Empresa"}),v.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${w==="endereco"?"border-blue-600 text-blue-700 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>D("endereco"),children:"Endereço"}),v.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-lg font-semibold focus:outline-none transition-colors border-b-2 ${w==="bancario"?"border-blue-600 text-blue-700 bg-blue-50 dark:bg-gray-700 dark:text-indigo-400 dark:border-indigo-600":"border-transparent text-gray-700 dark:text-gray-300 bg-transparent"}`,onClick:()=>D("bancario"),children:"Dados Bancários"})]}),v.jsxs("form",{className:"space-y-8",onSubmit:ee,children:[w==="empresa"&&v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razão Social *"}),v.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:F,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),v.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:F,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ *"}),v.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:F,placeholder:"00.000.000/0000-00",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"personType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de Pessoa *"}),v.jsxs("select",{name:"personType",id:"personType",required:!0,onChange:ie=>e(ae=>({...ae,personType:ie.target.value})),value:r.personType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"J",children:"Jurídica"}),v.jsx("option",{value:"F",children:"Física"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"stateRegistration",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Inscrição Estadual *"}),v.jsx("input",{type:"text",name:"stateRegistration",id:"stateRegistration",required:!0,onChange:F,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"stateRegistrationType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de IE *"}),v.jsxs("select",{name:"stateRegistrationType",id:"stateRegistrationType",required:!0,onChange:ie=>e(ae=>({...ae,stateRegistrationType:ie.target.value})),value:r.stateRegistrationType,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"C",children:"Contribuinte"}),v.jsx("option",{value:"I",children:"Isento"}),v.jsx("option",{value:"N",children:"Não Contribuinte"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsxs("label",{htmlFor:"municipalRegistration",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:["Inscrição Municipal ",r.personType==="J"?"*":""]}),v.jsx("input",{type:"text",name:"municipalRegistration",id:"municipalRegistration",required:r.personType==="J",onChange:F,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone *"}),v.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:F,placeholder:"(00) 00000-0000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal *"}),v.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:F,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"website",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Site"}),v.jsx("input",{type:"url",name:"website",id:"website",onChange:F,placeholder:"https://www.exemplo.com",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato *"}),v.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:F,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),w==="endereco"&&v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereço"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP *"}),v.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:j,placeholder:"00000-000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-4",children:[v.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro *"}),v.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:j,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"number",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Número *"}),v.jsx("input",{type:"text",name:"number",id:"number",required:!0,onChange:j,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"complement",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Complemento"}),v.jsx("input",{type:"text",name:"complement",id:"complement",onChange:j,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Bairro *"}),v.jsx("input",{type:"text",name:"neighborhood",id:"neighborhood",required:!0,onChange:j,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade *"}),v.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:j,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado *"}),v.jsx("input",{type:"text",name:"state",id:"state",required:!0,onChange:j,placeholder:"UF",maxLength:2,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),w==="bancario"&&v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados Bancários"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"bank",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Banco *"}),v.jsx("input",{type:"text",name:"bank",id:"bank",required:!0,onChange:K,placeholder:"Nome do Banco",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"bankCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Código do Banco *"}),v.jsx("input",{type:"text",name:"bankCode",id:"bankCode",required:!0,onChange:K,placeholder:"000",maxLength:3,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"agency",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Agência *"}),v.jsx("input",{type:"text",name:"agency",id:"agency",required:!0,onChange:K,placeholder:"0000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-1",children:[v.jsx("label",{htmlFor:"agencyDigit",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Dígito"}),v.jsx("input",{type:"text",name:"agencyDigit",id:"agencyDigit",onChange:K,placeholder:"0",maxLength:1,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"accountType",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Tipo de Conta *"}),v.jsxs("select",{name:"accountType",id:"accountType",required:!0,onChange:K,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3",children:[v.jsx("option",{value:"",children:"Selecione..."}),v.jsx("option",{value:"corrente",children:"Conta Corrente"}),v.jsx("option",{value:"poupanca",children:"Conta Poupança"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"account",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Número da Conta *"}),v.jsx("input",{type:"text",name:"account",id:"account",required:!0,onChange:K,placeholder:"00000000",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-1",children:[v.jsx("label",{htmlFor:"accountDigit",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Dígito *"}),v.jsx("input",{type:"text",name:"accountDigit",id:"accountDigit",required:!0,onChange:K,placeholder:"0",maxLength:2,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"pixKey",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Chave PIX"}),v.jsx("input",{type:"text",name:"pixKey",id:"pixKey",onChange:K,placeholder:"CPF/CNPJ, e-mail, telefone ou chave aleatória",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm py-3"})]})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Anexe os documentos necessários, como Contrato Social e Certidões Negativas."}),v.jsx("div",{className:"mt-6",children:v.jsx(px,{onFilesChange:G})})]}),v.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:v.jsxs("button",{type:"submit",disabled:o,className:"inline-flex justify-center items-center px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-700 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-500 dark:disabled:text-gray-500",children:[o?v.jsx(ui,{className:"animate-spin h-5 w-5 mr-2"}):v.jsx(dx,{className:"h-5 w-5 mr-2"}),o?"Enviando...":"Cadastro de Fornecedor"]})})]}),g&&v.jsxs("div",{className:`flex items-start p-4 rounded-md ${g.type==="success"?"bg-green-50 dark:bg-green-900/50":"bg-red-50 dark:bg-red-900/50"}`,children:[g.type==="success"?v.jsx(Jh,{className:"h-5 w-5 text-green-500"}):v.jsx(Rd,{className:"h-5 w-5 text-red-500"}),v.jsx("p",{className:`ml-3 text-sm font-medium ${g.type==="success"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:g.text})]})]})]})},L4=()=>{const{token:r}=hE(),e=gs(),[t,s]=z.useState(null),[o,u]=z.useState({companyName:"",tradeName:"",cnpj:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:""},submittedBy:""}),[h,m]=z.useState([]),[g,p]=z.useState(!1),[E,A]=z.useState(!1);z.useEffect(()=>{(async()=>{if(!r){s(!1);return}const K=await qt.validateRegistrationToken(r);s(K)})()},[r]);const w=j=>{const{name:K,value:G}=j.target;u(ee=>({...ee,[K]:G}))},D=j=>{const{name:K,value:G}=j.target;u(ee=>({...ee,address:{...ee.address,[K]:G}}))},I=j=>{m(j)},F=async j=>{if(j.preventDefault(),h.length===0){alert("Por favor, anexe pelo menos um documento.");return}p(!0);try{const K={...o,rejectionReason:null,uploadedDocuments:[]},G=await qt.createSupplier(K),ee=h.map(ae=>qt.uploadFile(ae.file,G.id)),ie=await Promise.all(ee);await qt.updateSupplier(G.id,{uploadedDocuments:ie}),A(!0)}catch(K){console.error("Submission failed",K),alert("Falha ao enviar cadastro. Tente novamente.")}finally{p(!1)}};return t===null?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:v.jsx(ui,{className:"animate-spin h-16 w-16 text-blue-600 dark:text-indigo-400"})}):t?E?v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[v.jsx(Jh,{className:"h-16 w-16 text-green-500"}),v.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Cadastro Enviado com Sucesso!"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sua solicitação foi recebida e está em análise. Entraremos em contato em breve."}),v.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Início"})]}):v.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[v.jsxs("div",{className:"p-8",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"lucide lucide-building mx-auto h-12 w-12 text-blue-600 dark:text-indigo-400 mb-4"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Formulário de Cadastro"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Preencha todos os campos para finalizar seu cadastro."})]}),v.jsxs("form",{onSubmit:F,className:"p-8 pt-0 space-y-8",children:[v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Dados da Empresa"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Razão Social"}),v.jsx("input",{type:"text",name:"companyName",id:"companyName",required:!0,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"tradeName",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Nome Fantasia"}),v.jsx("input",{type:"text",name:"tradeName",id:"tradeName",onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"cnpj",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CNPJ"}),v.jsx("input",{type:"text",name:"cnpj",id:"cnpj",required:!0,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Telefone"}),v.jsx("input",{type:"text",name:"phone",id:"phone",required:!0,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail Principal"}),v.jsx("input",{type:"email",name:"email",id:"email",required:!0,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-3",children:[v.jsx("label",{htmlFor:"submittedBy",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"E-mail do Contato"}),v.jsx("input",{type:"email",name:"submittedBy",id:"submittedBy",required:!0,onChange:w,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),v.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-8",children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Endereço"}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6",children:[v.jsxs("div",{className:"col-span-full",children:[v.jsx("label",{htmlFor:"street",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Logradouro"}),v.jsx("input",{type:"text",name:"street",id:"street",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Cidade"}),v.jsx("input",{type:"text",name:"city",id:"city",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Estado"}),v.jsx("input",{type:"text",name:"state",id:"state",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"CEP"}),v.jsx("input",{type:"text",name:"zipCode",id:"zipCode",required:!0,onChange:D,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900 dark:text-gray-100",children:"Upload de Documentos"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Anexe os documentos necessários, como Contrato Social e Certidões Negativas."}),v.jsx("div",{className:"mt-6",children:v.jsx(px,{onFilesChange:I})})]}),v.jsx("div",{className:"flex items-center justify-end gap-x-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:v.jsxs("button",{type:"submit",disabled:g,className:"inline-flex justify-center items-center rounded-md bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-400 dark:disabled:bg-indigo-800 transition-colors",children:[g?v.jsx(ui,{className:"animate-spin h-5 w-5 mr-2"}):v.jsx(dx,{className:"h-5 w-5 mr-2"}),g?"Enviando...":"Enviar Cadastro"]})})]})]})}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 p-4 text-center",children:[v.jsx(Rd,{className:"h-16 w-16 text-red-500"}),v.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Link de Cadastro Inválido"}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Este link é inválido ou já expirou. Por favor, solicite um novo link de cadastro."}),v.jsx("button",{onClick:()=>e("/"),className:"mt-6 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Voltar ao Início"})]})},U4=()=>{const[r,e]=z.useState(""),[t,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(!1),{login:g}=ju(),p=gs(),[E,A]=z.useState(()=>document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")),w=()=>{A(I=>{const F=!I;return F?(document.body.classList.add("dark"),document.body.classList.remove("light"),document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),F})},D=async I=>{I.preventDefault(),u(""),m(!0);try{await g(r,t),p("/admin/dashboard")}catch(F){u(F.message||"Falha no login. Verifique suas credenciais.")}finally{m(!1)}};return v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center items-center p-4",style:{backgroundImage:"url('/credores/meioambiental.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[v.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[v.jsx(nd,{to:"/",className:"font-medium px-4 py-2 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-700 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cadastro de Fornecedor"}),v.jsx("button",{onClick:w,className:"ml-2 p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:E?v.jsx(Bp,{className:"h-5 w-5 text-yellow-500"}):v.jsx(zp,{className:"h-5 w-5 text-gray-700"})})]}),v.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("img",{src:"/credores/ambiental.svg",alt:"Logo Ambiental",className:"mx-auto h-20 w-auto mb-4"}),v.jsx("h2",{className:"mt-4 text-2xl font-extrabold text-gray-900 dark:text-gray-100",children:"Acesso Administrativo"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Use as credenciais fornecidas para acessar o painel."})]}),v.jsxs("form",{className:"space-y-6",onSubmit:D,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"sr-only",children:"E-mail"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(S4,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"E-mail",value:r,onChange:I=>e(I.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(T4,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 text-gray-900 dark:text-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Senha",value:t,onChange:I=>s(I.target.value)})]})]}),o&&v.jsxs("div",{className:"flex items-start bg-red-50 dark:bg-red-900/50 p-3 rounded-md",children:[v.jsx(Rd,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),v.jsx("p",{className:"ml-2 text-sm text-red-700 dark:text-red-200",children:o})]}),v.jsx("div",{children:v.jsxs("button",{type:"submit",disabled:h,className:"inline-flex justify-center items-center w-full px-6 py-3 rounded-md shadow-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-blue-700 hover:bg-blue-50 dark:hover:bg-gray-700 dark:text-indigo-400 dark:hover:text-indigo-300 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-200 dark:disabled:bg-gray-900 disabled:text-gray-500 dark:disabled:text-gray-500",children:[h?v.jsx(ui,{className:"animate-spin h-5 w-5 mr-2"}):null,h?"Entrando...":"Entrar"]})})]})]})]})},z4=({status:r})=>{const e={[Je.Aprovado]:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",[Je.Reprovado]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[Je.EmAnalise]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",[Je.Pendente]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},t={[Je.Aprovado]:"Aprovado",[Je.Reprovado]:"Reprovado",[Je.EmAnalise]:"Em Análise",[Je.Pendente]:"Pendente"};return v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},B4=()=>{const[r,e]=z.useState([]),[t,s]=z.useState(!0),[o,u]=z.useState("all"),[h,m]=z.useState(""),[g,p]=z.useState(!1),[E,A]=z.useState(null),[w,D]=z.useState(!1),I=gs();z.useEffect(()=>{(async()=>{s(!0);try{const ee=await qt.getSuppliers();e(ee)}catch(ee){console.error("Failed to fetch suppliers",ee)}finally{s(!1)}})()},[]);const F=z.useMemo(()=>r.filter(G=>o==="all"||G.status===o).filter(G=>G.companyName.toLowerCase().includes(h.toLowerCase())||G.cnpj.includes(h)),[r,o,h]),j=G=>{A(G),p(!0)},K=async()=>{if(E){D(!0);try{await qt.deleteSupplier(E.id),e(G=>G.filter(ee=>ee.id!==E.id)),p(!1),A(null)}catch(G){console.error("Failed to delete supplier",G),alert("Erro ao excluir fornecedor. Tente novamente.")}finally{D(!1)}}};return t?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx(ui,{className:"animate-spin h-8 w-8 text-indigo-500"})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Lista de Fornecedores"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Gerencie e analise os cadastros de fornecedores."})]}),v.jsxs("div",{className:"relative w-full sm:w-64",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(hx,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Buscar por nome ou CNPJ...",value:h,onChange:G=>m(G.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),v.jsxs("div",{className:"mt-6 flex items-center space-x-2 overflow-x-auto pb-2",children:[v.jsx(_4,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mr-2 flex-shrink-0"}),["all",...Object.values(Je)].map(G=>v.jsx("button",{onClick:()=>u(G),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${o===G?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:G==="all"?"Todos":{[Je.Aprovado]:"Aprovados",[Je.Reprovado]:"Reprovados",[Je.EmAnalise]:"Em Análise",[Je.Pendente]:"Pendentes"}[G]},G))]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Empresa"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"CNPJ"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Data de Cadastro"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Status"}),v.jsx("th",{scope:"col",className:"relative px-6 py-3",children:v.jsx("span",{className:"sr-only",children:"Ações"})})]})}),v.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:F.length>0?F.map(G=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:G.companyName}),v.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:G.tradeName})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-400 font-mono",children:G.cnpj}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-400",children:new Date(G.createdAt).toLocaleDateString()}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx(z4,{status:G.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v.jsx("button",{onClick:()=>I(`/admin/supplier/${G.id}`),className:"text-blue-700 hover:text-blue-900 dark:text-indigo-400 dark:hover:text-indigo-200 font-semibold",children:"Ver Detalhes"}),v.jsx("button",{onClick:()=>j(G),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200 p-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir fornecedor",children:v.jsx(fx,{className:"h-4 w-4"})})]})})]},G.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 dark:text-gray-400",children:"Nenhum fornecedor encontrado com os filtros atuais."})})})]})})]}),g&&E&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Confirmar Exclusão"}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Tem certeza que deseja excluir o fornecedor ",v.jsx("strong",{children:E.name}),"? Esta ação não pode ser desfeita."]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>{p(!1),A(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:K,disabled:w,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?"Excluindo...":"Excluir"})]})]})})]})},q4=({status:r})=>{const e={active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",inactive:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},t={active:"Ativo",inactive:"Inativo"};return v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},F4=({role:r})=>{const e={admin:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",user:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",viewer:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"},t={admin:"Administrador",user:"Usuário",viewer:"Visualizador"};return v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r]}`,children:t[r]})},H4=()=>{const r=gs(),{user:e}=ju(),[t,s]=z.useState([]),[o,u]=z.useState(!0),[h,m]=z.useState("all"),[g,p]=z.useState("all"),[E,A]=z.useState(""),[w,D]=z.useState(!1),[I,F]=z.useState(!1),[j,K]=z.useState({email:"",name:"",role:qn.User,password:""}),[G,ee]=z.useState(!1),[ie,ae]=z.useState(!1),[de,k]=z.useState(null),[S,R]=z.useState(!1);z.useEffect(()=>{if(!e){r("/admin/login");return}M()},[e,r]);const M=async()=>{try{u(!0);const ue=await qt.getUsers();s(ue)}catch(ue){console.error("Failed to load users:",ue)}finally{u(!1)}},P=z.useMemo(()=>t.filter(ue=>h==="all"||ue.status===h).filter(ue=>g==="all"||ue.role===g).filter(ue=>ue.name.toLowerCase().includes(E.toLowerCase())||ue.email.toLowerCase().includes(E.toLowerCase())),[t,h,g,E]),U=async()=>{if(!j.email||!j.name||!j.password){alert("Preencha todos os campos obrigatórios");return}F(!0);try{await qt.createUser({...j,createdBy:(e==null?void 0:e.email)||"admin"}),D(!1),K({email:"",name:"",role:qn.User,password:""}),await M()}catch(ue){console.error("Failed to create user:",ue),alert("Erro ao criar usuário. Tente novamente.")}finally{F(!1)}},C=async()=>{if(de){R(!0);try{await qt.deleteUser(de.id),s(ue=>ue.filter(X=>X.id!==de.id)),ee(!1),k(null)}catch(ue){console.error("Failed to delete user:",ue),alert("Erro ao excluir usuário. Tente novamente.")}finally{R(!1)}}},Nt=async()=>{if(!de)return;const ue=de.status===gn.Active?gn.Inactive:gn.Active;R(!0);try{await qt.updateUserStatus(de.id,ue),s(X=>X.map(le=>le.id===de.id?{...le,status:ue}:le)),ae(!1),k(null)}catch(X){console.error("Failed to update user status:",X),alert("Erro ao atualizar status do usuário. Tente novamente.")}finally{R(!1)}};return o?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Carregando usuários..."})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Gerenciamento de Usuários"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Gerencie usuários do sistema."})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"relative w-full sm:w-64",children:[v.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:v.jsx(hx,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:E,onChange:ue=>A(ue.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),v.jsxs("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[v.jsx(M4,{className:"h-4 w-4"}),"Novo Usuário"]})]})]}),v.jsxs("div",{className:"mt-6 flex items-center space-x-2 overflow-x-auto pb-2",children:[["all",gn.Active,gn.Inactive].map(ue=>v.jsx("button",{onClick:()=>m(ue),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${h===ue?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:ue==="all"?"Todos":ue===gn.Active?"Ativos":"Inativos"},ue)),["all",qn.Admin,qn.User,qn.Viewer].map(ue=>v.jsx("button",{onClick:()=>p(ue),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors whitespace-nowrap ${g===ue?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:ue==="all"?"Todas Funções":ue===qn.Admin?"Administradores":ue===qn.User?"Usuários":"Visualizadores"},ue))]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Nome"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Email"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Função"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Status"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-100 uppercase tracking-wider",children:"Data de Criação"}),v.jsx("th",{scope:"col",className:"relative px-6 py-3",children:v.jsx("span",{className:"sr-only",children:"Ações"})})]})}),v.jsxs("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:[P.map(ue=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:ue.name})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-400",children:ue.email})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx(F4,{role:ue.role})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx(q4,{status:ue.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-400",children:ue.createdAt instanceof Date?ue.createdAt.toLocaleDateString("pt-BR"):new Date(ue.createdAt).toLocaleDateString("pt-BR")}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[v.jsx("button",{onClick:()=>{k(ue),ae(!0)},className:`p-2 rounded-lg transition-colors ${ue.status===gn.Active?"text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:ue.status===gn.Active?"Desativar usuário":"Ativar usuário",children:ue.status===gn.Active?v.jsx(o4,{className:"h-4 w-4"}):v.jsx(Jh,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>{k(ue),ee(!0)},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir usuário",children:v.jsx(fx,{className:"h-4 w-4"})})]})})]},ue.id)),P.length===0&&v.jsx("tr",{children:v.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[v.jsx(mx,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),v.jsx("p",{className:"text-lg font-medium",children:"Nenhum usuário encontrado"}),v.jsx("p",{className:"mt-1",children:"Tente ajustar os filtros ou criar um novo usuário."})]})})]})]})})]}),w&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Criar Novo Usuário"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),v.jsx("input",{type:"text",value:j.name,onChange:ue=>K(X=>({...X,name:ue.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Nome completo"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",value:j.email,onChange:ue=>K(X=>({...X,email:ue.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"email@exemplo.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha"}),v.jsx("input",{type:"password",value:j.password,onChange:ue=>K(X=>({...X,password:ue.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Senha temporária"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Função"}),v.jsxs("select",{value:j.role,onChange:ue=>K(X=>({...X,role:ue.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[v.jsx("option",{value:qn.User,children:"Usuário"}),v.jsx("option",{value:qn.Admin,children:"Administrador"}),v.jsx("option",{value:qn.Viewer,children:"Visualizador"})]})]})]}),v.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[v.jsx("button",{onClick:()=>{D(!1),K({email:"",name:"",role:qn.User,password:""})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:U,disabled:I,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:I?"Criando...":"Criar Usuário"})]})]})}),G&&de&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Confirmar Exclusão"}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Tem certeza que deseja excluir o usuário ",v.jsx("strong",{children:de.name}),"? Esta ação não pode ser desfeita."]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>{ee(!1),k(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:C,disabled:S,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:S?"Excluindo...":"Excluir"})]})]})}),ie&&de&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Alterar Status"}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Deseja ",de.status===gn.Active?"desativar":"ativar"," o usuário ",v.jsx("strong",{children:de.name}),"?"]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>{ae(!1),k(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:Nt,disabled:S,className:`px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${de.status===gn.Active?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700"}`,children:S?de.status===gn.Active?"Desativando...":"Ativando...":de.status===gn.Active?"Desativar":"Ativar"})]})]})})]})},Er=({label:r,value:e})=>v.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:r}),v.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2",children:e})]}),G4=()=>{const{id:r}=hE(),e=gs(),[t,s]=z.useState(null),[o,u]=z.useState(!0),[h,m]=z.useState(!1),[g,p]=z.useState(""),[E,A]=z.useState(!1);z.useEffect(()=>{if(!r)return;(async()=>{u(!0);const I=await qt.getSupplierById(r);I&&s(I),u(!1)})()},[r]);const w=async D=>{if(r){A(!0);try{const I=await qt.updateSupplierStatus(r,D,g);s(I),h&&m(!1)}catch(I){console.error(`Failed to ${D} supplier`,I)}finally{A(!1)}}};return o?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx(ui,{className:"animate-spin h-8 w-8 text-indigo-500"})}):t?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-lg rounded-lg",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[v.jsx(s4,{className:"h-4 w-4 mr-2"}),"Voltar para a lista"]}),v.jsx("h3",{className:"text-2xl font-bold leading-6 text-gray-900 dark:text-gray-100",children:t.companyName}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Detalhes do cadastro e documentos."})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("dl",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx(Er,{label:"Status",value:v.jsx("span",{className:`px-2 py-1 text-sm font-bold rounded-md ${{[Je.Aprovado]:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",[Je.Reprovado]:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",[Je.EmAnalise]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",[Je.Pendente]:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}[t.status]}`,children:t.status.replace("_"," ")})}),v.jsx(Er,{label:"Nome Fantasia",value:t.tradeName}),v.jsx(Er,{label:"CNPJ",value:v.jsx("span",{className:"font-mono",children:t.cnpj})}),v.jsx(Er,{label:"E-mail Principal",value:t.email}),v.jsx(Er,{label:"Telefone",value:t.phone}),v.jsx(Er,{label:"Endereço",value:`${t.address.street}, ${t.address.city}, ${t.address.state} - ${t.address.zipCode}`}),v.jsx(Er,{label:"Data de Cadastro",value:new Date(t.createdAt).toLocaleString()}),v.jsx(Er,{label:"Contato",value:t.submittedBy}),t.status===Je.Aprovado&&t.approvedAt&&v.jsx(Er,{label:"Data de Aprovação",value:new Date(t.approvedAt).toLocaleString()}),t.status===Je.Reprovado&&t.rejectionReason&&v.jsx(Er,{label:"Motivo da Reprovação",value:v.jsx("span",{className:"text-red-700 dark:text-red-300",children:t.rejectionReason})}),v.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Documentos Anexados"}),v.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2",children:v.jsx("ul",{role:"list",className:"border border-gray-200 dark:border-gray-600 rounded-md divide-y divide-gray-200 dark:divide-gray-600",children:t.uploadedDocuments.length>0?t.uploadedDocuments.map((D,I)=>v.jsxs("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[v.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[v.jsx(cx,{className:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),v.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:D.docName})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsxs("a",{href:D.url,download:D.docName,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-700 hover:text-blue-800 dark:text-indigo-400 dark:hover:text-indigo-300 flex items-center",children:[v.jsx(p4,{className:"h-4 w-4 mr-1"}),"Visualizar"]})})]},I)):v.jsx("li",{className:"pl-3 pr-4 py-3 text-sm text-gray-500",children:"Nenhum documento anexado."})})})]})]}),(t.status===Je.Pendente||t.status===Je.EmAnalise)&&v.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-end gap-4",children:[v.jsxs("button",{onClick:()=>m(!0),disabled:E,className:"w-full sm:w-auto flex justify-center items-center px-4 py-2 border border-red-300 dark:border-red-600 shadow-sm text-sm font-medium rounded-md text-red-700 dark:text-red-200 bg-white dark:bg-red-900/20 hover:bg-red-50 dark:hover:bg-red-900/40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:[v.jsx(gx,{className:"h-5 w-5 mr-2"}),"Reprovar"]}),v.jsxs("button",{onClick:()=>w(Je.Aprovado),disabled:E,className:"w-full sm:w-auto flex justify-center items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400",children:[E?v.jsx(ui,{className:"animate-spin h-5 w-5 mr-2"}):v.jsx(h4,{className:"h-5 w-5 mr-2"}),"Aprovar"]})]})]})]}),h&&v.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:v.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[v.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),v.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),v.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[v.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:v.jsxs("div",{className:"sm:flex sm:items-start",children:[v.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 sm:mx-0 sm:h-10 sm:w-10",children:v.jsx(Rd,{className:"h-6 w-6 text-red-600 dark:text-red-300","aria-hidden":"true"})}),v.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"modal-title",children:"Reprovar Cadastro"}),v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Por favor, insira o motivo da reprovação. Esta informação será enviada ao fornecedor."}),v.jsx("textarea",{rows:4,value:g,onChange:D=>p(D.target.value),className:"mt-4 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md",placeholder:"Ex: Documentação fiscal inconsistente."})]})]})]})}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[v.jsx("button",{type:"button",onClick:()=>w(Je.Reprovado),disabled:!g||E,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:bg-red-400",children:E?v.jsx(ui,{className:"animate-spin h-5 w-5 mr-2"}):"Confirmar Reprovação"}),v.jsx("button",{type:"button",onClick:()=>m(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]}):v.jsx("div",{className:"text-center py-10",children:"Fornecedor não encontrado."})},$4=()=>{const{user:r,logout:e}=ju(),t=gs(),s=pi(),o=async()=>{await e(),t("/admin/login")},[u,h]=rE.useState(()=>document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")),m=()=>{h(g=>{const p=!g;return p?(document.body.classList.add("dark"),document.body.classList.remove("light"),document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.body.classList.remove("dark"),document.body.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),p})};return v.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-md w-full",children:v.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-indigo-400",children:"Portal de Fornecedores"}),v.jsx("span",{className:"ml-4 text-sm text-gray-600 dark:text-gray-400 hidden sm:inline",children:"Painel Administrativo"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[v.jsxs("button",{onClick:()=>t("/admin/dashboard"),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.pathname==="/admin/dashboard"?"bg-blue-100 text-blue-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800"}`,children:[v.jsx(u4,{className:"h-4 w-4 mr-2"}),"Fornecedores"]}),v.jsxs("button",{onClick:()=>t("/admin/users"),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.pathname==="/admin/users"?"bg-blue-100 text-blue-800 dark:bg-indigo-900 dark:text-indigo-200":"text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800"}`,children:[v.jsx(mx,{className:"h-4 w-4 mr-2"}),"Usuários"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-gray-700 dark:text-gray-300 hidden md:inline",children:r==null?void 0:r.email}),v.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/50 hover:bg-red-200 dark:hover:bg-red-900/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition","aria-label":"Logout",children:[v.jsx(x4,{className:"h-4 w-4 mr-2"}),"Sair"]}),v.jsx("button",{onClick:m,className:"p-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Alternar tema",type:"button",children:u?v.jsx(Bp,{className:"h-5 w-5 text-yellow-500"}):v.jsx(zp,{className:"h-5 w-5 text-gray-700"})})]})]})})},Jm=({children:r})=>{const{user:e,loading:t}=ju();return t?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})}):e?v.jsx(v.Fragment,{children:r}):v.jsx(mE,{to:"/admin/login",replace:!0})},eg=({children:r})=>v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[v.jsx($4,{}),v.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:r})]}),K4=()=>{const{user:r}=ju();return v.jsxs(FA,{children:[v.jsx(Qi,{path:"/",element:v.jsx(j4,{})}),v.jsx(Qi,{path:"/register/:token",element:v.jsx(L4,{})}),v.jsx(Qi,{path:"/admin/login",element:v.jsx(U4,{})}),v.jsx(Qi,{path:"/admin/dashboard",element:v.jsx(Jm,{children:v.jsx(eg,{children:v.jsx(B4,{})})})}),v.jsx(Qi,{path:"/admin/users",element:v.jsx(Jm,{children:v.jsx(eg,{children:v.jsx(H4,{})})})}),v.jsx(Qi,{path:"/admin/supplier/:id",element:v.jsx(Jm,{children:v.jsx(eg,{children:v.jsx(G4,{})})})}),v.jsx(Qi,{path:"*",element:v.jsx(mE,{to:r?"/admin/dashboard":"/"})})]})},Q4=()=>v.jsx(ZO,{children:v.jsx(fS,{children:v.jsx(K4,{})})}),yx=document.getElementById("root");if(!yx)throw new Error("Could not find root element to mount to");const Y4=Z1.createRoot(yx);Y4.render(v.jsx(rE.StrictMode,{children:v.jsx(Q4,{})}));
